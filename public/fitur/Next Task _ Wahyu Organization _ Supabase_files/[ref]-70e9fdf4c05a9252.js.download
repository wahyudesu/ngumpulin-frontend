!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c85b4a35-6338-43aa-9cdd-62fc6a851125",e._sentryDebugIdIdentifier="sentry-dbid-c85b4a35-6338-43aa-9cdd-62fc6a851125")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7873],{23055:function(e){e.exports=function(e,t){for(var s,r=-1,a=e.length;++r<a;){var n=t(e[r]);void 0!==n&&(s=void 0===s?n:s+n)}return s}},64341:function(e,t,s){var r=s(55833),a=s(23055);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):0}},91726:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]",function(){return s(34441)}])},52195:function(e,t,s){"use strict";var r,a;s.d(t,{N:function(){return n},l:function(){return r}}),(a=r||(r={})).ERROR="ERROR",a.WARN="WARN",a.INFO="INFO";let n=[{id:"ERROR",label:"Errors",description:"You should consider these issues urgent and fix them as soon as you can.",descriptionShort:"Require immediate attention"},{id:"WARN",label:"Warnings",description:"You should try and read through these issues and fix them if necessary.",descriptionShort:"To resolve only if necessary"},{id:"INFO",label:"Info",description:"You should read through these suggestions and consider implementing them.",descriptionShort:"For consideration to implement"}]},70888:function(e,t,s){"use strict";s.d(t,{$K:function(){return i},Eh:function(){return u},GT:function(){return x},PJ:function(){return v},U_:function(){return a},W:function(){return f},ae:function(){return m},bj:function(){return g},dl:function(){return p},fg:function(){return y},jp:function(){return b},n7:function(){return o},tZ:function(){return h},up:function(){return j},xN:function(){return c}});var r,a,n=s(28977),l=s.n(n);let o="https://supabase.com/docs/guides/platform/logs#querying-with-the-logs-explorer",i=4,c=[{label:"Recent Errors",mode:"simple",searchString:"[Ee]rror|\\s[45][0-9][0-9]\\s",for:["api"]},{label:"Commits",mode:"simple",searchString:"COMMIT",for:["database"]},{label:"Commits By User",description:"Count of commits made by users on the database",mode:"custom",searchString:"select\n  p.user_name,\n  count(*) as count\nfrom postgres_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.parsed) as p on true\nwhere\n  regexp_contains(event_message, 'COMMIT')\ngroup by\n  p.user_name\n  ",for:["database"]},{label:"Metadata IP",description:"List all IP addresses that used the Supabase API",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  h.x_real_ip\nfrom edge_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.request) as r on true\n  left join unnest(r.headers) as h on true\nwhere h.x_real_ip is not null\n",for:["api"]},{label:"Requests by Country",description:"List all ISO 3166-1 alpha-2 country codes that used the Supabase API",mode:"custom",searchString:"select\n  cf.country,\n  count(*) as count\nfrom edge_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.request) as r on true\n  left join unnest(r.cf) as cf on true\ngroup by\n  cf.country\norder by\n  count desc\n",for:["api"]},{label:"Slow Response Time",mode:"custom",description:"List all Supabase API requests that are slow",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message,\n  r.origin_time\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as r\nwhere\n  r.origin_time > 1000\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"500 Request Codes",description:"List all Supabase API requests that responded witha 5XX status code",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message,\n  r.status_code\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as r\nwhere\n  r.status_code >= 500\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"Top Paths",description:"List the most requested Supabase API paths",mode:"custom",searchString:"select\n  r.path as path,\n  r.search as params,\n  count(timestamp) as c\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as r\ngroup by\n  path,\n  params\norder by\n  c desc\nlimit 100\n",for:["api"]},{label:"REST Requests",description:"List all PostgREST requests",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as r\nwhere\n  path like '%rest/v1%'\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"Errors",description:"List all Postgres error messages with ERROR, FATAL, or PANIC severity",mode:"custom",searchString:"select\n  cast(t.timestamp as datetime) as timestamp,\n  p.error_severity,\n  event_message\nfrom postgres_logs as t\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as p\nwhere\n  p.error_severity in ('ERROR', 'FATAL', 'PANIC')\norder by\n  timestamp desc\nlimit 100\n",for:["database"]},{label:"Error Count by User",description:"Count of errors by users",mode:"custom",searchString:"select\n  count(t.timestamp) as count,\n  p.user_name,\n  p.error_severity\nfrom postgres_logs as t\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as p\nwhere\n  p.error_severity in ('ERROR', 'FATAL', 'PANIC')\ngroup by\n  p.user_name,\n  p.error_severity\norder by\n  count desc\nlimit 100\n",for:["database"]},{label:"Auth Endpoint Events",description:"Endpoint events filtered by path",mode:"custom",searchString:'select\n  t.timestamp,\n  event_message\nfrom auth_logs as t\nwhere\n  regexp_contains(event_message,"level.{3}(info|warning||error|fatal)")\n  -- and regexp_contains(event_message,"path.{3}(/token|/recover|/signup|/otp)")\nlimit 100\n',for:["database"]},{label:"Storage Object Requests",description:"Number of requests done on Storage Objects",mode:"custom",searchString:"select\n  r.method as http_verb,\n  r.path as filepath,\n  count(*) as num_requests\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) AS r\n  cross join unnest(r.headers) AS h\nwhere\n  path like '%storage/v1/object/%'\ngroup by\n  r.path, r.method\norder by\n  num_requests desc\nlimit 100\n",for:["api"]},{label:"Storage Egress Requests",description:"Check the number of requests done on Storage Affecting Egress",mode:"custom",searchString:"select\n    r.method as http_verb,\n    r.path as filepath,\n    count(*) as num_requests,\n  from edge_logs\n    cross join unnest(metadata) as m\n    cross join unnest(m.request) AS r\n    cross join unnest(r.headers) AS h\n  where\n    (path like '%storage/v1/object/%' or path like '%storage/v1/render/%')\n    and r.method = 'GET'\n  group by\n    r.path, r.method\n  order by\n    num_requests desc\n  limit 100\n",for:["api"]},{label:"Storage Top Cache Misses",description:"The top Storage requests that miss caching",mode:"custom",searchString:"select\n  r.path as path,\n  r.search as search,\n  count(id) as count\nfrom edge_logs f\n  cross join unnest(f.metadata) as m\n  cross join unnest(m.request) as r\n  cross join unnest(m.response) as res\n  cross join unnest(res.headers) as h\nwhere starts_with(r.path, '/storage/v1/object')\n  and r.method = 'GET'\n  and h.cf_cache_status in ('MISS', 'NONE/UNKNOWN', 'EXPIRED', 'BYPASS', 'DYNAMIC')\ngroup by path, search\norder by count desc\nlimit 100\n",for:["api"]}],d={search_query:e=>"regexp_contains(event_message, '".concat(e,"')")},u={postgres_logs:{...d,database:e=>"identifier = '".concat(e,"'"),"severity.error":"parsed.error_severity in ('ERROR', 'FATAL', 'PANIC')","severity.noError":"parsed.error_severity not in ('ERROR', 'FATAL', 'PANIC')","severity.log":"parsed.error_severity = 'LOG'"},edge_logs:{...d,database:e=>"identifier = '".concat(e,"'"),"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499","product.database":"request.path like '/rest/%' or request.path like '/graphql/%'","product.storage":"request.path like '/storage/%'","product.auth":"request.path like '/auth/%'","product.realtime":"request.path like '/realtime/%'","method.get":"request.method = 'GET'","method.post":"request.method = 'POST'","method.put":"request.method = 'PUT'","method.patch":"request.method = 'PATCH'","method.delete":"request.method = 'DELETE'","method.options":"request.method = 'OPTIONS'"},function_edge_logs:{...d,"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499"},function_logs:{...d,"severity.error":"metadata.level = 'error'","severity.notError":"metadata.level != 'error'","severity.log":"metadata.level = 'log'","severity.info":"metadata.level = 'info'","severity.debug":"metadata.level = 'debug'","severity.warn":"metadata.level = 'warn'"},auth_logs:{...d,"severity.error":"metadata.level = 'error' or metadata.level = 'fatal'","severity.warning":"metadata.level = 'warning'","severity.info":"metadata.level = 'info'","status_code.server_error":"cast(metadata.status as int64) between 500 and 599","status_code.client_error":"cast(metadata.status as int64) between 400 and 499","status_code.redirection":"cast(metadata.status as int64) between 300 and 399","status_code.success":"cast(metadata.status as int64) between 200 and 299","endpoints.admin":'REGEXP_CONTAINS(metadata.path, "/admin")',"endpoints.signup":'REGEXP_CONTAINS(metadata.path, "/signup|/invite|/verify")',"endpoints.authentication":'REGEXP_CONTAINS(metadata.path, "/token|/authorize|/callback|/otp|/magiclink")',"endpoints.recover":'REGEXP_CONTAINS(metadata.path, "/recover")',"endpoints.user":'REGEXP_CONTAINS(metadata.path, "/user")',"endpoints.logout":'REGEXP_CONTAINS(metadata.path, "/logout")'},realtime_logs:{...d},storage_logs:{...d},postgrest_logs:{...d,database:e=>"identifier = '".concat(e,"'")},pgbouncer_logs:{...d},supavisor_logs:{...d,database:e=>"m.project like '".concat(e,"%'")},pg_cron_logs:{...d}};(r=a||(a={})).EDGE="edge_logs",r.POSTGRES="postgres_logs",r.FUNCTIONS="function_logs",r.FN_EDGE="function_edge_logs",r.AUTH="auth_logs",r.REALTIME="realtime_logs",r.STORAGE="storage_logs",r.POSTGREST="postgrest_logs",r.SUPAVISOR="supavisor_logs",r.WAREHOUSE="warehouse_logs",r.PG_CRON="pg_cron_logs";let m={api:"edge_logs",database:"postgres_logs",functions:"function_logs",fn_edge:"function_edge_logs",auth:"auth_logs",realtime:"realtime_logs",storage:"storage_logs",postgrest:"postgrest_logs",supavisor:"supavisor_logs",warehouse:"warehouse_logs",pg_cron:"postgres_logs"},h={edge_logs:"Logs obtained from the network edge, containing all API requests",postgres_logs:"Database logs obtained directly from Postgres",function_logs:"Function logs generated from runtime execution",function_edge_logs:"Function call logs, containing the request and response",auth_logs:"Authentication logs from GoTrue",realtime_logs:"Realtime server for Postgres logical replication broadcasting",storage_logs:"Object storage logs",postgrest_logs:"RESTful API web server logs",supavisor_logs:"Cloud-native Postgres connection pooler logs",warehouse_logs:"Logs obtained from a data warehouse collection",pg_cron_logs:"Postgres logs from pg_cron cron jobs"},x=e=>{for(let t in e){let s=e[t];(null===s||""===s||void 0===s)&&delete e[t]}return new URLSearchParams(e).toString()},p={postgres_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events with ERROR, PANIC, or FATAL"},{key:"noError",label:"No Error",description:"Show all non-error events"},{key:"log",label:"Log",description:"Show all events that are log severity"}]}},edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]},product:{label:"Product",key:"product",options:[{key:"database",label:"Database",description:""},{key:"auth",label:"Auth",description:""},{key:"storage",label:"Storage",description:""},{key:"realtime",label:"Realtime",description:""}]},method:{label:"Method",key:"method",options:[{key:"get",label:"GET",description:""},{key:"options",label:"OPTIONS",description:""},{key:"put",label:"PUT",description:""},{key:"post",label:"POST",description:""},{key:"patch",label:"PATCH",description:""},{key:"delete",label:"DELETE",description:""}]}},function_edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]}},function_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:'Show all events that are "error" severity'},{key:"warn",label:"Warning",description:'Show all events that are "warn" severity'},{key:"info",label:"Info",description:'Show all events that are "info" severity'},{key:"debug",label:"Debug",description:'Show all events that are "debug" severity'},{key:"log",label:"Log",description:'Show all events that are "log" severity'}]}},auth_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events that have error or fatal severity"},{key:"warning",label:"Warning",description:"Show all events that have warning severity"},{key:"info",label:"Info",description:"Show all events that have info severity"}]},status_code:{label:"Status Code",key:"status_code",options:[{key:"server_error",label:"Server Error",description:"Show all requests with 5XX status code"},{key:"client_error",label:"Client Error",description:"Show all requests with 4XX status code"},{key:"redirection",label:"Redirection",description:"Show all requests that have 3XX status code"},{key:"success",label:"Success",description:"Show all requests that have 2XX status code"}]},endpoints:{label:"Endpoints",key:"endpoints",options:[{key:"admin",label:"Admin",description:"Show all admin requests"},{key:"signup",label:"Sign up",description:"Show all signup and authorization requests"},{key:"recover",label:"Password Recovery",description:"Show all password recovery requests"},{key:"authentication",label:"Authentication",description:"Show all authentication flow requests (login, otp, and Oauth2)"},{key:"user",label:"User",description:"Show all user data requests"},{key:"logout",label:"Logout",description:"Show all logout requests"}]}}},f={log_selection_x_padding:"px-8",space_y:"px-6"},g=[{text:"Last hour",calcFrom:()=>l()().subtract(1,"hour").startOf("hour").toISOString(),calcTo:()=>"",default:!0},{text:"Last 3 hours",calcFrom:()=>l()().subtract(3,"hour").startOf("hour").toISOString(),calcTo:()=>""},{text:"Last 24 hours",calcFrom:()=>l()().subtract(1,"day").startOf("day").toISOString(),calcTo:()=>""}],j=[{text:"Last hour",calcFrom:()=>l()().subtract(1,"hour").startOf("hour").toISOString(),calcTo:()=>"",default:!0},{text:"Last 24 hours",calcFrom:()=>l()().subtract(1,"day").startOf("day").toISOString(),calcTo:()=>""},{text:"Last 3 days",calcFrom:()=>l()().subtract(3,"day").startOf("day").toISOString(),calcTo:()=>""},{text:"Last 7 days",calcFrom:()=>l()().subtract(7,"day").startOf("day").toISOString(),calcTo:()=>""}],v=e=>e.find(e=>e.default)||e[0],y={FREE:{text:"1 day",value:1,unit:"day",promptUpgrade:!0},PRO:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},PAYG:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},TEAM:{text:"28 days",value:28,unit:"day",promptUpgrade:!0},ENTERPRISE:{text:"90 days",value:90,unit:"day",promptUpgrade:!1}},b=["/project/[ref]/logs/edge-logs","/project/[ref]/logs/pooler-logs","/project/[ref]/logs/postgres-logs","/project/[ref]/logs/postgrest-logs"]},40966:function(e,t,s){"use strict";s.d(t,{AJ:function(){return E},HJ:function(){return Z},Ir:function(){return T},My:function(){return k},Oy:function(){return v},Q9:function(){return A},Sj:function(){return j},UR:function(){return N},dP:function(){return S},g8:function(){return P},h6:function(){return I},tI:function(){return g},ue:function(){return w}});var r=s(85229),a=s(28977),n=s.n(a),l=s(13546),o=s.n(l),i=s(85466),c=s.n(i),d=s(3010),u=s.n(d),m=s(52983),h=s(50953),x=s(55145),p=s(70888),f=s(45925);let g=e=>n().unix(Number(e)/1e3/1e3).toISOString(),j=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},v=e=>e&&e.timestamp&&e.event_message&&e.id,y=(e,t)=>Object.keys(e).filter(t=>e[t]).flatMap(s=>{let r=t?"".concat(t,".").concat(s):s;return"object"==typeof e[s]?y(e[s],r):[r]}),b=(e,t)=>{let s=Object.keys(t),r=p.Eh[e],a=e=>{let s=r[e],a=o()(t,e);return void 0!==a&&"function"==typeof s?s(a):void 0===s?"string"==typeof a?"".concat(e," = '").concat(a,"'"):"".concat(e," = ").concat(a):void 0===a&&"function"==typeof s?null:s&&!1===a?null:s},n=s.map(e=>{if(void 0===t[e]||"string"==typeof t[e]&&0===t[e].length)return null;if("object"==typeof t[e]){let s=y(t[e],e).map(a).filter(Boolean);return s.length>0?"(".concat(s.join(" or "),")"):null}{let t=a(e);return null===t?null:"(".concat(t,")")}}).filter(Boolean).join(" and ");return n?"where "+n:""},N=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=b(e,t),a=_(e),n="order by timestamp desc";switch(e){case"edge_logs":if(!1===f.Qy)return"\n-- local dev edge_logs query\nselect id, edge_logs.timestamp, event_message, request.method, request.path, response.status_code\nfrom edge_logs\n".concat(a,"\n").concat(r,"\n").concat(n,"\nlimit ").concat(s,";\n");return"select id, identifier, timestamp, event_message, request.method, request.path, response.status_code\n  from ".concat(e,"\n  ").concat(a,"\n  ").concat(r,"\n  ").concat(n,"\n  limit ").concat(s,"\n  ");case"postgres_logs":if(!1===f.Qy)return"\nselect postgres_logs.timestamp, id, event_message, parsed.error_severity\nfrom postgres_logs\n".concat(a,"\n").concat(r,"\n").concat(n,"\nlimit ").concat(s,"\n  ");return"select identifier, postgres_logs.timestamp, id, event_message, parsed.error_severity from ".concat(e,"\n  ").concat(a,"\n  ").concat(r,"\n  ").concat(n,"\n  limit ").concat(s,"\n  ");case"function_logs":return"select id, ".concat(e,".timestamp, event_message, metadata.event_type, metadata.function_id, metadata.level from ").concat(e,"\n  ").concat(a,"\n  ").concat(r,"\n  ").concat(n,"\n  limit ").concat(s,"\n    ");case"auth_logs":return"select id, ".concat(e,".timestamp, event_message, metadata.level, metadata.status, metadata.path, metadata.msg as msg, metadata.error from ").concat(e,"\n  ").concat(a,"\n  ").concat(r,"\n  ").concat(n,"\n  limit ").concat(s,"\n    ");case"function_edge_logs":return"select id, ".concat(e,".timestamp, event_message, response.status_code, request.method, m.function_id, m.execution_time_ms, m.deployment_id, m.version from ").concat(e,"\n  ").concat(a,"\n  ").concat(r,"\n  ").concat(n,"\n  limit ").concat(s,"\n  ");case"supavisor_logs":return"select id, ".concat(e,".timestamp, event_message from ").concat(e," ").concat(a," ").concat(r," ").concat(n," limit ").concat(s);default:return"select id, ".concat(e,".timestamp, event_message from ").concat(e,"\n  ").concat(r,"\n  ").concat(n,"\n  limit ").concat(s,"\n  ");case"pg_cron_logs":let l="where (parsed.application_name = 'pg_cron' OR event_message LIKE '%cron job%')",o=r?"".concat(l," AND ").concat(r.substring(6)):l;return"select identifier, postgres_logs.timestamp, id, event_message, parsed.error_severity, parsed.query\nfrom postgres_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as parsed\n".concat(o,"\n").concat(n,"\nlimit ").concat(s,"\n")}},_=e=>{switch(e){case"edge_logs":return"cross join unnest(metadata) as m\n  cross join unnest(m.request) as request\n  cross join unnest(m.response) as response";case"postgres_logs":return"cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as parsed";case"function_logs":case"auth_logs":return"cross join unnest(metadata) as metadata";case"function_edge_logs":return"cross join unnest(metadata) as m\n  cross join unnest(m.response) as response\n  cross join unnest(m.request) as request";case"supavisor_logs":return"cross join unnest(metadata) as m";default:return""}},w=(e,t)=>"select id, timestamp, event_message, metadata from ".concat(e," where id = '").concat(t,"' limit 1"),S=(e,t)=>{let s=Math.abs(n()().diff(n()(e),"day"));return s>1&&"free"===t||s>7&&"pro"===t||s>28&&"team"===t||s>90&&"enterprise"===t},k=(e,t)=>{let s=b(e,t),r=_(e);return"SELECT count(*) as count FROM ".concat(e," ").concat(r," ").concat(s)},C=e=>{let t=e.iso_timestamp_end?n()(e.iso_timestamp_end):n()(),s=e.iso_timestamp_start?n()(e.iso_timestamp_start):n()(),r="minute",a=360,l=t.diff(s,"minute"),o=t.diff(s,"hour");return l>720?(r="hour",a=120):o>72&&(r="day",a=7),[s.add(-a,r),r]},P=(e,t,s)=>{let[r,a]=C(t),n=b(e,s),l=_(e);return"\nSELECT\n-- log-event-chart\n  timestamp_trunc(t.timestamp, ".concat(a,") as timestamp,\n  count(t.timestamp) as count\nFROM\n  ").concat(e," t\n  ").concat(l,"\n  ").concat(n?n+" and t.timestamp > '".concat(r.toISOString(),"'"):"where t.timestamp > '".concat(r.toISOString(),"'"),"\nGROUP BY\ntimestamp\nORDER BY\n  timestamp ASC\n  ")},E=(e,t)=>{let[s,r]=e,[a,l]=t;if(s&&r&&l&&!a){let e=n()(l).diff(n()(s)),t=n()(s);if(e<=0){let e=Math.abs(n()(r).diff(t,"minute"));t=n()(l).subtract(e,"minute")}return[t.toISOString(),l]}return!l&&a?[a,r]:[a,l]},A=()=>{let e=(0,r.useMonaco)();(0,m.useEffect)(()=>{if(e){let t=e.languages.registerCompletionItemProvider("pgsql",{triggerCharacters:["`"," ","."],provideCompletionItems:function(t,s,r){let a=new h.Z(t,s.column-2,s.lineNumber-1);if(a.isNextDQuote())return{suggestions:[]};let n=[],l=x.Z.schemas.filter(e=>a._text.includes(e.reference));if(0===l.length&&(l=x.Z.schemas),a.isNextPeriod()){let t=l.flatMap(e=>e.fields).flatMap(e=>{let[t,...s]=e.path.split(".");return s}).map(t=>({label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}));n=n.concat(t)}if("`"===r.triggerCharacter||" "===r.triggerCharacter){let t=x.Z.schemas.map(t=>({label:t.reference,kind:e.languages.CompletionItemKind.Class,insertText:t.reference})),s=l.flatMap(e=>e.fields).flatMap(e=>e.path.split(".").slice(0,-1)).map(t=>({label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}));n=(n=n.concat(s)).concat(t)}return{suggestions:u()(n,"label")}}});return()=>{t.dispose()}}},[e])},I=function(e,t,s,r,a,l){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:20;if(e.length>o)return e.map(e=>{let s=n().utc(e[t]).toISOString();return e[t]=s,e});if(e.length<=1&&!(a||l))return e;let i=e.map(e=>n().utc(e[t])),d=l?n().utc(l):n().utc(Math.max.apply(null,i)),u=a?n().utc(a):n().utc(Math.min.apply(null,i)),m=R(e.length>0?i:[u,d]),h=e.map(e=>{let s=n().utc(e[t]).toISOString();return e[t]=s,e}),x=d.diff(u,m);if(x>1e4)throw Error("The selected date range will render more than 10,000 data points within the charts, which will degrade browser performance. Please select a smaller date range.");for(let e=0;e<=x;e++){let a=u.add(e,m),n=("string"==typeof s?[s]:s).reduce((e,t)=>({...e,[t]:r}),{});i.find(e=>c()(e,a))||h.push({[t]:a.toISOString(),...n})}return h},R=e=>{let t=e.reduce((e,t)=>{let s=O(t);return e[s]+=1,e},{second:0,minute:0,hour:0,day:0});return Object.keys(t).reduce((e,s)=>t[e]>t[s]?e:s)},O=e=>({0:"second",1:"minute",2:"hour",3:"day"})[["second","minute","hour"].map(t=>e.get(t)).reduce((e,t)=>(0===t&&(e+=1),e),0)];function Z(e){let t=e.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//gm,"");return/\b(WITH)\b(?=(?:[^']*'[^']*')*[^']*$)/i.test(t)}function T(e){let t=e.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//gm,"");return/\b(ILIKE)\b(?=(?:[^']*'[^']*')*[^']*$)/i.test(t)}},35474:function(e,t,s){"use strict";var r,a;s.d(t,{EE:function(){return r},FK:function(){return l},Ki:function(){return o},ZE:function(){return n}});let n={TICK:"hsl(var(--background-overlay-hover))",AXIS:"hsl(var(--background-overlay-hover))",GREEN_1:"hsl(var(--brand-default))",GREEN_2:"hsl(var(--brand-500))"},l=e=>e.map(e=>{var t;let s=null!==(t=({slate:11})[e])&&void 0!==t?t:9;return{lighter:"var(--colors-".concat(e).concat(s-1,")"),base:"var(--colors-".concat(e).concat(s,")"),darker:"var(--colors-".concat(e).concat(s+1,")")}}),o=["brand","slate","blue","yellow","indigo"];(a=r||(r={})).FULL="MMM D, YYYY, hh:mma",a.DATE_ONLY="MMM D, YYYY"},50953:function(e,t,s){"use strict";var r=s(98219);class a{hasNext(){return this.lineNumber>=0||this.offset>=0}isFowardDQuote(){return!!this.hasForward()&&34===this.peekForward()}isNextDQuote(){return!!this.hasNext()&&34===this.peekNext()}isNextPeriod(){return!!this.hasNext()&&46===this.peekNext()}peekNext(){return this.offset<0?this.lineNumber>0?10:0:this._line.charCodeAt(this.offset)}hasForward(){return this.lineNumber<this._lines.length||this.offset<this._line.length}peekForward(){return this.offset===this._line.length?this.lineNumber===this._lines.length?0:10:this._line.charCodeAt(this.offset+1)}next(){if(this.offset<0)return this.lineNumber>0?(this.lineNumber--,this._line=this._lines[this.lineNumber],this.offset=this._line.length-1,10):(this.lineNumber=-1,0);let e=this._line.charCodeAt(this.offset);return this.offset--,e}readArguments(){let e=0,t=0,s=0,r=0;for(;this.hasNext();){let a=this.next();switch(a){case 40:if(--e<0)return r;break;case 41:e++;break;case 123:s--;break;case 125:s++;break;case 91:t--;break;case 93:t++;break;case 34:case 39:for(;this.hasNext()&&a!==this.next(););break;case 44:!e&&!t&&!s&&r++}}return -1}readIdent(){let e=!1,t=!1,s="";for(;this.hasNext();){let r=this.peekNext();if(e&&!t&&!this._isIdentPart(r))break;if(r=this.next(),!e&&t&&34===r){e=!0;continue}if(e||32!==r&&9!==r&&10!=r){if(!e&&(34===r||this._isIdentPart(r)))e=!0,t=34===r,s=String.fromCharCode(r)+s;else if(e){if(t){if(0===r||(s=String.fromCharCode(r)+s,34===r))break}else s=String.fromCharCode(r)+s}}}return s}readIdents(e){let t=[];for(;e>0;){e--;let s=this.readIdent();if(!s||(t.push(s),!this.isNextPeriod()))break}return t.reverse()}_isIdentPart(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}constructor(e,t,s){(0,r._)(this,"_line",void 0),(0,r._)(this,"_text",void 0),(0,r._)(this,"_lines",void 0),(0,r._)(this,"model",void 0),(0,r._)(this,"offset",void 0),(0,r._)(this,"lineNumber",void 0),this.model=e,this.offset=t,this.lineNumber=s,this._text=e.getValue(),this._lines=this._text.split(/\r?\n/g),this._line=this._lines[s]}}t.Z=a},32050:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(40966),a=s(52983);let n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.useMemo)(()=>{var e;let[s,a]=t;if(!(null===(e=s[0])||void 0===e?void 0:e[a]))return{data:s,error:void 0,isError:!1};try{return{data:(0,r.h6)(...t).sort((e,s)=>new Date(e[t[1]])-new Date(s[t[1]])),error:void 0,isError:!1}}catch(e){return{data:[],error:e,isError:!0}}},[JSON.stringify(t[0]),...t])}},85977:function(e,t,s){"use strict";s.d(t,{p:function(){return a}});var r=s(77946);function a(e){switch(e){case r.aA.AWS.id:return"ARM";case r.aA.FLY.id:return"x86 64-bit";default:return""}}},83558:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(67634).Z)("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},61804:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(67634).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7082:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(67634).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},25741:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(67634).Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},63271:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(67634).Z)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]])},80049:function(e,t,s){"use strict";var r=s(97458),a=s(52983),n=s(28977),l=s.n(n),o=s(32430),i=s(59099),c=s(49819),d=s(99964),u=s(46079),m=s(8121),h=s(71441),x=s(29045),p=s(35474),f=s(7025),g=s(88328),j=s(68149);t.Z=e=>{var t,s,n;let{data:v,yAxisKey:y,xAxisKey:b,format:N,customDateFormat:_=p.EE.FULL,title:w,highlightedValue:S,highlightedLabel:k,displayDateInUtc:C,minimalHeader:P,valuePrecision:E,className:A="",size:I="normal",emptyStateMessage:R,onBarClick:O,showLegend:Z=!1,xAxisIsDate:T=!0,XAxisProps:U,YAxisProps:L,showGrid:q=!1}=e,{Container:F}=(0,g.D3)(I),[z,M]=(0,a.useState)(null),B=U||{interval:v.length-2,angle:0,tick:!1},D=L||{tickFormatter:e=>(0,g.V2)(e,E),tick:!1,width:0},W=e=>C?l()(e).utc():l()(e),G=function(){if(!T){var e;return z?null===(e=v[z])||void 0===e?void 0:e[b]:k}return null!==z&&v&&void 0!==v[z]&&W(v[z][b]).format(_)||k}(),Y=null!==z?null===(t=v[z])||void 0===t?void 0:t[y]:S;return 0===v.length?(0,r.jsx)(j.Z,{message:R,description:"It may take up to 24 hours for data to refresh",size:I,className:A,attribute:w,format:N}):(0,r.jsxs)("div",{className:["flex flex-col gap-y-3",A].join(" "),"data-sentry-component":"BarChart","data-sentry-source-file":"BarChart.tsx",children:[(0,r.jsx)(f.Z,{title:w,format:N,customDateFormat:_,highlightedValue:Y,highlightedLabel:G,minimalHeader:P,"data-sentry-element":"ChartHeader","data-sentry-source-file":"BarChart.tsx"}),(0,r.jsx)(F,{"data-sentry-element":"Container","data-sentry-source-file":"BarChart.tsx",children:(0,r.jsxs)(o.v,{data:v,className:"overflow-visible",onMouseMove:e=>{e.activeTooltipIndex!==z&&M(e.activeTooltipIndex)},onMouseLeave:()=>M(null),onClick:e=>{var t,s;let r=null==e?void 0:null===(s=e.activePayload)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.payload;O&&O(r,e)},"data-sentry-element":"RechartBarChart","data-sentry-source-file":"BarChart.tsx",children:[Z&&(0,r.jsx)(i.D,{}),q&&(0,r.jsx)(c.q,{stroke:p.ZE.AXIS}),(0,a.createElement)(d.B,{...D,axisLine:{stroke:p.ZE.AXIS},tickLine:{stroke:p.ZE.AXIS},key:y,"data-sentry-element":"YAxis","data-sentry-source-file":"BarChart.tsx"}),(0,a.createElement)(u.K,{...B,axisLine:{stroke:p.ZE.AXIS},tickLine:{stroke:p.ZE.AXIS},key:b,"data-sentry-element":"XAxis","data-sentry-source-file":"BarChart.tsx"}),(0,r.jsx)(m.u,{content:()=>null,"data-sentry-element":"Tooltip","data-sentry-source-file":"BarChart.tsx"}),(0,r.jsx)(h.$,{dataKey:y,fill:p.ZE.GREEN_1,animationDuration:300,maxBarSize:48,"data-sentry-element":"Bar","data-sentry-source-file":"BarChart.tsx",children:null==v?void 0:v.map((e,t)=>(0,r.jsx)(x.b,{className:"transition-all duration-300 ".concat(O?"cursor-pointer":""),fill:z===t||null===z?p.ZE.GREEN_1:p.ZE.GREEN_2,enableBackground:12},"cell-".concat(t)))})]})}),v&&(0,r.jsxs)("div",{className:"text-foreground-lighter -mt-9 flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{children:T?W(v[0][b]).format(_):v[0][b]}),(0,r.jsx)("span",{children:T?W(null===(s=v[(null==v?void 0:v.length)-1])||void 0===s?void 0:s[b]).format(_):null===(n=v[(null==v?void 0:v.length)-1])||void 0===n?void 0:n[b]})]})]})}},7025:function(e,t,s){"use strict";var r=s(97458);t.Z=e=>{let{format:t,highlightedValue:s,highlightedLabel:a,title:n,minimalHeader:l=!1}=e,o=(0,r.jsx)("h3",{className:"text-foreground-lighter "+(l?"text-xs":"text-sm"),children:n}),i=(0,r.jsxs)("h5",{className:"text-foreground text-xl font-normal ".concat(l?"text-base":"text-2xl"),children:[void 0!==s&&String(s),"seconds"===t?" ":"",(0,r.jsx)("span",{className:"text-lg",children:"function"==typeof t?t(s):t})]}),c=(0,r.jsx)("h5",{className:"text-foreground-lighter text-xs",children:a});return l?(0,r.jsxs)("div",{className:"flex flex-row items-center gap-x-4",style:{minHeight:"1.8rem"},children:[n&&o,(0,r.jsxs)("div",{className:"flex flex-row items-baseline gap-x-2",children:[void 0!==s&&i,c]})]}):(0,r.jsxs)("div",{className:"h-16","data-sentry-component":"ChartHeader","data-sentry-source-file":"ChartHeader.tsx",children:[n&&o,void 0!==s&&i,c]})}},88328:function(e,t,s){"use strict";s.d(t,{Bh:function(){return h},D3:function(){return p},Hx:function(){return x},V2:function(){return u},ww:function(){return f}});var r=s(97458),a=s(28977),n=s.n(a),l=s(13516),o=s.n(l),i=s(52983),c=s(72646),d=s(35474);n().extend(o());let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return m(e)?h(e,t):e.toLocaleString()},m=e=>String(e).includes("."),h=(e,t)=>{if(!m(e))return e.toLocaleString()+"."+"0".repeat(t);{let[s,r]=String(e).split(".");return Number(s).toLocaleString()+"."+r.slice(0,t)}},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.EE.FULL,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s?n().utc(e).format(t):n()(e).format(t)},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tiny:76,small:96,normal:160,large:280},s=t[e];return{Container:(0,i.useMemo)(()=>e=>{let{children:t}=e;return(0,r.jsx)(c.h,{height:s,minHeight:s,width:"100%",children:t})},[e]),minHeight:s}},f=e=>{let{data:t,xAxisKey:s,yAxisKey:r,stackKey:a,variant:n="values"}=e,l=(0,i.useMemo)(()=>t?Object.entries(t.reduce((e,t)=>{let n=t[s],l=t[r],o=t[a];return e[n]||(e[n]={}),e[n][o]=l,e},{})).map(e=>{let[t,r]=e;return{...r,[s]:Number.isNaN(Number(t))?t:Number(t)}}):[],[JSON.stringify(t)]),o=(0,i.useMemo)(()=>Object.keys(l[0]||{}).filter(e=>e!==s&&e!==r).sort(),[JSON.stringify(l[0]||{})]),c=(0,i.useMemo)(()=>{if("percentages"===n)return l.map(e=>{let t=Object.entries(e),s=t.filter(e=>{let[t,s]=e;return o.includes(t)}).reduce((e,t)=>{let[s,r]=t;return e+r},0);return t.reduce((e,t)=>{let[r,a]=t;return o.includes(r)?{...e,[r]:0!==a?a/s:0}:{...e,[r]:a}},{})})},[JSON.stringify(l)]);return{dataKeys:o,stackedData:l,percentagesStackedData:c}}},68149:function(e,t,s){"use strict";var r=s(97458),a=s(83558),n=s(5546),l=s(7025),o=s(88328);t.Z=e=>{let{attribute:t,message:s="No data to show",description:i,format:c,className:d="",size:u}=e,{minHeight:m}=(0,o.D3)(u);return(0,r.jsxs)("div",{"data-sentry-component":"NoDataPlaceholder","data-sentry-source-file":"NoDataPlaceholder.tsx",children:[void 0!==t&&(0,r.jsx)(l.Z,{title:t,format:c,highlightedValue:0}),(0,r.jsxs)("div",{className:(0,n.cn)("border-control flex flex-grow w-full flex-col items-center justify-center space-y-2 border border-dashed text-center",d),style:{minHeight:m+20},children:[(0,r.jsx)(a.Z,{size:20,className:"text-border-stronger","data-sentry-element":"BarChart2","data-sentry-source-file":"NoDataPlaceholder.tsx"}),(0,r.jsxs)("div",{className:"px-1",children:[(0,r.jsx)("p",{className:"text-foreground-light text-xs",children:s}),i&&(0,r.jsx)("p",{className:"text-foreground-lighter text-xs",children:i})]})]})]})}},62228:function(e,t,s){"use strict";s.d(t,{_:function(){return j}});var r=s(97458),a=s(53995),n=s(52983),l=s(61932),o=s(64071),i=s(34493),c=s(85977),d=s(77946),u=s(31900),m=s(44273),h=s(19168),x=s(6921),p=s(98261),f=s(67983);let g=e=>{let{label:t,stat:s}=e;return(0,r.jsxs)("div",{className:"flex flex-row gap-2","data-sentry-component":"Row","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:[(0,r.jsx)("span",{className:"text-sm text-foreground-light w-16",children:t}),(0,r.jsx)("span",{className:"text-sm",children:s})]})},j=e=>{var t,s,j,v,y;let{project:b}=e,N=(0,a.useRouter)(),[_,w]=(0,n.useState)(!1),S=(0,f.P)("diskAndComputeForm"),k=(0,c.p)(b.cloud_provider),{data:C,isLoading:P}=(0,i.F)({projectRef:b.ref},{enabled:_}),E=null!==(j=null==C?void 0:C.selected_addons)&&void 0!==j?j:[],{computeInstance:A}=(0,l.OP)(E),I=null==A?void 0:null===(t=A.variant)||void 0===t?void 0:t.meta,R=void 0===I&&"micro"===b.infra_compute_size?d.v$:I,O=null==C?void 0:null===(s=C.available_addons.find(e=>"Compute Instance"===e.name))||void 0===s?void 0:s.variants,Z=e=>{e.preventDefault(),e.stopPropagation(),S?N.push("/project/".concat(null==b?void 0:b.ref,"/settings/compute-and-disk")):N.push("/project/".concat(null==b?void 0:b.ref,"/settings/addons?panel=computeInstance"))},T=null==O?void 0:O[O.length-1].identifier,U=(null==b?void 0:b.infra_compute_size)===(null==T?void 0:T.replace("ci_","")),{data:L,isLoading:q}=(0,o.Gl)({orgSlug:null==b?void 0:b.organization_slug},{enabled:_}),F=(null==L?void 0:L.plan.id)!=="free"&&(null==b?void 0:b.infra_compute_size)==="nano";return(null==b?void 0:b.infra_compute_size)?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(u.zs,{onOpenChange:()=>w(!_),openDelay:280,"data-sentry-element":"HoverCard","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:[(0,r.jsx)(u.Yi,{className:"group",asChild:!0,"data-sentry-element":"HoverCardTrigger","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:(0,r.jsx)("button",{onClick:Z,type:"button",role:"button",children:(0,r.jsx)(x.e,{infraComputeSize:b.infra_compute_size,"data-sentry-element":"ComputeBadge","data-sentry-source-file":"ComputeBadgeWrapper.tsx"})})}),(0,r.jsxs)(u.bZ,{side:"bottom",align:"start",className:"p-0 overflow-hidden w-96","data-sentry-element":"HoverCardContent","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:[(0,r.jsx)("div",{className:"p-2 px-5 text-xs text-foreground-lighter",children:"Compute size"}),(0,r.jsx)(m.Z,{"data-sentry-element":"Separator","data-sentry-source-file":"ComputeBadgeWrapper.tsx"}),(0,r.jsxs)("div",{className:"p-3 px-5 flex flex-row gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(x.e,{infraComputeSize:null==b?void 0:b.infra_compute_size,"data-sentry-element":"ComputeBadge","data-sentry-source-file":"ComputeBadgeWrapper.tsx"})}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:P||q?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(p.Z,{className:"h-[20px] py-0 w-32"}),(0,r.jsx)(p.Z,{className:"h-[20px] py-0 w-32"})]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex flex-col gap-1",children:void 0!==R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{label:"CPU",stat:"".concat(null!==(v=R.cpu_cores)&&void 0!==v?v:"?","-core ").concat(k," ").concat(R.cpu_dedicated?"(Dedicated)":"(Shared)")}),(0,r.jsx)(g,{label:"Memory",stat:"".concat(null!==(y=R.memory_gb)&&void 0!==y?y:"-"," GB")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{label:"CPU",stat:"Shared"}),(0,r.jsx)(g,{label:"Memory",stat:"Up to 0.5 GB"})]})})})})]}),(!U||F)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{}),(0,r.jsxs)("div",{className:"p-3 px-5 text-sm flex flex-col gap-2 bg-studio",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,r.jsx)("p",{className:"text-foreground",children:F?"Free upgrade to Micro available":"Unlock more compute"}),(0,r.jsx)("p",{className:"text-foreground-light",children:F?"Paid plans include a free upgrade to Micro compute.":"Scale your project up to 64 cores and 256 GB RAM."})]}),(0,r.jsx)("div",{children:(0,r.jsx)(h.z,{type:"default",onClick:Z,htmlType:"button",role:"button",children:"Upgrade compute"})})]})]})]})]})}):null}},52065:function(e,t,s){"use strict";var r=s(97458),a=s(71598),n=s(62836),l=s(2552),o=s(37669),i=s.n(o),c=s(52983),d=s(19168);let u=(0,c.forwardRef)((e,t)=>{let{icon:s,title:o,description:u,url:m,urlLabel:h="Read more",defaultVisibility:x=!1,hideCollapse:p=!1,button:f,className:g="",block:j=!1}=e,[v,y]=(0,c.useState)(x);return(0,r.jsx)("div",{ref:t,role:"alert",className:"".concat(j?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(g),children:(0,r.jsxs)("div",{className:"flex flex-col px-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[s&&(0,r.jsx)("span",{className:"text-foreground-lighter",children:s}),(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsx)("h5",{className:"text-sm text-foreground",children:o})})]}),u&&!p?(0,r.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>y(!v),children:v?(0,r.jsx)(a.Z,{size:14,strokeWidth:1.5}):(0,r.jsx)(n.Z,{size:14,strokeWidth:1.5})}):null]}),(u||m||f)&&(0,r.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(v?"mt-3":""),style:{maxHeight:v?500:0},children:[(0,r.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,r.jsx)("div",{children:(0,r.jsx)(d.z,{asChild:!0,type:"default",icon:(0,r.jsx)(l.Z,{}),children:(0,r.jsx)(i(),{href:m,target:"_blank",rel:"noreferrer",children:h})})}),f&&(0,r.jsx)("div",{children:f})]})]})})});u.displayName="InformationBox",t.Z=u},38618:function(e,t,s){"use strict";s.d(t,{U:function(){return l}});var r=s(97458),a=s(37669),n=s.n(a);let l=e=>{let{href:t,children:s}=e,a="underline transition underline-offset-2 decoration-foreground-lighter hover:decoration-foreground";return t.startsWith("http")?(0,r.jsx)("a",{className:a,href:t,target:"_blank",rel:"noreferrer noopener",children:s}):(0,r.jsx)(n(),{className:a,href:t,"data-sentry-element":"Link","data-sentry-component":"InlineLink","data-sentry-source-file":"InlineLink.tsx",children:s})}},34441:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eB}});var r=s(97458),a=s(52983),n=s(45925),l=s(41023),o=s(40617),i=s(85231),c=s(2552),d=s(37669),u=s.n(d),m=s(73119),h=s(54026),x=s(55604),p=s(7345),f=s(19168),g=s(198),j=s(68258),v=s(71794),y=s(53445),b=s(95948),N=s(1849),_=s(58035),w=s(87790),S=s(96789);let k=e=>({js:"\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = '".concat(e,"'\nconst supabaseKey = process.env.SUPABASE_KEY\nconst supabase = createClient(supabaseUrl, supabaseKey)"),dart:"\nconst supabaseUrl = '".concat(e,"';\nconst supabaseKey = String.fromEnvironment('SUPABASE_KEY');\n\nFuture<void> main() async {\n  await Supabase.initialize(url: supabaseUrl, anonKey: supabaseKey);\n  runApp(MyApp());\n}")});var C=()=>{var e,t,s,l,o,i;let{ref:c}=(0,n.UO)(),d=[{name:"Javascript",key:"js"},{name:"Dart",key:"dart"}],[h,x]=(0,a.useState)(d[0]),{data:p,isError:f,isLoading:C}=(0,_.zR)({projectRef:c}),{data:P,isError:E,isLoading:A}=(0,N.t)({projectRef:c}),I=null==P?void 0:P.jwtSecretUpdateStatus,R=(0,w.Xo)(g.KA.READ,"service_api_keys"),O=void 0===I||I===j.JwtSecretUpdateStatus.Updated,Z=null!==(l=null==p?void 0:null===(e=p.app_config)||void 0===e?void 0:e.protocol)&&void 0!==l?l:"https",T=null==p?void 0:null===(t=p.app_config)||void 0===t?void 0:t.endpoint,U="".concat(Z,"://").concat(null!=T?T:"-"),L=null!==(o=null==p?void 0:p.service_api_keys)&&void 0!==o?o:[],{anonKey:q}=(0,_.Pb)(p),F=0===L.length,z=null!==(i=k(U)[h.key])&&void 0!==i?i:"No snippet available";return(0,r.jsx)(m.Z,{title:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h5",{className:"text-base",children:"Project API"}),(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:["Your API is secured behind an API gateway which requires an API Key for every request.",(0,r.jsx)("br",{}),"You can use the parameters below to use Supabase client libraries."]})]}),"data-sentry-element":"Panel","data-sentry-component":"APIKeys","data-sentry-source-file":"APIKeys.tsx",children:f||E?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,r.jsx)(v.Z,{size:16,strokeWidth:1.5}),(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:f?"Failed to retrieve API keys":"Failed to update JWT secret"})]}):F||C||A?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,r.jsx)(y.Z,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:C||F?"Retrieving API keys":"JWT secret is being updated"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z.Content,{children:(0,r.jsx)(S.Z,{label:"Project URL",readOnly:!0,copy:!0,disabled:!0,className:"input-mono",value:U,descriptionText:"A RESTful endpoint for querying and managing your database.",layout:"horizontal"})}),(0,r.jsx)(m.Z.Content,{className:"border-t border-panel-border-interior-light dark:border-panel-border-interior-dark",children:(0,r.jsx)(S.Z,{readOnly:!0,disabled:!0,layout:"horizontal",className:"input-mono",label:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm",children:"API Key"}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 -ml-1",children:[null==q?void 0:null===(s=q.tags)||void 0===s?void 0:s.split(",").map((e,t)=>(0,r.jsx)("code",{className:"text-xs",children:e},"".concat(e).concat(t))),(0,r.jsx)("code",{className:"text-xs",children:"public"})]})]}),copy:R&&O,reveal:(null==q?void 0:q.tags)!=="anon"&&R&&O,value:R?I===j.JwtSecretUpdateStatus.Failed?"JWT secret update failed, new API key may have issues":I===j.JwtSecretUpdateStatus.Updating?"Updating JWT secret...":null==q?void 0:q.api_key:"You need additional permissions to view API keys",onChange:()=>{},descriptionText:(0,r.jsxs)("p",{children:["This key is safe to use in a browser if you have enabled Row Level Security (RLS) for your tables and configured policies. You may also use the service key which can be found"," ",(0,r.jsx)(u(),{href:"/project/".concat(c,"/settings/api"),className:"transition text-brand hover:text-brand-600",children:"here"})," ","to bypass RLS."]})})}),(0,r.jsxs)("div",{className:"border-t border-panel-border-interior-light dark:border-panel-border-interior-dark",children:[(0,r.jsx)("div",{className:"flex items-center bg-studio",children:d.map(e=>{let t=h.key===e.key;return(0,r.jsx)("div",{className:["px-3 py-1 text-sm cursor-pointer transition","".concat(t?"bg-surface-100":"bg-studio text-foreground-light")].join(" "),onClick:()=>x(e),children:e.name},e.key)})}),(0,r.jsx)("div",{className:"bg-surface-100 px-4 py-6 min-h-[200px]",children:(0,r.jsx)(b.c,{className:h.key,children:z})})]})]})})},P=()=>(0,r.jsxs)("div",{className:"w-full h-full relative pointer-events-none","data-sentry-component":"GetStartedHero","data-sentry-source-file":"GetStartedHero.tsx",children:[(0,r.jsxs)("div",{className:"w-[290px] lg:w-[400px] h-[180px] bg-alternative border border-default rounded-t px-4 py-3 space-y-1 overflow-hidden",children:[(0,r.jsxs)("div",{className:"text-xs font-mono space-x-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"1"}),(0,r.jsxs)("p",{className:"text-blue-900",children:["create table ",(0,r.jsxs)("span",{className:"text-foreground",children:["countries ","("]})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"2"}),(0,r.jsxs)("p",{className:"text-foreground",children:["id ",(0,r.jsx)("span",{className:"text-blue-900",children:"bigint generated by default"})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"3"}),(0,r.jsxs)("p",{className:"text-foreground",children:["name ",(0,r.jsx)("span",{className:"text-blue-900",children:"text"})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"4"}),(0,r.jsxs)("p",{className:"text-foreground",children:["iso2 ",(0,r.jsx)("span",{className:"text-blue-900",children:"text not null"})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"5"}),(0,r.jsxs)("p",{className:"text-foreground",children:["iso3 ",(0,r.jsx)("span",{className:"text-blue-900",children:"text"})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"6"}),(0,r.jsxs)("p",{className:"text-foreground",children:["local_name ",(0,r.jsx)("span",{className:"text-blue-900",children:"text"})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"7"}),(0,r.jsxs)("p",{className:"text-foreground",children:["continent ",(0,r.jsx)("span",{className:"text-blue-900",children:"continents"})]})]}),(0,r.jsxs)("div",{className:"text-xs font-mono space-x-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-foreground-light",children:"8"}),(0,r.jsx)("p",{className:"text-blue-900",children:");"})]})]}),(0,r.jsxs)("div",{className:"w-[260px] lg:w-[320px] h-[160px] lg:h-[220px] bg-surface-100 border border-default absolute right-0 top-[50px] lg:-top-[40px] rounded-t overflow-y-hidden",children:[(0,r.jsxs)("div",{className:"h-[24px] flex items-center border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"id"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"name"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"iso2"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"1"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Angola"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"AO"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"2"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Timor-Leste"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"TL"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"3"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Serbia"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"RS"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"4"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Bahamas"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"BS"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"5"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Chile"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"CL"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"6"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Denmark"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"DK"})})]}),(0,r.jsxs)("div",{className:"h-[30px] flex items-center bg-studio border-b border-default",children:[(0,r.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),(0,r.jsx)("div",{className:"w-[20%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"7"})}),(0,r.jsx)("div",{className:"w-[40%] h-full flex items-center border-r border-default px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"Singapore"})}),(0,r.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,r.jsx)("p",{className:"text-xs",children:"SG"})})]})]})]}),E=()=>{let{ref:e}=(0,n.UO)(),{projectAuthAll:t,projectEdgeFunctionAll:s,projectStorageAll:a}=(0,x.N)(["project_auth:all","project_edge_function:all","project_storage:all"]);return(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-4 lg:gap-20","data-sentry-component":"NewProjectPanel","data-sentry-source-file":"NewProjectPanel.tsx",children:[(0,r.jsx)("div",{className:"col-span-12",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-20",children:[(0,r.jsx)("div",{className:"flex h-full flex-col justify-between",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl text-foreground",children:"Welcome to your new project"}),(0,r.jsx)("p",{className:"text-base text-foreground-light",children:"Your project has been deployed on its own instance, with its own API all set up and ready to use."})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,r.jsxs)("div",{className:"col-span-12 flex flex-col justify-center space-y-8 lg:col-span-7",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl text-foreground",children:"Get started by building out your database"}),(0,r.jsx)("p",{className:"text-base text-foreground-light",children:"Start building your app by creating tables and inserting data. Our Table Editor makes Postgres as easy to use as a spreadsheet, but there's also our SQL Editor if you need something more."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,r.jsx)(f.z,{asChild:!0,type:"default",icon:(0,r.jsx)(p.dD,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,r.jsx)(h.Y,{projectRef:e,"data-sentry-element":"EditorIndexPageLink","data-sentry-source-file":"NewProjectPanel.tsx",children:"Table Editor"})}),(0,r.jsx)(f.z,{asChild:!0,type:"default",icon:(0,r.jsx)(p.vu,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/sql/new"),"data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"SQL Editor"})}),(0,r.jsx)(f.z,{asChild:!0,type:"default",icon:(0,r.jsx)(c.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,r.jsx)(u(),{href:"https://supabase.com/docs/guides/database",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"About Database"})})]})]}),(0,r.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,r.jsx)(P,{"data-sentry-element":"GetStartedHero","data-sentry-source-file":"NewProjectPanel.tsx"})})]}),t&&s&&a&&(0,r.jsxs)("div",{className:"flex h-full flex-col justify-between space-y-6",children:[(0,r.jsxs)("div",{className:"max-w-2xl space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl text-foreground",children:"Explore our other products"}),(0,r.jsx)("p",{className:"text-base text-foreground-light",children:"Supabase provides all the backend features you need to build a product. You can use it completely, or just the features you need."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 md:gap-y-0 xl:grid-cols-4",children:[(0,r.jsx)(m.Z,{children:(0,r.jsxs)(m.Z.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(p.gx,{size:16,strokeWidth:1.5})}),(0,r.jsx)("h5",{children:"Authentication"})]}),(0,r.jsx)("div",{className:"flex flex-grow md:min-h-[50px] xl:min-h-[75px]",children:(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"A complete user management system that works without any additional tools."})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.z,{type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/auth/users"),children:"Explore Auth"})}),(0,r.jsx)(f.z,{className:"translate-y-[1px]",icon:(0,r.jsx)(c.Z,{}),type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"https://supabase.com/docs/guides/auth",target:"_blank",rel:"noreferrer",children:"About Auth"})})]})]})}),(0,r.jsx)(m.Z,{children:(0,r.jsxs)(m.Z.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(p.Ke,{size:16,strokeWidth:1.5})}),(0,r.jsx)("h5",{children:"Storage"})]}),(0,r.jsx)("div",{className:"flex md:min-h-[50px] xl:min-h-[75px]",children:(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Store, organize, and serve any file types of any size from multiple buckets."})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.z,{type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/storage/buckets"),children:"Explore Storage"})}),(0,r.jsx)(f.z,{className:"translate-y-[1px]",icon:(0,r.jsx)(c.Z,{}),type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"https://supabase.com/docs/guides/storage",target:"_blank",rel:"noreferrer",children:"About Storage"})})]})]})}),(0,r.jsx)(m.Z,{children:(0,r.jsxs)(m.Z.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(p.hL,{size:16,strokeWidth:1.5})}),(0,r.jsx)("h5",{children:"Edge Functions"})]}),(0,r.jsx)("div",{className:"flex md:min-h-[50px] xl:min-h-[75px]",children:(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Write custom code without deploying or scaling servers, with fast deploy times and low latency."})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.z,{type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/functions"),children:"Explore Functions"})}),(0,r.jsx)(f.z,{className:"translate-y-[1px]",icon:(0,r.jsx)(c.Z,{}),type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"https://supabase.com/docs/guides/functions",target:"_blank",rel:"noreferrer",children:"About Functions"})})]})]})}),(0,r.jsx)(m.Z,{children:(0,r.jsxs)(m.Z.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(p.Z7,{size:16,strokeWidth:1.5})}),(0,r.jsx)("h5",{children:"Realtime"})]}),(0,r.jsx)("div",{className:"flex md:min-h-[50px] xl:min-h-[75px]",children:(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Listen to your PostgreSQL database in realtime via websockets."})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.z,{type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/realtime/inspector"),children:"Explore Realtime"})}),(0,r.jsx)(f.z,{className:"translate-y-[1px]",icon:(0,r.jsx)(c.Z,{}),type:"default",asChild:!0,children:(0,r.jsx)(u(),{href:"https://supabase.com/docs/guides/realtime",target:"_blank",rel:"noreferrer",children:"About Realtime"})})]})]})})]})]})]})}),(0,r.jsx)("div",{className:"col-span-12 lg:col-span-4",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl text-foreground",children:"Connecting to your new project"}),(0,r.jsxs)("p",{className:"text-base text-foreground-light lg:max-w-sm",children:["Interact with your database through the"," ",(0,r.jsx)(u(),{href:"https://supabase.com/docs/reference",className:"text-brand","data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"Supabase client libraries"})," ","with your API keys."]}),(0,r.jsx)("p",{className:"text-base text-foreground-light lg:max-w-sm",children:"More information about your project's keys can be found in your project's API settings."})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.z,{asChild:!0,type:"default","data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/settings/api"),"data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"View API settings"})}),(0,r.jsx)(f.z,{asChild:!0,className:"translate-y-[1px]",type:"default",icon:(0,r.jsx)(c.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,r.jsx)(u(),{href:"https://supabase.com/docs/guides/database/api",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"About APIs"})})]})]})}),(0,r.jsx)("div",{className:"col-span-12 lg:col-span-8",children:(0,r.jsx)(C,{"data-sentry-element":"APIKeys","data-sentry-source-file":"NewProjectPanel.tsx"})})]})},A=s(16190),I=s(28977),R=s.n(I),O=s(54762),Z=s(52065),T=s(77808),U=s(65210),L=s(51735),q=s(64341),F=s.n(q),z=s(63204),M=s(7082),B=s(25741),D=s(13490);let W=(0,s(67634).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var G=s(53995),Y=s(80049),K=s(32050),H=s(77518),V=s(30983);let X=[{key:"minutely",label:"60 minutes",startValue:1,startUnit:"hour",format:"MMM D, h:mma"},{key:"hourly",label:"24 hours",startValue:24,startUnit:"hour",format:"MMM D, ha"},{key:"daily",label:"7 days",startValue:7,startUnit:"day",format:"MMM D"}];var J=()=>{let e=(0,G.useRouter)(),{ref:t}=(0,n.UO)(),{projectAuthAll:s,projectStorageAll:l}=(0,x.N)(["project_auth:all","project_storage:all"]),[o,i]=(0,a.useState)("hourly"),{data:c,isLoading:d}=(0,U.Ey)({projectRef:t,interval:o}),u=X.find(e=>e.key===o)||X[1],h=R()().subtract(u.startValue,u.startUnit),p=R()(),{data:g}=(0,K.Z)((null==c?void 0:c.result)||[],"timestamp",["total_auth_requests","total_rest_requests","total_storage_requests","total_realtime_requests"],0,h.toISOString(),p.toISOString(),5),j=u.format||"MMM D, ha",v=(s,r)=>{let a=u.startUnit,n=R()(null==s?void 0:s.timestamp).add(1,a);e.push("/project/".concat(t,"/logs/edge-logs?ite=").concat(encodeURIComponent(n.toISOString())))};return(0,r.jsxs)("div",{className:"space-y-6","data-sentry-component":"ProjectUsage","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,r.jsxs)(H.h_,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,r.jsx)(H.$F,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsx)(f.z,{type:"default",iconRight:(0,r.jsx)(z.Z,{size:14}),"data-sentry-element":"Button","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsx)("span",{children:u.label})})}),(0,r.jsx)(H.AW,{side:"bottom",align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsx)(H._x,{value:o,onValueChange:i,"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"ProjectUsage.tsx",children:X.map(e=>(0,r.jsx)(H.qB,{value:e.key,children:e.label},e.key))})})]}),(0,r.jsxs)("span",{className:"text-xs text-foreground-light",children:["Statistics for past ",u.label]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:[(0,r.jsx)(m.Z,{"data-sentry-element":"Panel","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsxs)(m.Z.Content,{className:"space-y-4","data-sentry-element":"unknown","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,r.jsx)(Q,{icon:(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(M.Z,{strokeWidth:2,size:16})}),title:"Database",href:"/project/".concat(t,"/editor"),"data-sentry-element":"PanelHeader","data-sentry-source-file":"ProjectUsage.tsx"}),(0,r.jsx)(V.Z,{active:d,"data-sentry-element":"Loading","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsx)(Y.Z,{title:"REST Requests",data:g,xAxisKey:"timestamp",yAxisKey:"total_rest_requests",onBarClick:e=>v(e,"rest"),customDateFormat:j,highlightedValue:F()(g,"total_rest_requests"),"data-sentry-element":"BarChart","data-sentry-source-file":"ProjectUsage.tsx"})})]})}),s&&(0,r.jsx)(m.Z,{children:(0,r.jsxs)(m.Z.Content,{className:"space-y-4",children:[(0,r.jsx)(Q,{icon:(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(B.Z,{strokeWidth:2,size:16})}),title:"Auth",href:"/project/".concat(t,"/auth/users")}),(0,r.jsx)(V.Z,{active:d,children:(0,r.jsx)(Y.Z,{title:"Auth Requests",data:g,xAxisKey:"timestamp",yAxisKey:"total_auth_requests",onBarClick:e=>v(e,"auth"),customDateFormat:j,highlightedValue:F()(g||[],"total_auth_requests")})})]})}),l&&(0,r.jsx)(m.Z,{children:(0,r.jsxs)(m.Z.Content,{className:"space-y-4",children:[(0,r.jsx)(Q,{icon:(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(D.Z,{strokeWidth:2,size:16})}),title:"Storage",href:"/project/".concat(t,"/storage/buckets")}),(0,r.jsx)(V.Z,{active:d,children:(0,r.jsx)(Y.Z,{title:"Storage Requests",data:g,xAxisKey:"timestamp",yAxisKey:"total_storage_requests",onBarClick:e=>v(e,"storage"),customDateFormat:j,highlightedValue:F()(g,"total_storage_requests")})})]})}),(0,r.jsx)(m.Z,{"data-sentry-element":"Panel","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsxs)(m.Z.Content,{className:"space-y-4","data-sentry-element":"unknown","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,r.jsx)(Q,{icon:(0,r.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,r.jsx)(W,{strokeWidth:2,size:16})}),title:"Realtime","data-sentry-element":"PanelHeader","data-sentry-source-file":"ProjectUsage.tsx"}),(0,r.jsx)(V.Z,{active:d,"data-sentry-element":"Loading","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsx)(Y.Z,{title:"Realtime Requests",data:g,xAxisKey:"timestamp",yAxisKey:"total_realtime_requests",onBarClick:e=>v(e,"realtime"),customDateFormat:j,highlightedValue:F()(g,"total_realtime_requests"),"data-sentry-element":"BarChart","data-sentry-source-file":"ProjectUsage.tsx"})})]})})]})]})};let Q=e=>{let t=(null==e?void 0:e.href)?u():"div";return(0,r.jsx)(t,{href:e.href,"data-sentry-element":"Tag","data-sentry-component":"PanelHeader","data-sentry-source-file":"ProjectUsage.tsx",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 opacity-80 transition "+(e.href?"cursor-pointer hover:text-gray-1200 hover:opacity-100":""),children:[(0,r.jsx)("div",{children:e.icon}),(0,r.jsx)("span",{className:"flex items-center space-x-1",children:(0,r.jsx)("h4",{className:"mb-0 text-lg",children:e.title})})]})})};var $=()=>{let e=(0,L.Vm)(),{data:t,error:s,isLoading:a}=(0,T.G7)({projectRef:null==e?void 0:e.ref}),{isLoading:n}=(0,U.Ey)({projectRef:null==e?void 0:e.ref,interval:"hourly"});if(s)return(0,r.jsx)(Z.Z,{hideCollapse:!0,defaultVisibility:!0,icon:(0,r.jsx)(v.Z,{size:18,strokeWidth:2}),title:"There was an issue loading the usage details of your project"});let l=null!=t&&!!t.result&&t.result.length>0&&t.result[0].count>25,o=R()(null==e?void 0:e.inserted_at).isAfter(R()().subtract(2,"day"));return(0,r.jsx)(r.Fragment,{children:a||n?(0,r.jsx)(O.Z,{}):l&&!o?(0,r.jsx)(J,{}):(0,r.jsx)(E,{})})},ee=s(70437),et=s(61804),es=s(79429),er=s(93066),ea=s(41341),en=s(5546),el=s(52195);let eo=()=>{let{ref:e}=(0,n.UO)(),[t,s]=(0,a.useState)(!1),{data:l,isLoading:o}=(0,er.U)({projectRef:e}),i=(null!=l?l:[]).filter(e=>e.categories.includes("SECURITY")),c=i.filter(e=>"ERROR"===e.level),d=i.filter(e=>"WARN"===e.level),m=i.filter(e=>"INFO"===e.level),h=c.length+d.length+m.length,x=0===h;return(0,r.jsxs)(ea.J2,{modal:!1,open:t,onOpenChange:s,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"SecurityStatus","data-sentry-source-file":"SecurityStatus.tsx",children:[(0,r.jsx)(ea.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"SecurityStatus.tsx",children:(0,r.jsx)(f.z,{type:"default",icon:o?(0,r.jsx)(ee.Z,{className:"animate-spin"}):(0,r.jsx)("div",{className:(0,en.cn)("w-2 h-2 rounded-full",x?"bg-brand":c.length>0?"bg-destructive-600":"bg-warning-600")}),"data-sentry-element":"Button","data-sentry-source-file":"SecurityStatus.tsx",children:"Security Issues"})}),(0,r.jsx)(ea.yk,{side:"bottom",align:"center",className:(0,en.cn)("py-1.5 px-0 w-64"),"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"SecurityStatus.tsx",children:(0,r.jsx)("div",{className:"text-sm",children:x?(0,r.jsxs)("div",{className:"flex gap-3 px-4",children:[(0,r.jsx)(et.Z,{className:"text-brand shrink-0",size:18,strokeWidth:1.5}),(0,r.jsxs)("div",{className:"grid gap-1",children:[(0,r.jsx)("p",{className:"",children:"No security issues found"}),(0,r.jsx)("p",{className:"text-xs text-foreground-light",children:"Keep monitoring Security Advisor for updates as your project grows."}),(0,r.jsx)(f.z,{asChild:!0,type:"default",className:"w-min mt-2",children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/database/security-advisor"),children:"Security Advisor"})})]})]}):(0,r.jsxs)("div",{className:"grid",children:[(0,r.jsxs)("p",{className:"text-xs text-foreground-lighter px-3 pb-1.5",children:[h," issue",h>1?"s":""," have been identified"]}),(0,r.jsx)(ea.Fm,{}),[{lints:c,level:el.l.ERROR},{lints:d,level:el.l.WARN},{lints:m,level:el.l.INFO}].map(t=>{var s;let{lints:n,level:l}=t,{label:o,descriptionShort:i}=null!==(s=el.N.find(e=>e.id===l))&&void 0!==s?s:{};return n.length>0&&(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(u(),{href:"/project/".concat(e,"/database/security-advisor?preset=").concat(l),children:(0,r.jsxs)("div",{className:"group flex items-center justify-between w-full px-3 py-3 transition hover:bg-surface-300",children:[(0,r.jsxs)("div",{className:"flex gap-x-3",children:[(0,r.jsx)("div",{children:(0,r.jsx)(ei,{level:l})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs",children:[n.length," ","Info"===o?"suggestion":null==o?void 0:o.slice(0,o.length-1).toLowerCase(),n.length>1?"s":""]}),(0,r.jsx)("p",{className:"text-xs text-foreground-light",children:i})]})]}),(0,r.jsx)(es.Z,{size:14,className:"transition opacity-0 group-hover:opacity-100"})]})}),(0,r.jsx)(ea.Fm,{})]},l)}),(0,r.jsx)("div",{className:"flex items-center justify-end pt-2 pb-0.5 px-3",children:(0,r.jsx)(f.z,{asChild:!0,type:"default",className:"w-min",children:(0,r.jsx)(u(),{href:"/project/".concat(e,"/database/security-advisor"),children:"Security Advisor"})})})]})})})]})},ei=e=>{let{level:t}=e,s={[el.l.ERROR]:"bg-destructive-600",[el.l.WARN]:"bg-warning-600",[el.l.INFO]:"bg-foreground-lighter dark:bg-foreground-light"};return(0,r.jsx)("div",{className:(0,en.cn)("w-2 h-2 rounded-full mt-1.5",s[t]),"data-sentry-component":"StatusDot","data-sentry-source-file":"SecurityStatus.tsx"})};var ec=s(73488),ed=s(28894),eu=s(55410);let em=e=>["projects",e,"service-status","postgres"],eh=e=>["projects",e,"service-status"],ex=e=>["projects",e,"service-status","edge-functions"];async function ep(e){return await (0,eu.U2)("https://obuldanrptloktxcffvn.supabase.co/functions/v1/health-check",{signal:e})}let ef=function(e){let{projectRef:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,ed.a)(ex(t),e=>{let{signal:t}=e;return ep(t)},{enabled:s&&void 0!==t,...r})};var eg=s(77946);async function ej(e,t){let{projectRef:s,connectionString:r}=e;if(!s)throw Error("projectRef is required");if(!r)throw Error("connectionString is required");let a=new Headers;a.set("x-connection-encrypted",r);let n=await (0,eu.v_)("".concat(eg.T5,"/pg-meta/").concat(s,"/query?key=service_status"),{query:"select 1"},{headers:Object.fromEntries(a),signal:t});if(n.error)throw n.error;return void 0===n.error}let ev=function(e){let{projectRef:t,connectionString:s}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,ed.a)(em(t),e=>{let{signal:r}=e;return ej({projectRef:t,connectionString:s},r)},{enabled:r&&void 0!==t&&void 0!==s,staleTime:0,...a})};var ey=s(61250);async function eb(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:r,error:a}=await (0,ey.U2)("/v1/projects/{ref}/health",{params:{path:{ref:s},query:{services:["auth","realtime","rest","storage"]}},signal:t});return a&&(0,ey.S3)(a),r}let eN=function(e){let{projectRef:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,ed.a)(eh(t),e=>{let{signal:s}=e;return eb({projectRef:t},s)},{enabled:s&&void 0!==t,...r})};var e_=s(55203);let ew=e=>{let{isLoading:t,isSuccess:s,isProjectNew:r}=e;return t?"Checking status":r?"Coming up...":s?"No issues":"Unable to connect"},eS=e=>{let{isLoading:t,isSuccess:s,isProjectNew:a}=e;return t||a?(0,r.jsx)(ee.Z,{size:14,className:"animate-spin"}):s?(0,r.jsx)(et.Z,{className:"text-brand",size:18,strokeWidth:1.5}):(0,r.jsx)(ec.Z,{className:"text-warning",size:18,strokeWidth:1.5,"data-sentry-element":"AlertTriangle","data-sentry-component":"StatusIcon","data-sentry-source-file":"ServiceStatus.tsx"})};var ek=()=>{let{ref:e}=(0,n.UO)(),t=(0,L.Vm)(),[s,l]=(0,a.useState)(!1),{projectAuthAll:o,projectEdgeFunctionAll:i,realtimeAll:c,projectStorageAll:d}=(0,x.N)(["project_auth:all","project_edge_function:all","realtime:all","project_storage:all"]),m=(null==t?void 0:t.parentRef)!==(null==t?void 0:t.ref),{data:h,isLoading:p,refetch:g}=eN({projectRef:e}),{data:j,refetch:v}=ef({projectRef:e}),{isLoading:y,isSuccess:b,refetch:N}=ev({projectRef:e,connectionString:null==t?void 0:t.connectionString}),_=null==h?void 0:h.find(e=>"auth"===e.name),w=null==h?void 0:h.find(e=>"rest"===e.name),S=null==h?void 0:h.find(e=>"realtime"===e.name),k=null==h?void 0:h.find(e=>"storage"===e.name),C=[{name:"Database",error:void 0,docsUrl:void 0,isLoading:y,isSuccess:b,logsUrl:"/logs/postgres-logs"},{name:"PostgREST",error:null==w?void 0:w.error,docsUrl:void 0,isLoading:p,isSuccess:null==w?void 0:w.healthy,logsUrl:"/logs/postgrest-logs"},...o?[{name:"Auth",error:null==_?void 0:_.error,docsUrl:void 0,isLoading:p,isSuccess:null==_?void 0:_.healthy,logsUrl:"/logs/auth-logs"}]:[],...c?[{name:"Realtime",error:null==S?void 0:S.error,docsUrl:void 0,isLoading:p,isSuccess:null==S?void 0:S.healthy,logsUrl:"/logs/realtime-logs"}]:[],...d?[{name:"Storage",error:null==k?void 0:k.error,docsUrl:void 0,isLoading:p,isSuccess:null==k?void 0:k.healthy,logsUrl:"/logs/storage-logs"}]:[],...i?[{name:"Edge Functions",error:void 0,docsUrl:"https://supabase.com/docs/guides/functions/troubleshooting",isLoading:p,isSuccess:null==j?void 0:j.healthy,logsUrl:"/logs/edge-functions-logs"}]:[]],P=C.some(e=>e.isLoading),E=C.every(e=>e.isSuccess),A=5>R().utc().diff(R().utc(null==t?void 0:t.inserted_at),"minute")||(null==t?void 0:t.status)==="COMING_UP";return(0,a.useEffect)(()=>{let e;return A&&(e=setTimeout(()=>{g(),N(),v()},1e3*(300-R().utc().diff(R().utc(null==t?void 0:t.inserted_at),"seconds")))),()=>{clearTimeout(e)}},[A]),(0,r.jsxs)(ea.J2,{modal:!1,open:s,onOpenChange:l,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ServiceStatus","data-sentry-source-file":"ServiceStatus.tsx",children:[(0,r.jsx)(ea.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ServiceStatus.tsx",children:(0,r.jsxs)(f.z,{type:"default",icon:P||A?(0,r.jsx)(ee.Z,{className:"animate-spin"}):(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(E?"bg-brand":"bg-warning")}),"data-sentry-element":"Button","data-sentry-source-file":"ServiceStatus.tsx",children:[m?"Preview Branch":"Project"," Status"]})}),(0,r.jsxs)(ea.yk,{className:"p-0 w-56",side:"bottom",align:"center","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ServiceStatus.tsx",children:[C.map(t=>(0,r.jsxs)(u(),{href:"/project/".concat(e).concat(t.logsUrl),className:"transition px-3 py-2 text-xs flex items-center justify-between border-b last:border-none group relative hover:bg-surface-300",children:[(0,r.jsxs)("div",{className:"flex gap-x-2",children:[(0,r.jsx)(eS,{isLoading:t.isLoading,isSuccess:!!t.isSuccess,isProjectNew:A}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{children:t.name}),(0,r.jsx)("p",{className:"text-foreground-light flex items-center gap-1",children:(0,r.jsx)(ew,{isLoading:t.isLoading,isSuccess:!!t.isSuccess,isProjectNew:A})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-1 transition opacity-0 group-hover:opacity-100",children:[(0,r.jsx)("span",{className:"text-xs text-foreground",children:"View logs"}),(0,r.jsx)(es.Z,{size:14,className:"text-foreground"})]})]},t.name)),(0,r.jsx)(ea.Fm,{"data-sentry-element":"PopoverSeparator","data-sentry-source-file":"ServiceStatus.tsx"}),(0,r.jsxs)("div",{className:"flex gap-2 text-xs text-foreground-light px-3 py-2",children:[(0,r.jsx)("div",{className:"mt-0.5",children:(0,r.jsx)(e_.sz,{"data-sentry-element":"InfoIcon","data-sentry-source-file":"ServiceStatus.tsx"})}),"Recently restored projects can take up to 5 minutes to become fully operational."]})]})]})},eC=s(44753),eP=s(85394),eE=s(62228),eA=s(41888),eI=s(56126),eR=s(14415),eO=()=>{var e,t,s;let{ref:l}=(0,n.UO)(),{data:o}=(0,eI.h)({projectRef:l},{enabled:eg.Qy}),{status:i,initiated_at:c,error:d}=null!==(t=null==o?void 0:o.databaseUpgradeStatus)&&void 0!==t?t:{},m="supabase-upgrade-".concat(l,"-").concat(c),h=(null===(e=localStorage)||void 0===e?void 0:e.getItem(m))==="true",[x,p]=(0,a.useState)(!h),g=i===j.h.Failed,v=R().utc(null!=c?c:0).utc().format("DD MMM YYYY HH:mm:ss"),y="Upgrade information:%0A• Initiated at: ".concat(c,"%0A• Error: ").concat(d),b=()=>{p(!1),localStorage.setItem(m,"true")};return g&&x?(0,r.jsx)("div",{className:"max-w-7xl","data-sentry-component":"ProjectUpgradeFailedBanner","data-sentry-source-file":"ProjectUpgradeFailedBanner.tsx",children:(0,r.jsx)(eA.b,{withIcon:!0,variant:"warning",title:"Postgres version upgrade was not successful (Initiated at ".concat(v," UTC)"),actions:(0,r.jsxs)("div",{className:"flex items-center h-full space-x-4",children:[(0,r.jsx)(f.z,{asChild:!0,type:"default",children:(0,r.jsx)(u(),{href:"/support/new?category=Database_unresponsive&ref=".concat(l,"&subject=").concat("Upgrade%20failed%20for%20project","&message=").concat(y),target:"_blank",rel:"noreferrer",children:"Contact support"})}),(0,r.jsx)(f.z,{type:"text",className:"px-1",icon:(0,r.jsx)(eR.Z,{size:16,strokeWidth:1.5}),onClick:()=>b()})]}),"data-sentry-element":"Alert","data-sentry-source-file":"ProjectUpgradeFailedBanner.tsx",children:"Your project and its data are not affected. Please reach out to us via our support form for assistance with the upgrade."})}):null},eZ=s(80398),eT=s(67983),eU=s(70559),eL=s(82445),eq=s(28436),eF=s(23066),ez=s(38618);let eM=()=>{let e=(0,eT.P)("connectDialogUpdate"),t=(0,eZ.l)(),s=(0,L.Vm)(),c=(0,L.Qv)(),d=(0,eU.WZ)(),{enableBranching:u}=(0,n.UO)(),m=(0,a.useRef)(!1);(0,a.useEffect)(()=>{u&&!m.current&&(m.current=!0,d.setShowEnableBranchingModal(!0))},[u]);let h=(null==s?void 0:s.ref)!=="default"&&(null==s?void 0:s.name)!==void 0?null==s?void 0:s.name:"Welcome to your project";return(0,r.jsxs)("div",{className:"w-full mx-auto my-16 space-y-16 max-w-7xl","data-sentry-component":"Home","data-sentry-source-file":"index.tsx",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mx-6 space-x-6",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,r.jsx)("h1",{className:"text-3xl",children:h}),c&&(0,r.jsxs)(eL.u,{children:[(0,r.jsx)(eL.aJ,{children:(0,r.jsx)(eq.C,{variant:"warning",children:"OrioleDB"})}),(0,r.jsxs)(eL._v,{side:"bottom",align:"start",className:"max-w-80 text-center",children:["This project is using Postgres with OrioleDB which is currently in preview and not suitable for production workloads. View our"," ",(0,r.jsx)(ez.U,{href:"https://supabase.com/docs/guides/database/orioledb",children:"documentation"})," ","for all limitations."]})]}),(0,r.jsx)(eE._,{project:{ref:null==s?void 0:s.ref,organization_slug:null==t?void 0:t.slug,cloud_provider:null==s?void 0:s.cloud_provider,infra_compute_size:null==s?void 0:s.infra_compute_size},"data-sentry-element":"ComputeBadgeWrapper","data-sentry-source-file":"index.tsx"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-3",children:[(null==s?void 0:s.status)===eg.S.ACTIVE_HEALTHY&&(0,r.jsx)(eo,{}),eg.Qy&&(null==s?void 0:s.status)===eg.S.ACTIVE_HEALTHY&&(0,r.jsx)(ek,{}),eg.Qy&&(null==s?void 0:s.status)===eg.S.ACTIVE_HEALTHY&&!e&&(0,r.jsx)(l.Z,{})]})]}),(0,r.jsx)("div",{className:"mx-6",children:(0,r.jsx)(eO,{"data-sentry-element":"ProjectUpgradeFailedBanner","data-sentry-source-file":"index.tsx"})}),(null==s?void 0:s.status)===eg.S.INACTIVE&&(0,r.jsx)(eC.$,{}),(0,r.jsx)("div",{className:"mx-6",children:eg.Qy&&(null==s?void 0:s.status)!==eg.S.INACTIVE&&(0,r.jsx)($,{})}),(null==s?void 0:s.status)!==eg.S.INACTIVE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("div",{className:"mx-6",children:(0,r.jsx)("h4",{className:"text-lg",children:"Client libraries"})}),(0,r.jsx)("div",{className:"grid gap-12 mx-6 mb-12 md:grid-cols-3",children:A.l.map(e=>(0,r.jsx)(o.Z,{...e},e.language))})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("div",{className:"mx-6",children:(0,r.jsx)("h4",{className:"text-lg",children:"Example projects"})}),(0,r.jsx)("div",{className:"flex justify-center mx-6",children:(0,r.jsxs)(eF.mQ,{defaultValue:"app",children:[(0,r.jsxs)(eF.dr,{className:"flex gap-4",children:[(0,r.jsx)(eF.SP,{value:"app",children:"App Frameworks"}),(0,r.jsx)(eF.SP,{value:"mobile",children:"Mobile Framework"})]}),(0,r.jsx)(eF.nU,{value:"app",children:(0,r.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:A.B.filter(e=>"app"===e.type).sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,r.jsx)(i.Z,{...e},e.url))})}),(0,r.jsx)(eF.nU,{value:"mobile",children:(0,r.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:A.B.filter(e=>"mobile"===e.type).sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,r.jsx)(i.Z,{...e},e.url))})})]})})]})]})]})};eM.getLayout=e=>(0,r.jsx)(eP.$,{children:e});var eB=eM},6921:function(e,t,s){"use strict";s.d(t,{e:function(){return l}});var r=s(97458),a=s(28436),n=s(5546);function l(e){let{infraComputeSize:t,className:s,...l}=e,o=(null==t?void 0:t.toLocaleLowerCase())==="micro"||(null==t?void 0:t.toLocaleLowerCase())==="nano";return(0,r.jsx)(a.C,{className:(0,n.cn)("rounded-md text-center flex justify-center font-mono uppercase","group-data-[state=open]:bg-opacity-20 group-data-[state=open]:ring-2 group-data-[state=open]:ring-opacity-20","transition-all",o?"group-data-[state=open]:ring-foreground-muted bg-opacity-50 group-data-[state=open]:bg-opacity-75":"group-data-[state=open]:ring-brand",s),variant:t?o?"default":"brand":"default",...l,"data-sentry-element":"Badge","data-sentry-component":"ComputeBadge","data-sentry-source-file":"index.tsx",children:t})}},41888:function(e,t,s){"use strict";s.d(t,{b:function(){return m}});var r=s(97458),a=s(52983),n=s(82188),l=s(63271),o=s(5498),i=s(73488),c=s(92197),d=s(14415);let u={danger:(0,r.jsx)(l.Z,{strokeWidth:1.5,size:18}),success:(0,r.jsx)(o.Z,{strokeWidth:1.5,size:18}),warning:(0,r.jsx)(i.Z,{strokeWidth:1.5,size:18}),info:(0,r.jsx)(c.Z,{strokeWidth:1.5,size:18}),neutral:(0,r.jsx)(r.Fragment,{})};function m(e){let{variant:t="neutral",className:s,title:l,withIcon:o,closable:i,children:c,icon:m,actions:h}=e,x=(0,n.Z)("alert"),[p,f]=(0,a.useState)(!0),g=[x.base];g.push(x.variant[t].base),s&&g.push(s);let j=[x.description,x.variant[t].description],v=[x.close];return(0,r.jsx)(r.Fragment,{children:p&&(0,r.jsxs)("div",{className:g.join(" "),children:[o?(0,r.jsx)("div",{className:x.variant[t].icon,children:o&&u[t]}):null,m&&m,(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:[x.variant[t].header,x.header].join(" "),children:l}),(0,r.jsx)("div",{className:j.join(" "),children:c})]}),h]}),i&&(0,r.jsx)("button",{"aria-label":"Close alert",onClick:()=>f(!1),className:v.join(" "),children:(0,r.jsx)(d.Z,{strokeWidth:2,size:16})})]})})}},98219:function(e,t,s){"use strict";function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{_:function(){return r}})}},function(e){e.O(0,[1885,588,520,2597,8703,9505,3351,6019,7191,2594,175,659,2829,5294,5313,5970,9885,495,7546,6064,111,5394,9774,2888,179],function(){return e(e.s=91726)}),_N_E=e.O()}]);