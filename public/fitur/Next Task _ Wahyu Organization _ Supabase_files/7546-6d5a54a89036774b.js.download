!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="aee592a2-a6c8-408c-bea9-7a66d16db676",e._sentryDebugIdIdentifier="sentry-dbid-aee592a2-a6c8-408c-bea9-7a66d16db676")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7546],{45213:function(e,t,n){var s={"./androidkotlin/supabasekt/content":[59999,8703,9999],"./astro/supabasejs/content":[90655,8703,655],"./drizzle/content":[70583,8703,583],"./exporeactnative/supabasejs/content":[29669,8703,9669],"./flutter/supabaseflutter/content":[62769,8703,2769],"./ionicangular/supabasejs/content":[20127,8703,127],"./ionicreact/supabasejs/content":[73041,8703,3041],"./nextjs/app/supabasejs/content":[39445,8703,9445],"./nextjs/pages/supabasejs/content":[377,8703,377],"./nuxt/supabasejs/content":[93404,8703,3404],"./prisma/content":[91871,8703,1871],"./react/create-react-app/supabasejs/content":[76565,8703,6565],"./react/vite/supabasejs/content":[47449,8703,7449],"./refine/supabasejs/content":[63330,8703,3330],"./remix/supabasejs/content":[50133,8703,133],"./solidjs/supabasejs/content":[73580,8703,3580],"./sveltekit/supabasejs/content":[9115,8703,9115],"./swift/supabaseswift/content":[53932,8703,3932],"./vuejs/supabasejs/content":[35445,8703,5445]};function a(e){if(!n.o(s,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(a)})}a.keys=function(){return Object.keys(s)},a.id=45213,e.exports=a},31146:function(e,t,n){"use strict";n.d(t,{Ak:function(){return d},a4:function(){return c},xI:function(){return s}});let s=(e,t,n)=>{let s=t.connectionString.includes("options=reference"),{usePoolerConnection:a,projectRef:o}=n,r=a?t.db_user:e.db_user,i=a?null==t?void 0:t.db_port:e.db_port,l=a?t.db_host:e.db_host,c=a?null==t?void 0:t.db_name:e.db_name,d="[YOUR-PASSWORD]",u=a&&s,p=a?null==t?void 0:t.connectionString:"postgresql://".concat(r,":").concat(d,"@")+"".concat(l,":").concat(i)+"/".concat(c),x="user=".concat(r," password=").concat(d," host=").concat(l," port=").concat(i," dbname=").concat(c).concat(u?" options=reference=".concat(o):"");return{psql:s?'psql "postgresql://'.concat(r,":").concat(d,"@").concat(l,":").concat(i,"/").concat(c).concat(a?"?options=reference%3D".concat(o):"",'"'):"psql -h ".concat(l," -p ")+"".concat(i," -d ").concat(c," ")+"-U ".concat(r),uri:p,golang:x,jdbc:"jdbc:postgresql://".concat(l,":").concat(i,"/").concat(c,"?user=").concat(r,"&password=").concat(d).concat(u?"&options=reference%3D".concat(o):""),dotnet:"User Id=".concat(r,";Password=").concat(d,";Server=").concat(l,";Port=").concat(i,";Database=").concat(c,";").concat(u?"Options='reference=".concat(o,"'"):""),nodejs:p,php:x,python:x}},a="Database user (e.g postgres)",o="Database password",r="Database name (e.g postgres)",i="Project's reference ID",l="Port number (Use 5432 if using prepared statements)",c=(e,t)=>{let{selectedTab:n,usePoolerConnection:s,ref:c,cloudProvider:d,region:u,tld:p,portNumber:x}=t,h=e.includes("options=reference"),m=[{value:d.toLocaleLowerCase(),tooltip:"Cloud provider"},{value:"-0-",tooltip:void 0},{value:u,tooltip:"Project's region"},{value:".pooler.supabase.".concat(p),tooltip:void 0}],f=[{value:"db.",tooltip:void 0},{value:c,tooltip:i},{value:".supabase.".concat(p),tooltip:void 0}];return"uri"===n||"nodejs"===n?h?[{value:"postgresql://",tooltip:void 0},{value:"[user]",tooltip:a},{value:":",tooltip:void 0},{value:"[password]",tooltip:o},{value:"@",tooltip:void 0},...s?m:f,{value:":",tooltip:void 0},{value:x,tooltip:l},{value:"/",tooltip:void 0},{value:"[db-name]",tooltip:r},...s?[{value:"?options=reference%3D",tooltip:void 0},{value:c,tooltip:i}]:[]]:[{value:"postgresql://",tooltip:void 0},{value:"[user]",tooltip:a},...s?[{value:".",tooltip:void 0},{value:c,tooltip:i}]:[],{value:":",tooltip:void 0},{value:"[password]",tooltip:o},{value:"@",tooltip:void 0},...s?m:f,{value:":",tooltip:void 0},{value:x,tooltip:l},{value:"/",tooltip:void 0},{value:"[db-name]",tooltip:r}]:"psql"===n?h?[{value:'psql "postgresql://',tooltip:void 0},{value:"[user]",tooltip:a},{value:":",tooltip:void 0},{value:"[password]",tooltip:o},{value:"@",tooltip:void 0},...s?m:f,{value:":",tooltip:void 0},{value:x,tooltip:l},{value:"/",tooltip:void 0},{value:"[db-name]",tooltip:r},...s?[{value:"?options=reference%3D",tooltip:void 0},{value:c,tooltip:i}]:[]]:[{value:"psql -h ",tooltip:void 0},...s?m:f,{value:" -p ",tooltip:void 0},{value:x,tooltip:l},{value:" -d ",tooltip:void 0},{value:"[db-name]",tooltip:r},{value:" -U ",tooltip:void 0},{value:"[user]",tooltip:a},...s?[{value:".",tooltip:void 0},{value:c,tooltip:i}]:[]]:"golang"===n||"php"===n||"python"===n?h?[{value:"user=",tooltip:void 0},{value:"[user]",tooltip:a},{value:" password=",tooltip:void 0},{value:"[password]",tooltip:o},{value:" host=",tooltip:void 0},...s?m:f,{value:" port=",tooltip:void 0},{value:x,tooltip:l},{value:" dbname=",tooltip:void 0},{value:"[db-name]",tooltip:r},...s?[{value:" options=reference=",tooltip:void 0},{value:c,tooltip:i}]:[]]:[{value:"user=",tooltip:void 0},{value:"[user]",tooltip:a},...s?[{value:".",tooltip:void 0},{value:c,tooltip:i}]:[],{value:" password=",tooltip:void 0},{value:"[password]",tooltip:o},{value:" host=",tooltip:void 0},...s?m:f,{value:" port=",tooltip:void 0},{value:x,tooltip:l},{value:" dbname=",tooltip:void 0},{value:"[db-name]",tooltip:r}]:"jdbc"===n?h?[{value:"jdbc:postgresql://",tooltip:void 0},...s?m:f,{value:":",tooltip:void 0},{value:x,tooltip:l},{value:"/",tooltip:void 0},{value:"[db-name]",tooltip:r},{value:"?user=",tooltip:void 0},{value:"[user]",tooltip:a},{value:"&password=",tooltip:void 0},{value:"[password]",tooltip:o},...s?[{value:"&options=reference%3D",tooltip:void 0},{value:c,tooltip:i}]:[]]:[{value:"jdbc:postgresql://",tooltip:void 0},...s?m:f,{value:":",tooltip:void 0},{value:x,tooltip:l},{value:"/",tooltip:void 0},{value:"[db-name]",tooltip:r},{value:"?user=",tooltip:void 0},{value:"[user]",tooltip:a},...s?[{value:".",tooltip:void 0},{value:c,tooltip:i}]:[],{value:"&password=",tooltip:void 0},{value:"[password]",tooltip:o}]:"dotnet"===n?h?[{value:"User Id=",tooltip:void 0},{value:"[user]",tooltip:a},{value:";Password=",tooltip:void 0},{value:"[password]",tooltip:o},{value:";Server=",tooltip:void 0},...s?m:f,{value:";Port=",tooltip:void 0},{value:x,tooltip:l},{value:";Database=",tooltip:void 0},{value:"[db-name]",tooltip:r},...s?[{value:";Options='reference=",tooltip:void 0},{value:c,tooltip:i},{value:"'",tooltip:void 0}]:[]]:[{value:"User Id=",tooltip:void 0},{value:"[user]",tooltip:a},...s?[{value:".",tooltip:void 0},{value:c,tooltip:i}]:[],{value:";Password=",tooltip:void 0},{value:"[password]",tooltip:o},{value:";Server=",tooltip:void 0},...s?m:f,{value:";Port=",tooltip:void 0},{value:x,tooltip:l},{value:";Database=",tooltip:void 0},{value:"[db-name]",tooltip:r}]:[]},d=e=>{try{return e.split("pooler.supabase.")[1].split(":6543")[0]}catch(e){return"com"}}},56253:function(e,t,n){"use strict";n.d(t,{B:function(){return l},F2:function(){return d},G2:function(){return x},LZ:function(){return h},Y4:function(){return i},_J:function(){return u},hk:function(){return c},nK:function(){return r},q_:function(){return p}});var s=n(68258),a=n(77946),o=n(88116);let r=660,i=50,l=20,c={...a.S,INIT_READ_REPLICA:"INIT_READ_REPLICA",INIT_READ_REPLICA_FAILED:"INIT_READ_REPLICA_FAILED"},d={SOUTHEAST_ASIA:[103.8,1.37],NORTHEAST_ASIA:[139.42,35.41],NORTHEAST_ASIA_2:[126.98,37.56],CENTRAL_CANADA:[-73.6,45.5],WEST_US:[-121.96,37.35],EAST_US:[-78.45,38.13],WEST_EU:[-8,53],WEST_EU_2:[-.1,51],CENTRAL_EU:[8,50],SOUTH_ASIA:[72.88,19.08],OCEANIA:[151.2,-33.86],SOUTH_AMERICA:[-46.38,-23.34],CENTRAL_EU_2:[8.54,47.45],EAST_US_2:[-83,39.96],NORTH_EU:[17.91,59.65],WEST_EU_3:[2.35,48.86]},u={SOUTHEAST_ASIA:[103.8,1.37]},p=Object.keys(o.Wp).map(e=>({key:e,name:null===o.Wp||void 0===o.Wp?void 0:o.Wp[e].displayName,region:null===o.Wp||void 0===o.Wp?void 0:o.Wp[e].code,coordinates:d[e]})).filter(e=>void 0!==e.coordinates),x={[s.Vb.Requested]:"Requesting replica instance",[s.Vb.Started]:"Launching replica instance",[s.Vb.LaunchedReadReplicaInstance]:"Initiating replica setup",[s.Vb.InitiatedReadReplicaSetup]:"Downloading base backup",[s.Vb.DownloadedBaseBackup]:"Replaying WAL archives",[s.Vb.ReplayedWalArchives]:"Completing set up",[s.Vb.CompletedReadReplicaSetup]:"Completed"},h={[s.Bm.ReadReplicaInstanceLaunchFailed]:"Failed to launch replica",[s.Bm.InitiateReadReplicaSetupFailed]:"Failed to initiate replica",[s.Bm.DownloadBaseBackupFailed]:"Failed to download backup",[s.Bm.ReplayWalArchivesFailed]:"Failed to replay WAL archives",[s.Bm.CompleteReadReplicaSetupFailed]:"Failed to set up replica"}},85168:function(e,t,n){"use strict";n.d(t,{N:function(){return eB}});var s=n(97458),a=n(37669),o=n.n(a),r=n(52983),i=n(41023),l=n(45925),c=n(70559),d=n(19168),u=n(97751),p=()=>{let{setAiAssistantPanel:e,aiAssistantPanel:t}=(0,c.WZ)();return(0,s.jsx)(d.z,{type:"text",size:"tiny",id:"assistant-trigger",className:"h-full w-full rounded-none",onClick:()=>{e({open:!t.open})},"data-sentry-element":"Button","data-sentry-component":"AssistantButton","data-sentry-source-file":"AssistantButton.tsx",children:(0,s.jsx)(u.c,{allowHoverEffect:!0,size:20,"data-sentry-element":"AiIconAnimation","data-sentry-source-file":"AssistantButton.tsx"})})},x=n(45196),h=n(71794),m=n(1662),f=n(47721),g=n(1446),v=n(53995),j=n(98261),y=n(96926),b=n(51735),N=n(88587),w=n(41341),_=n(28436),k=n(89861),S=n(81449),C=n(37417),P=n(55604),D=n(80398),A=n(77946);let I=(e,t)=>{if(!(Object.entries(t).length>1))return e;{let n="bucketId"in t,s="preset"in t;return e.split("/").slice(0,n||s?5:4).join("/")}},L=e=>{var t;let{project:n,setOpen:a}=e,r=(0,v.useRouter)(),{ref:i}=(0,l.UO)(),c=I(r.route,r.query),d=null!==(t=null==c?void 0:c.replace("[ref]",n.ref))&&void 0!==t?t:"/project/".concat(n.ref);return(0,s.jsx)(N.di,{value:"".concat(n.name.replaceAll('"',""),"-").concat(n.ref),className:"cursor-pointer w-full",onSelect:()=>{r.push(d),a(!1)},onClick:()=>a(!1),"data-sentry-element":"CommandItem_Shadcn_","data-sentry-component":"ProjectLink","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,s.jsxs)(o(),{href:d,className:"w-full flex items-center justify-between","data-sentry-element":"Link","data-sentry-source-file":"ProjectDropdown.tsx",children:[n.name,n.ref===i&&(0,s.jsx)(x.Z,{size:16})]})},n.ref)};var E=e=>{let{isNewNav:t=!1}=e,n=(0,v.useRouter)(),{ref:a}=(0,l.UO)(),i=(0,b.Vm)(),c=(0,D.l)(),{data:u,isLoading:p}=(0,C.Sy)(),x=(0,P.N)("projects:create"),h=(null==i?void 0:i.parentRef)!==(null==i?void 0:i.ref),f=t?null==u?void 0:u.filter(e=>e.organization_id===(null==c?void 0:c.id)).sort((e,t)=>e.name.localeCompare(t.name)):null==u?void 0:u.sort((e,t)=>e.name.localeCompare(t.name)),g=h?null==f?void 0:f.find(e=>e.ref===(null==i?void 0:i.parentRef)):null==f?void 0:f.find(e=>e.ref===a),[y,_]=(0,r.useState)(!1);return p||!g?(0,s.jsx)(j.Z,{className:"w-[90px]"}):A.Qy?(0,s.jsxs)(w.J2,{open:y,onOpenChange:_,modal:!1,children:[(0,s.jsx)(w.xo,{asChild:!0,children:(0,s.jsx)(d.z,{type:"text",className:"pr-2",iconRight:(0,s.jsx)(m.Z,{}),children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:t?"text-sm":"text-xs",children:null==g?void 0:g.name})})})}),(0,s.jsx)(w.yk,{className:"p-0",side:"bottom",align:"start",children:(0,s.jsxs)(N.mY,{children:[(0,s.jsx)(N.sZ,{placeholder:"Find project..."}),(0,s.jsxs)(N.e8,{children:[(0,s.jsx)(N.rb,{children:"No projects found"}),(0,s.jsx)(N.fu,{children:(0,s.jsx)(k.x,{className:(f||[]).length>7?"h-[210px]":"",children:null==f?void 0:f.map(e=>(0,s.jsx)(L,{project:e,setOpen:_},e.ref))})}),x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.zz,{}),(0,s.jsx)(N.fu,{children:(0,s.jsx)(N.di,{className:"cursor-pointer w-full",onSelect:()=>{_(!1),n.push("/new/".concat(null==c?void 0:c.slug))},onClick:()=>_(!1),children:(0,s.jsxs)(o(),{href:"/new/".concat(null==c?void 0:c.slug),onClick:()=>{_(!1)},className:"w-full flex items-center gap-2",children:[(0,s.jsx)(S.Z,{size:14,strokeWidth:1.5}),(0,s.jsx)("p",{children:"New project"})]})})})]})]})]})})]}):(0,s.jsx)(d.z,{type:"text",children:(0,s.jsx)("span",{className:t?"text-sm":"text-xs",children:null==g?void 0:g.name})})};let F=e=>{var t;let{branch:n,isSelected:a,setOpen:r}=e,i=(0,v.useRouter)(),l=I(i.route,i.query),c=null!==(t=null==l?void 0:l.replace("[ref]",n.project_ref))&&void 0!==t?t:"/project/".concat(n.project_ref);return(0,s.jsx)(o(),{passHref:!0,href:c,"data-sentry-element":"Link","data-sentry-component":"BranchLink","data-sentry-source-file":"BranchDropdown.tsx",children:(0,s.jsxs)(N.di,{value:n.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{r(!1),i.push(c)},onClick:()=>{r(!1)},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"BranchDropdown.tsx",children:[(0,s.jsx)("p",{className:"truncate w-60",title:n.name,children:n.name}),a&&(0,s.jsx)(x.Z,{})]})})};var z=e=>{let{isNewNav:t=!1}=e,n=(0,v.useRouter)(),{ref:a}=(0,l.UO)(),i=(0,b.Vm)(),c=(null==i?void 0:i.parent_project_ref)!==void 0,u=void 0!==i?c?i.parent_project_ref:a:void 0,{data:p,isLoading:x,isError:S,isSuccess:C}=(0,y.V)({projectRef:u}),[P,D]=(0,r.useState)(!1),A=null==p?void 0:p.find(e=>e.project_ref===a),I="https://github.com/orgs/supabase/discussions/18937";return(0,s.jsxs)(s.Fragment,{children:[x&&(0,s.jsx)(j.Z,{className:"w-[90px]"}),S&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,s.jsx)(h.Z,{size:16,strokeWidth:2}),(0,s.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),C&&p.length>0&&(0,s.jsx)("div",{className:"flex items-center px-2",children:(0,s.jsxs)(w.J2,{open:P,onOpenChange:D,modal:!1,children:[(0,s.jsx)(w.xo,{asChild:!0,children:(0,s.jsx)(d.z,{type:"text",className:"pr-2",iconRight:(0,s.jsx)(m.Z,{}),children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:t?"text-sm":"text-xs",children:null==A?void 0:A.name}),(null==A?void 0:A.is_default)?(0,s.jsx)(_.C,{variant:"warning",children:"Production"}):(0,s.jsx)(_.C,{variant:"brand",children:"Preview Branch"})]})})}),(0,s.jsx)(w.yk,{className:"p-0",side:"bottom",align:"start",children:(0,s.jsxs)(N.mY,{children:[(0,s.jsx)(N.sZ,{placeholder:"Find branch..."}),(0,s.jsxs)(N.e8,{children:[(0,s.jsx)(N.rb,{children:"No branches found"}),(0,s.jsx)(N.fu,{children:(0,s.jsx)(k.x,{className:"max-h-[210px] overflow-y-auto",children:null==p?void 0:p.map(e=>(0,s.jsx)(F,{branch:e,isSelected:e.id===(null==A?void 0:A.id),setOpen:D},e.id))})}),(0,s.jsx)(N.zz,{}),(0,s.jsx)(N.fu,{children:(0,s.jsx)(N.di,{className:"cursor-pointer w-full",onSelect:e=>{D(!1),n.push("/project/".concat(a,"/branches"))},onClick:()=>D(!1),children:(0,s.jsxs)(o(),{href:"/project/".concat(a,"/branches"),className:"w-full flex items-center gap-2",children:[(0,s.jsx)(f.Z,{size:14,strokeWidth:1.5}),(0,s.jsx)("p",{children:"Manage branches"})]})})}),(0,s.jsx)(N.zz,{}),(0,s.jsx)(N.fu,{children:(0,s.jsx)(N.di,{className:"cursor-pointer w-full",onSelect:()=>{var e,t;D(!1),null===(t=window)||void 0===t||null===(e=t.open(I,"_blank"))||void 0===e||e.focus()},onClick:()=>D(!1),children:(0,s.jsxs)(o(),{href:I,target:"_blank",onClick:()=>{D(!1)},className:"w-full flex gap-2",children:[(0,s.jsx)(g.Z,{size:14,strokeWidth:1,className:"text-muted mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"Branching feedback"}),(0,s.jsx)("p",{className:"text-lighter",children:"Join Github Discussion"})]})]})})})]})]})})]})})]})},R=n(198),T=n(75762),Z=n(97881),O=n(87790),U=e=>{let{isNewNav:t=!1}=e,n=(0,c.WZ)(),a=(0,b.Vm)(),o=(0,O.Xo)(R.KA.CREATE,"preview_branches",{resource:{is_default:!0}}),r=!o||(null==a?void 0:a.status)!=="ACTIVE_HEALTHY";return(0,s.jsx)(Z.u,{disabled:r,type:t?"default":"text",icon:(0,s.jsx)(T.Z,{strokeWidth:1.5}),onClick:()=>n.setShowEnableBranchingModal(!0),tooltip:{content:{side:"bottom",text:(null==a?void 0:a.status)!=="ACTIVE_HEALTHY"?"Unpause your project to enable branching":o?void 0:"You need additional permissions to enable branching"}},"data-sentry-element":"ButtonTooltip","data-sentry-component":"EnableBranchingButton","data-sentry-source-file":"EnableBranchingButton.tsx",children:"Enable branching"})},B=n(11100),W=n(64071),q=n(86355),M=e=>{let{isNewNav:t=!1}=e,n=(0,v.useRouter)(),a=(0,D.l)(),{data:i,isLoading:l}=(0,B.tl)(),c=(0,P.N)("organizations:create"),u=null==a?void 0:a.slug,p=null==a?void 0:a.name,{data:h,isSuccess:f}=(0,W.Gl)({orgSlug:u}),[g,y]=(0,r.useState)(!1);return l?(0,s.jsx)(j.Z,{className:"w-[90px]"}):(0,s.jsx)("div",{className:"flex items-center","data-sentry-component":"OrganizationDropdown","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,s.jsxs)(w.J2,{open:g,onOpenChange:y,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,s.jsx)(w.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,s.jsx)(d.z,{type:"text",className:"pr-2",iconRight:(0,s.jsx)(m.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:t?"text-sm":"text-xs",children:p}),f&&(0,s.jsx)(_.C,{variant:"default",children:null==h?void 0:h.plan.name})]})})}),(0,s.jsx)(w.yk,{className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,s.jsxs)(N.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,s.jsx)(N.sZ,{placeholder:"Find organization...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,s.jsxs)(N.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,s.jsx)(N.rb,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:"No organizations found"}),(0,s.jsx)(N.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,s.jsx)(k.x,{className:(i||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"OrganizationDropdown.tsx",children:null==i?void 0:i.map(e=>{let a=n.pathname.includes("[slug]")?n.pathname.replace("[slug]",e.slug):t?"/org/".concat(e.slug):"/org/".concat(e.slug,"/general");return(0,s.jsx)(N.di,{value:"".concat(e.name.replaceAll('"',"")," - ").concat(e.slug),className:"cursor-pointer w-full",onSelect:()=>{y(!1),n.push(a)},onClick:()=>y(!1),children:(0,s.jsxs)(o(),{href:a,className:"w-full flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)(q.Z,{organization:e})]}),e.slug===u&&(0,s.jsx)(x.Z,{size:16})]})},e.slug)})})}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.zz,{}),(0,s.jsx)(N.fu,{children:(0,s.jsx)(N.di,{className:"cursor-pointer w-full",onSelect:e=>{y(!1),n.push("/new")},onClick:()=>y(!1),children:(0,s.jsxs)(o(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,s.jsx)(S.Z,{size:14,strokeWidth:1.5}),(0,s.jsx)("p",{children:"New organization"})]})})})]})]})]})})]})})};let V=e=>e.length?e.filter(e=>{if(!e.capped||!e.available_in_plan||e.unlimited||"DISK_IOPS_GP3"===e.metric)return!1;let t=e.pricing_free_units||0;return e.usage>t}).map(e=>e.metric):[];var H=n(85517),Y=n(67983),Q=n(5546),G=e=>{let{defaultValue:t}=e;return(0,s.jsx)(s.Fragment,{children:(null==t?void 0:t.length)?t.map((e,t)=>(0,s.jsxs)(r.Fragment,{children:[t>0&&(0,s.jsx)("span",{className:"text-border-stronger dark:text-border-strong",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,s.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,s.jsx)("a",{onClick:e.onClick||(()=>{}),className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)):null})},J=n(93291),K=n(74636),X=n(24047),$=n(13490),ee=n(34549),et=n(61223),en=n(92772),es=n(36457),ea=n(64618),eo=n(61250);let er=()=>["notifications"],ei=e=>["notifications",e],el=()=>["notifications","summary"];async function ec(){let{data:e,error:t}=await (0,eo.r$)("/platform/notifications/archive-all",{headers:{Version:"2"}});return t&&(0,eo.S3)(t),e}let ed=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,es.NL)();return(0,ea.D)(()=>ec(),{async onSuccess(t,n,a){await s.invalidateQueries(er()),await (null==e?void 0:e(t,n,a))},async onError(e,n,s){void 0===t?ee.Am.error("Failed to archive all notifications: ".concat(e.message)):t(e,n,s)},...n})};var eu=n(90688);async function ep(e,t){let{status:n,filters:s,page:a=0,limit:o=10}=e,{data:r,error:i}=await (0,eo.U2)("/platform/notifications",{params:{query:{offset:String(a*o),limit:String(o),...void 0!==n?{status:n}:{status:["new","seen"]},...s.priority.length>0?{priority:s.priority}:{},...s.organizations.length>0?{org_slug:s.organizations}:{},...s.projects.length>0?{project_ref:s.projects}:{}}},headers:{Version:"2"},signal:t});return i&&(0,eo.S3)(i),r}let ex=function(e){let{status:t,filters:n,limit:s=10}=e,{enabled:a=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,eu.N)(ei({status:t,filters:n,limit:s}),e=>{let{signal:a,pageParam:o}=e;return ep({status:t,filters:n,limit:s,page:o},a)},{enabled:a,getNextPageParam(e,t){let n=t.length;if(!((null!=e?e:[]).length<s))return n},...o})};var eh=n(28894);async function em(e){let{data:t,error:n}=await (0,eo.U2)("/platform/notifications/summary",{signal:e});return n&&(0,eo.S3)(n),t}let ef=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,eh.a)(el(),e=>{let{signal:t}=e;return em(t)},e)};async function eg(e){let{ids:t,status:n}=e,{data:s,error:a}=await (0,eo.r$)("/platform/notifications",{body:t.map(e=>({id:e,status:n})),headers:{Version:"2"}});return a&&(0,eo.S3)(a),s}let ev=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,es.NL)();return(0,ea.D)(e=>eg(e),{async onSuccess(t,n,a){await s.invalidateQueries(["notifications"]),await (null==e?void 0:e(t,n,a))},async onError(e,n,s){void 0===t?ee.Am.error("Failed to update notifications: ".concat(e.message)):t(e,n,s)},...n})};var ej=n(28622),ey=n(34653);let eb=(0,ej.sj)({filterStatuses:[],filterPriorities:[],filterOrganizations:[],filterProjects:[],get numFiltersApplied(){return[...this.filterStatuses,...this.filterPriorities,...this.filterOrganizations,...this.filterProjects].length},setFilters:(e,t)=>{switch(t){case"status":eb.filterStatuses.includes(e)?eb.filterStatuses=eb.filterStatuses.filter(t=>t!==e):eb.filterStatuses=eb.filterStatuses.concat([e]);break;case"priority":eb.filterPriorities.includes(e)?eb.filterPriorities=eb.filterPriorities.filter(t=>t!==e):eb.filterPriorities=eb.filterPriorities.concat([e]);break;case"organizations":eb.filterOrganizations.includes(e)?eb.filterOrganizations=eb.filterOrganizations.filter(t=>t!==e):eb.filterOrganizations=eb.filterOrganizations.concat([e]);break;case"projects":eb.filterProjects.includes(e)?eb.filterProjects=eb.filterProjects.filter(t=>t!==e):eb.filterProjects=eb.filterProjects.concat([e])}},resetFilters:()=>{eb.filterStatuses=[],eb.filterPriorities=[],eb.filterOrganizations=[],eb.filterProjects=[]}}),eN=e=>(0,ey.R)(eb,e);var ew=n(55203),e_=n(23066),ek=n(13948),eS=n(28977),eC=n.n(eS),eP=n(2552),eD=n(49454),eA=n(70999),eI=n(42772),eL=e=>{var t;let{index:n,listRef:a,item:i,setRowHeight:l,getProject:c,getOrganizationById:u,getOrganizationBySlug:p,onUpdateNotificationStatus:x,queueMarkRead:h}=e,m=(0,r.useRef)(null),{ref:f,inView:g}=(0,eA.YD)(),{status:v,priority:j}=i,y=i.data,b=void 0!==y.project_ref?c(y.project_ref):void 0,N=void 0!==y.org_slug?p(y.org_slug):void 0!==b?u(b.organization_id):void 0,w=eC()().diff(eC()(i.inserted_at),"day"),_=eC()(i.inserted_at).fromNow(),k=eC()(i.inserted_at).format("MMM DD, YYYY"),S=e=>{console.log("Action",e)};return(0,r.useEffect)(()=>{if(m.current){var e;null==a||null===(e=a.current)||void 0===e||e.resetAfterIndex(0),l(n,m.current.clientHeight)}},[m]),(0,r.useEffect)(()=>{g&&"new"===i.status&&h(i.id)},[g]),(0,s.jsxs)("div",{ref:m,className:(0,Q.cn)("p-4 flex justify-between gap-x-3 group",0!==n?"border-t border-overlay":"","new"===v?"bg-surface-100/50":"bg-background"),"data-sentry-component":"NotificationRow","data-sentry-source-file":"NotificationRow.tsx",children:[(0,s.jsxs)("div",{ref:f,className:"flex flex-col gap-y-2.5 w-full py-0.5",children:[(void 0!==b||void 0!==N)&&(0,s.jsxs)("div",{className:"flex items-center max-w-[350px]",children:[void 0!==N&&(0,s.jsx)(o(),{title:N.name,href:"/org/".concat(N.slug,"/general"),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:N.name}),void 0!==N&&void 0!==b&&(0,s.jsx)("span",{className:"text-foreground-lighter",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,s.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),void 0!==b&&(0,s.jsx)(o(),{title:b.name,href:"/project/".concat(b.ref),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:b.name})]}),(0,s.jsx)("div",{className:"flex items-center gap-x-2",children:(0,s.jsxs)("p",{className:"text-sm break-word",children:[y.title," ",(0,s.jsx)("span",{className:"ml-1 text-xs text-foreground-light capitalize-sentence",children:w>1?k:_})]})}),void 0!==y.message&&(0,s.jsx)(eI.U,{className:"text-foreground-light text-xs",content:y.message}),(null!==(t=y.actions)&&void 0!==t?t:[]).length>0&&(0,s.jsx)("div",{className:"flex items-center gap-x-2",children:y.actions.map((e,t)=>{let n="".concat(i.id,"-action-").concat(t);if(void 0!==e.url){var a,r;let t=e.url.includes("[ref]")?e.url.replace("[ref]",null!==(a=null==b?void 0:b.ref)&&void 0!==a?a:"_"):e.url.includes("[slug]")?e.url.replace("[slug]",null!==(r=null==N?void 0:N.slug)&&void 0!==r?r:"_"):e.url;return(0,s.jsx)(d.z,{type:"default",icon:(0,s.jsx)(eP.Z,{strokeWidth:1.5}),asChild:!0,children:(0,s.jsx)(o(),{href:t,target:"_blank",rel:"noreferrer",children:e.label})},n)}return void 0!==e.action_type?(0,s.jsx)(d.z,{type:"default",onClick:()=>S(e.action_type),children:e.label},n):null})})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-y-2",children:["Warning"===j&&(0,s.jsx)(ew.aN,{className:"w-5 h-5"}),"Critical"===j&&(0,s.jsx)(ew.ku,{className:"w-5 h-5"}),"archived"===i.status?(0,s.jsxs)(ek.fC,{delayDuration:0,children:[(0,s.jsx)(ek.xz,{asChild:!0,children:(0,s.jsx)(d.z,{type:"outline",icon:(0,s.jsx)(eD.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>x(i.id,"seen")})}),(0,s.jsx)(ek.h_,{children:(0,s.jsxs)(ek.VY,{side:"bottom",children:[(0,s.jsx)(ek.Eh,{className:"radix-tooltip-arrow"}),(0,s.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"Unarchive"})})]})})]}):(0,s.jsxs)(ek.fC,{delayDuration:0,children:[(0,s.jsx)(ek.xz,{asChild:!0,children:(0,s.jsx)(d.z,{type:"outline",icon:(0,s.jsx)($.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>x(i.id,"archived")})}),(0,s.jsx)(ek.h_,{children:(0,s.jsxs)(ek.VY,{side:"bottom",children:[(0,s.jsx)(ek.Eh,{className:"radix-tooltip-arrow"}),(0,s.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"Archive"})})]})})]})]})]})},eE=n(81028),eF=n(8926),ez=n(77518),eR=n(27037),eT=n(65497);let eZ=e=>{let{activeTab:t}=e,[n,a]=(0,r.useState)(!1),o=eN(),{data:i}=(0,B.tl)(),{data:l}=(0,C.Sy)();return(0,s.jsxs)(w.J2,{modal:!0,open:n,onOpenChange:a,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"NotificationsFilter","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(w.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,s.jsx)(d.z,{type:o.numFiltersApplied>0?"default":"text",icon:(0,s.jsx)(eE.Z,{strokeWidth:1}),className:"px-1 h-[26px]","data-sentry-element":"Button","data-sentry-source-file":"NotificationsFilter.tsx",children:o.numFiltersApplied>0&&"".concat(o.numFiltersApplied," filter").concat(o.numFiltersApplied>1?"s":""," applied")})}),(0,s.jsx)(w.yk,{className:"p-0 w-64",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,s.jsxs)(N.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(N.sZ,{placeholder:"Find filter...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsxs)(N.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsxs)(k.x,{className:"max-h-[240px] py-1 overflow-y-auto","data-sentry-element":"ScrollArea","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsxs)(N.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(ez.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Status"}),(0,s.jsx)(N.di,{disabled:"archived"===t,onSelect:()=>{o.setFilters("unread","status")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,s.jsxs)(eR._,{htmlFor:"unread",className:(0,Q.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",o.filterStatuses.includes("unread")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(eT.X,{name:"unread",checked:o.filterStatuses.includes("unread"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),"Unread"]})})]}),(0,s.jsx)(N.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsxs)(N.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(ez.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Priority"}),(0,s.jsx)(N.di,{onSelect:()=>{o.setFilters("Warning","priority")},className:"flex items-center gap-x-2","data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,s.jsxs)(eR._,{htmlFor:"warning",className:(0,Q.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",o.filterPriorities.includes("Warning")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(eT.X,{name:"warning",checked:o.filterPriorities.includes("Warning"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsx)(ew.aN,{className:"w-2 h-2","data-sentry-element":"WarningIcon","data-sentry-source-file":"NotificationsFilter.tsx"}),"Warning"]})}),(0,s.jsx)(N.di,{onSelect:()=>{o.setFilters("Critical","priority")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,s.jsxs)(eR._,{htmlFor:"critical",className:(0,Q.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",o.filterPriorities.includes("Critical")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(eT.X,{name:"critical",checked:o.filterPriorities.includes("Critical"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsx)(ew.ku,{className:"w-2 h-2","data-sentry-element":"CriticalIcon","data-sentry-source-file":"NotificationsFilter.tsx"}),"Critical"]})},"critical")]}),(0,s.jsx)(N.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsxs)(N.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(ez.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Organizations"}),(null!=i?i:[]).map(e=>(0,s.jsx)(N.di,{value:e.name.replaceAll('"',""),className:"flex items-center gap-x-2",onSelect:()=>{o.setFilters(e.slug,"organizations")},children:(0,s.jsxs)(eR._,{htmlFor:"".concat(e.slug),className:(0,Q.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",o.filterOrganizations.includes(e.slug)&&"text-foreground"),children:[(0,s.jsx)(eT.X,{name:"".concat(e.slug),checked:o.filterOrganizations.includes(e.slug),className:""}),e.name]})},e.slug))]}),(0,s.jsx)(N.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsxs)(N.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(ez.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Projects"}),(null!=l?l:[]).map(e=>(0,s.jsx)(N.di,{className:"flex items-center gap-x-2",onSelect:t=>{o.setFilters(e.ref,"projects")},children:(0,s.jsxs)(eR._,{htmlFor:"".concat(e.ref),className:(0,Q.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",o.filterProjects.includes(e.ref)&&"text-foreground"),children:[(0,s.jsx)(eT.X,{name:"".concat(e.ref),checked:o.filterProjects.includes(e.ref),className:""}),e.name]})},e.ref))]})]}),(0,s.jsx)(N.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,s.jsx)(N.fu,{"data-sentry-element":"CommandGroup","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,s.jsxs)(N.di,{onSelect:()=>o.resetFilters(),className:"flex gap-x-2 items-center","data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,s.jsx)(eF.Z,{className:"text-foreground-muted",size:12,strokeWidth:1,"data-sentry-element":"RotateCcw","data-sentry-source-file":"NotificationsFilter.tsx"}),"Reset filters"]})})]})]})})]})};var eO=()=>{var e,t,n;let[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)("inbox"),c=eN(),u=(0,r.useRef)([]),p=(0,r.useRef)({}),{data:x}=(0,C.Sy)(),{data:h}=(0,B.tl)(),{data:m,error:f,isLoading:g,isError:v,isSuccess:y,hasNextPage:b,isFetchingNextPage:N,fetchNextPage:_}=ex({status:"archived"===i?"archived":c.filterStatuses.includes("unread")?"new":void 0,filters:{priority:c.filterPriorities,organizations:c.filterOrganizations,projects:c.filterProjects}}),{data:k}=ef(),{mutate:S}=ev(),{mutate:P,isLoading:D}=ed({onSuccess:()=>ee.Am.success("Successfully archived all notifications")}),A=(0,r.useMemo)(()=>{var e;return null!==(e=null==m?void 0:m.pages.flatMap(e=>e))&&void 0!==e?e:[]},[null==m?void 0:m.pages]),I=null!==(e=null==k?void 0:k.unread_count)&&void 0!==e&&e,L=null==k?void 0:k.has_warning,E=null==k?void 0:k.has_critical,F=()=>{u.current.length>0&&S({ids:u.current,status:"seen"})};return(0,s.jsxs)(w.J2,{modal:!1,open:a,onOpenChange:e=>{o(e),e||F()},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"NotificationsPopoverV2","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,s.jsx)(w.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:(0,s.jsx)(d.z,{type:I?"outline":"text",className:(0,Q.cn)("h-[26px]","group",I?"rounded-full px-1.5":"px-1",E?"border-destructive-500 hover:border-destructive-600 hover:bg-destructive-300":L?"border-warning-500 hover:border-warning-600 hover:bg-warning-300":""),icon:E?(0,s.jsx)(ew.ku,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):L?(0,s.jsx)(ew.aN,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):I?(0,s.jsx)("div",{className:(0,Q.cn)("transition-all -mr-3 group-hover:-mr-1","z-10 h-4 flex items-center justify-center rounded-full bg-black dark:bg-white",(null!==(t=null==k?void 0:k.unread_count)&&void 0!==t?t:0)>9?"px-0.5 w-auto":"w-4"),children:(0,s.jsx)("p",{className:"text-xs text-background-alternative",children:null==k?void 0:k.unread_count})}):null,iconRight:(0,s.jsx)(X.Z,{size:18,strokeWidth:1.5,className:"transition group-hover:text-foreground text-foreground-light"}),"data-sentry-element":"Button","data-sentry-source-file":"NotificationsPopover.tsx"})}),(0,s.jsxs)(w.yk,{className:"p-0 w-[450px] overflow-hidden",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,s.jsxs)("div",{className:"px-4",children:[(0,s.jsx)("p",{className:"pt-4 pb-1 text-sm",children:"Notifications"}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(e_.mQ,{className:"w-full",onValueChange:e=>{l(e),"archived"===e&&c.filterStatuses.includes("unread")&&c.setFilters("unread","status")},value:i,"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)(e_.dr,{className:"flex gap-5 grow border-none","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,s.jsxs)(e_.SP,{id:"inbox",value:"inbox",className:"px-0 data-[state=active]:bg-transparent flex gap-2","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:["Inbox",(0,s.jsx)("div",{className:(0,Q.cn)("flex items-center justify-center text-xs rounded-full bg-surface-300 h-4",(null!==(n=null==k?void 0:k.unread_count)&&void 0!==n?n:0)>9?"px-0.5 w-auto":"w-4"),children:null==k?void 0:k.unread_count})]}),(0,s.jsx)(e_.SP,{id:"archived",value:"archived",className:"px-0 data-[state=active]:bg-transparent","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:"Archived"})]}),(0,s.jsx)(eZ,{activeTab:i,"data-sentry-element":"NotificationsFilter","data-sentry-source-file":"NotificationsPopover.tsx"})]})})})]}),(0,s.jsxs)("div",{className:"border-t",children:[g&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(j.A,{})}),v&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(et.Z,{subject:"Failed to retrieve notifications",error:f})}),y&&(0,s.jsx)("div",{className:"flex flex-1 h-[400px] bg-background",children:A.length>0&&!("archived"===i&&c.filterStatuses.includes("unread"))?(0,s.jsx)(en.Z,{items:A,ItemComponent:eL,LoaderComponent:(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(j.Z,{})}),itemProps:{setRowHeight:(e,t)=>{p.current&&(p.current={...p.current,[e]:t})},getProject:e=>null==x?void 0:x.find(t=>t.ref===e),getOrganizationById:e=>null==h?void 0:h.find(t=>t.id===e),getOrganizationBySlug:e=>null==h?void 0:h.find(t=>t.slug===e),onUpdateNotificationStatus:(e,t)=>{S({ids:[e],status:t})},queueMarkRead:e=>{u.current&&!u.current.includes(e)&&u.current.push(e)}},getItemSize:e=>{var t,n;return null!==(n=null==p?void 0:null===(t=p.current)||void 0===t?void 0:t[e])&&void 0!==n?n:56},hasNextPage:b,isLoadingNextPage:N,onLoadNextPage:()=>_()}):(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 items-center flex-grow justify-center",children:[(0,s.jsx)(X.Z,{size:32,className:"text-foreground-light"}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsx)("p",{className:"text-foreground-light text-sm mx-auto text-center",children:"archived"===i?"No archived notifications".concat(c.numFiltersApplied>0?" based on the ".concat(c.numFiltersApplied," filter").concat(c.numFiltersApplied>1?"s":""," applied"):""):c.numFiltersApplied>0?"No notifications based on the ".concat(c.numFiltersApplied," filter").concat(c.numFiltersApplied>1?"s":""," applied"):"All caught up"}),(0,s.jsx)("p",{className:"text-foreground-lighter text-xs w-60 mx-auto text-center",children:"archived"===i?"Notifications that you have previously archived will be shown here":"You will be notified here for any notices on your organizations and projects"})]})]})})]}),A.length>0&&"inbox"===i&&(0,s.jsx)("div",{className:"flex items-center justify-center p-1.5 border-t",children:(0,s.jsx)(d.z,{disabled:D,loading:D,type:"text",icon:(0,s.jsx)($.Z,{}),onClick:()=>P(),children:"Archive all"})})]})]})};let eU=()=>(0,s.jsx)("span",{className:"text-border-stronger","data-sentry-component":"LayoutHeaderDivider","data-sentry-source-file":"LayoutHeader.tsx",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision","data-sentry-element":"svg","data-sentry-source-file":"LayoutHeader.tsx",children:(0,s.jsx)("path",{d:"M16 3.549L7.12 20.600","data-sentry-element":"path","data-sentry-source-file":"LayoutHeader.tsx"})})});var eB=e=>{let{customHeaderComponents:t,breadcrumbs:n=[],headerBorder:a=!0,showProductMenu:c,handleMobileMenu:d}=e,{ref:u}=(0,l.UO)(),x=(0,b.Vm)(),h=(0,D.l)(),m=(null==x?void 0:x.is_branch_enabled)===!0,f=(0,Y.P)("connectDialogUpdate"),{data:g}=(0,W.Gl)({orgSlug:null==h?void 0:h.slug}),{data:v}=(0,H.v)({orgSlug:null==h?void 0:h.slug},{enabled:(null==g?void 0:g.usage_billing_enabled)===!1}),j=(0,r.useMemo)(()=>!!v&&V((null==v?void 0:v.usages)||[]).length>0,[v]);return(0,s.jsxs)("div",{className:(0,Q.cn)("flex h-12 max-h-12 min-h-12 items-center bg-dash-sidebar",a?"border-b border-default":""),"data-sentry-component":"LayoutHeader","data-sentry-source-file":"LayoutHeader.tsx",children:[c&&(0,s.jsx)("div",{className:"flex items-center justify-center border-r flex-0 md:hidden h-full aspect-square",children:(0,s.jsxs)("button",{title:"Menu dropdown button",className:(0,Q.cn)("group/view-toggle ml-4 flex justify-center flex-col border-none space-x-0 items-start gap-1 !bg-transparent rounded-md min-w-[30px] w-[30px] h-[30px]"),onClick:()=>d(),children:[(0,s.jsx)("div",{className:"h-px inline-block left-0 w-4 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"}),(0,s.jsx)("div",{className:"h-px inline-block left-0 w-3 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"})]})}),(0,s.jsxs)("div",{className:"relative flex flex-1 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between py-2 pl-1 pr-3 md:px-3 flex-nowrap overflow-x-auto",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(M,{}),(0,s.jsx)(eU,{}),(0,s.jsx)(E,{}),j&&(0,s.jsx)("div",{className:"ml-2",children:(0,s.jsx)(o(),{href:"/org/".concat(null==h?void 0:h.slug,"/usage"),children:(0,s.jsx)(_.C,{variant:"destructive",children:"Exceeding usage limits"})})}),x&&m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eU,{}),(0,s.jsx)(z,{})]})]}),(0,s.jsxs)("div",{className:"ml-3 flex items-center gap-x-3",children:[f&&(0,s.jsx)(i.Z,{}),!m&&(0,s.jsx)(U,{})]})]}),(0,s.jsx)(G,{defaultValue:n,"data-sentry-element":"BreadcrumbsView","data-sentry-source-file":"LayoutHeader.tsx"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[t&&t,A.Qy&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J.v,{}),(0,s.jsx)(eO,{}),(0,s.jsx)(K.Z,{})]})]})]}),(0,s.jsx)("div",{className:"absolute md:hidden left-0 h-full w-3 bg-gradient-to-r from-background-dash-sidebar to-transparent pointer-events-none"}),(0,s.jsx)("div",{className:"absolute md:hidden right-0 h-full w-3 bg-gradient-to-l from-background-dash-sidebar to-transparent pointer-events-none"})]}),!!u&&(0,s.jsx)("div",{className:"border-l flex-0 h-full",children:(0,s.jsx)(p,{})})]})}},4733:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});let s={pgBouncerStatus:e=>["projects",e,"pgbouncer"],settings:e=>["projects",e,"settings"],settingsV2:e=>["projects",e,"settings-v2"],api:e=>["projects",e,"settings","api"],postgrest:e=>["projects",e,"postgrest"],jwtSecretUpdatingStatus:e=>["projects",e,"jwt-secret-updating-status"],storage:e=>["projects",e,"storage"],upgradeEligibility:e=>["projects",e,"upgrade-eligibility"],upgradeStatus:e=>["projects",e,"upgrade-status"],diskAttributes:e=>["projects",e,"disk-attributes"],diskBreakdown:e=>["projects",e,"disk-breakdown"],diskUtilization:e=>["projects",e,"disk-utilization"],projectCreationPostgresVersions:(e,t,n)=>["projects",e,t,n,"available-creation-versions"],projectUnpausePostgresVersions:e=>["projects",e,"available-unpause-versions"]}},58035:function(e,t,n){"use strict";n.d(t,{Pb:function(){return d},zR:function(){return c}});var s=n(198),a=n(28894),o=n(61250),r=n(87790),i=n(4733);async function l(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{data:s,error:a}=await (0,o.U2)("/platform/projects/{ref}/settings",{params:{path:{ref:n}},signal:t});return a&&(0,o.S3)(a),s}let c=function(e){let{projectRef:t}=e,{enabled:n=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,r.Xo)(s.KA.TENANT_SQL_ADMIN_WRITE,"*");return(0,a.a)(i.U.settingsV2(t),e=>{let{signal:n}=e;return l({projectRef:t},n)},{enabled:n&&void 0!==t,refetchInterval(e){var t;let n=null!==(t=null==e?void 0:e.service_api_keys)&&void 0!==t?t:[];return c&&0===n.length?2e3:0},...o})},d=e=>{var t,n;return{anonKey:(null!==(t=null==e?void 0:e.service_api_keys)&&void 0!==t?t:[]).find(e=>"anon"===e.tags),serviceKey:(null!==(n=null==e?void 0:e.service_api_keys)&&void 0!==n?n:[]).find(e=>"service_role"===e.tags)}}},30344:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});let s={schemas:e=>["projects",e,"schemas"],indexes:(e,t)=>["projects",e,"indexes",t],keywords:e=>["projects",e,"keywords"],migrations:e=>["projects",e,"migrations"],tableColumns:(e,t,n)=>["projects",e,"table-columns",t,n],databaseFunctions:e=>["projects",e,"database-functions"],entityDefinition:(e,t)=>["projects",e,"entity-definition",t],entityDefinitions:(e,t)=>["projects",e,"entity-definitions",t],tableDefinition:(e,t)=>["projects",e,"table-definition",t],viewDefinition:(e,t)=>["projects",e,"view-definition",t],backups:e=>["projects",e,"database","backups"],poolingConfiguration:e=>["projects",e,"database","pooling-configuration"],indexesFromQuery:(e,t)=>["projects",e,"indexes",{query:t}],indexAdvisorFromQuery:(e,t)=>["projects",e,"index-advisor",{query:t}],tableConstraints:(e,t)=>["projects",e,"table-constraints",t],foreignKeyConstraints:(e,t)=>["projects",e,"foreign-key-constraints",t],databaseSize:e=>["projects",e,"database-size"],maxConnections:e=>["projects",e,"max-connections"]}},19052:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var s=n(28894),a=n(61250),o=n(30344);async function r(e,t){let{projectRef:n}=e;if(!n)throw Error("Project ref is required");let{data:s,error:o}=await (0,a.U2)("/platform/projects/{ref}/config/supavisor",{params:{path:{ref:n}},signal:t});return o&&(0,a.S3)(o),s}let i=function(e){let{projectRef:t}=e,{enabled:n=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(o.A.poolingConfiguration(t),e=>{let{signal:n}=e;return r({projectRef:t},n)},{enabled:n&&void 0!==t,...a})}},38005:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s={list:e=>["project",e,"replicas"],statuses:e=>["project",e,"replicas-statuses"],loadBalancers:e=>["project",e,"load-balancers"],replicaLag:(e,t)=>["project",e,"replica-lag",t]}},80887:function(e,t,n){"use strict";n.d(t,{Zs:function(){return i},bN:function(){return d},l_:function(){return l}});var s=n(28894),a=n(45925),o=n(61250),r=n(38005);let i=2,l=5;async function c(e,t){let{projectRef:n}=e;if(!n)throw Error("Project ref is required");let{data:s,error:a}=await (0,o.U2)("/platform/projects/{ref}/databases",{params:{path:{ref:n}},signal:t});return a&&(0,o.S3)(a),s}let d=function(e){let{projectRef:t}=e,{enabled:n=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(r.Z.list(t),e=>{let{signal:n}=e;return c({projectRef:t},n)},{enabled:n&&a.Qy&&void 0!==t,...o})}},50194:function(e,t,n){"use strict";n.d(t,{U:function(){return r},f:function(){return i}});var s=n(56253),a=n(77875),o=n.n(a);let r=e=>{var t;return o()(null!==(t=e.split("-"))&&void 0!==t?t:[])},i=e=>{var t,n;return null===(t=o()(null===(n=s.q_.find(t=>t.region===e))||void 0===n?void 0:n.name.split("(")))||void 0===t?void 0:t.split(")")[0]}},34493:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var s=n(28894),a=n(61250),o=n(29616);async function r(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{error:s,data:o}=await (0,a.U2)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:n}},signal:t});return s&&(0,a.S3)(s),o}let i=function(e){let{projectRef:t}=e,{enabled:n=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(o.U.addons(t),e=>{let{signal:n}=e;return r({projectRef:t},n)},{enabled:n&&void 0!==t,...a})}},41023:function(e,t,n){"use strict";n.d(t,{Z:function(){return eA}});var s=n(97458),a=n(198),o=n(45925),r=n(91386),i=n(2552),l=n(52983),c=n(63204),d=n(61932),u=n(61223),p=n(35603),x=n(98261),h=n(19052),m=n(80887),f=n(34493),g=n(81960),v=n(70520),j=n(47878),y=n(82689),b=n(5546),N=n(7208),w=n(84629),_=n(82558),k=n(44273),S=n(20821),C=n(61911);let P=[{id:"uri",label:"URI",contentType:"input",lang:"bash",fileTitle:void 0},{id:"psql",label:"PSQL",contentType:"code",lang:"bash",fileTitle:void 0},{id:"golang",label:"Golang",contentType:"code",lang:"go",fileTitle:".env"},{id:"jdbc",label:"JDBC",contentType:"input",lang:"bash",fileTitle:void 0},{id:"dotnet",label:".NET",contentType:"code",lang:"csharp",fileTitle:"appsettings.json"},{id:"nodejs",label:"Node.js",contentType:"code",lang:"js",fileTitle:".env"},{id:"php",label:"PHP",contentType:"code",lang:"php",fileTitle:".env"},{id:"python",label:"Python",contentType:"code",lang:"python",fileTitle:".env"},{id:"sqlalchemy",label:"SQLAlchemy",contentType:"code",lang:"python",fileTitle:".env"}],D={host:{key:"host",description:"The hostname of your database"},port:{key:"port",description:"Port number for the connection"},database:{key:"database",description:"Default database name"},user:{key:"user",description:"Database user"},pool_mode:{key:"pool_mode",description:"Connection pooling behavior"}},A=[{key:"nextjs",label:"Next.js",icon:"nextjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nextjs",children:[{key:"app",label:"App Router",icon:"",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"pages",label:"Pages Router",icon:"",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"remix",label:"Remix",icon:"remix",guideLink:"https://supabase.com/docs/guides/auth/server-side/creating-a-client?framework=remix&environment=remix-loader",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"react",label:"React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/reactjs",children:[{key:"create-react-app",label:"Create React App",icon:"react",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"vite",label:"Vite",icon:"vite",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"nuxt",label:"Nuxt",icon:"nuxt",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nuxtjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"vuejs",label:"Vue.JS",icon:"vuejs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/vue",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"sveltekit",label:"SvelteKit",icon:"sveltekit",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/sveltekit",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"solidjs",label:"Solid.js",icon:"solidjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/solidjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"astro",label:"Astro",icon:"astro",guideLink:"https://docs.astro.build/en/guides/backend/supabase/",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"refine",label:"refine",icon:"refine",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/refine",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],I=[{key:"exporeactnative",label:"Expo React Native",icon:"expo",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-expo-react-native",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"flutter",label:"Flutter",icon:"flutter",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-flutter",children:[{key:"supabaseflutter",label:"supabase-flutter",children:[],icon:"supabase"}]},{key:"ionicreact",label:"Ionic React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-react",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"swift",label:"Swift",icon:"swift",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-swift",children:[{key:"supabaseswift",label:"supabase-swift",children:[],icon:"supabase"}]},{key:"androidkotlin",label:"Android Kotlin",icon:"kotlin",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-kotlin",children:[{key:"supabasekt",label:"supabase-kt",children:[],icon:"supabase"}]},{key:"ionicangular",label:"Ionic Angular",icon:"ionic-angular",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-angular",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],L=[{key:"prisma",label:"Prisma",icon:"prisma",guideLink:"https://supabase.com/partners/integrations/prisma",children:[]},{key:"drizzle",label:"Drizzle",icon:"drizzle",guideLink:"https://supabase.com/docs/guides/database/connecting-to-postgres#connecting-with-drizzle",children:[]}],E=[{key:"direct",label:"Connection String",obj:[]},{key:"frameworks",label:"App Frameworks",obj:A},{key:"mobiles",label:"Mobile Frameworks",obj:I},{key:"orms",label:"ORMs",obj:L}];var F=n(14415),z=n(7892),R=n(79429),T=n(37669),Z=n.n(T),O=n(19168),U=n(55203),B=n(45196),W=n(72871);let q=e=>{let{parameters:t}=e,[n,a]=(0,l.useState)(!1),[o,r]=(0,l.useState)({});return(0,s.jsxs)(S.zF,{open:n,onOpenChange:a,className:"group -space-y-px","data-sentry-element":"Collapsible_Shadcn_","data-sentry-component":"ConnectionParameters","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,s.jsx)(S.wy,{asChild:!0,className:"w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light px-3","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:(0,s.jsx)(O.z,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,s.jsx)(R.Z,{className:(0,b.cn)("text-foreground-muted transition-transform",n?"rotate-90":"")}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectionParameters.tsx",children:"View parameters"})}),(0,s.jsxs)(S.Fw,{className:"bg-dash-sidebar rounded-b border font-mono text-sm","data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,s.jsx)("div",{className:"px-4 py-2",children:t.map(e=>(0,s.jsx)("div",{className:"py-0.5 group/param",children:(0,s.jsxs)("div",{className:"text-xs flex items-center",children:[(0,s.jsxs)("span",{className:"text-foreground-lighter",children:[e.key,": "]}),(0,s.jsx)("span",{className:"ml-1 text-foreground",children:e.value}),(0,s.jsx)("button",{onClick:()=>{(0,j.vQ)(e.value,()=>{r(t=>({...t,[e.key]:!0})),setTimeout(()=>{r(t=>({...t,[e.key]:!1}))},1e3)})},className:(0,b.cn)("text-foreground-lighter","ml-2 opacity-0 group-hover/param:opacity-100","hover:text-foreground rounded-sm p-1",o[e.key]&&"opacity-100","transition-all"),children:o[e.key]?(0,s.jsx)(B.Z,{size:12,strokeWidth:1.5}):(0,s.jsx)(W.Z,{size:12,strokeWidth:1.5})})]})},e.key))}),(0,s.jsx)(k.Z,{"data-sentry-element":"Separator","data-sentry-source-file":"ConnectionParameters.tsx"}),(0,s.jsx)("div",{className:"text-foreground-muted text-xs px-4 py-1 font-sans",children:"For security reasons, your database password is never shown."})]})]})};var M=n(59171),V=n(16402),H=n(7345);let Y=e=>{let{x:t,y1:n,y2:a,isActive:o}=e;return(0,s.jsx)(M.M,{"data-sentry-element":"AnimatePresence","data-sentry-component":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx",children:o&&(0,s.jsxs)("svg",{width:2,height:a-n+6,viewBox:"0 0 ".concat(2," ").concat(a-n+6),style:{position:"absolute",left:t-1,top:n-3},children:[(0,s.jsx)(V.E.line,{x1:"1",y1:"3",x2:"1",y2:a-n+3,stroke:"hsl(var(--foreground-default) / 0.6)",strokeWidth:1,strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},exit:{pathLength:0,opacity:0},transition:{duration:.2}}),(0,s.jsx)("defs",{children:(0,s.jsxs)(V.E.linearGradient,{id:"lineGradient-".concat(t,"-").concat(n,"-").concat(a),gradientUnits:"userSpaceOnUse",x1:"2",y1:"-20",x2:"2",y2:a-n+26,animate:{y1:[-20,a-n+26],y2:[0,a-n+46]},transition:{duration:1,repeat:1/0,ease:"linear",repeatDelay:0},children:[(0,s.jsx)("stop",{offset:"0",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"}),(0,s.jsx)("stop",{offset:"0.8",stopColor:"hsl(var(--foreground-default))"}),(0,s.jsx)("stop",{offset:"1",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"})]})}),(0,s.jsx)(V.E.line,{x1:"2",y1:"3",x2:"2",y2:a-n+3,stroke:"url(#lineGradient-".concat(t,"-").concat(n,"-").concat(a,")"),strokeWidth:1,strokeLinecap:"round",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})]})})},Q=e=>{let{isActive:t}=e;return(0,s.jsx)(V.E.rect,{width:$,height:3,className:(0,b.cn)("fill-background-surface-200 stroke-border-stronger stroke-[1]",t&&"stroke-foreground/40"),x:X,y:J,rx:"1.5",animate:{boxShadow:t?"0 0 8px #86efac":"0 0 0px #86efac"},transition:{duration:.2},"data-sentry-element":"unknown","data-sentry-component":"TopRect","data-sentry-source-file":"PoolerIcons.tsx"})},G=e=>{let{isActive:t}=e;return(0,s.jsxs)("g",{"data-sentry-element":"g","data-sentry-component":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,s.jsx)(V.E.rect,{width:$,height:32,className:(0,b.cn)("stroke-border fill-background-surface-100 stroke-[1] transition-all",t&&"fill-background-surface-100 stroke-border-stronger","flex items-center justify-center"),x:X,y:K,rx:"4",animate:{fill:t?"#2563eb":"#1e40af",stroke:"#93c5fd",boxShadow:t?"0 0 8px #93c5fd":"0 0 0px #93c5fd"},transition:{duration:.2},"data-sentry-element":"unknown","data-sentry-source-file":"PoolerIcons.tsx"}),(0,s.jsx)(H.vo,{size:21,className:(0,b.cn)("w-4 h-4 text-foreground-lighter transition-all",t&&"text-foreground"),x:X+$/6,y:K+5.5,strokeWidth:1,"data-sentry-element":"Database","data-sentry-source-file":"PoolerIcons.tsx"})]})},J=30.72,K=61.44,X=8.16,$=32.160000000000004,ee=()=>{let[e,t]=(0,l.useState)([!1,!1,!1]),[n,a]=(0,l.useState)([!1,!1,!1]),[o,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{r(n.some(Boolean))},[n]),(0,l.useEffect)(()=>{let e=e=>{t(t=>{let n=[...t];return n[e]=!1,n}),a(t=>{let n=[...t];return n[e]=!1,n}),setTimeout(()=>{t(t=>{let n=[...t];return n[e]=!0,n})},0),setTimeout(()=>{a(t=>{let n=[...t];return n[e]=!0,n})},400),setTimeout(()=>{t(t=>{let n=[...t];return n[e]=!1,n}),a(t=>{let n=[...t];return n[e]=!1,n})},1e3)};setTimeout(()=>e(0),0),setTimeout(()=>e(1),200),setTimeout(()=>e(2),400);let n=[0,1,2].map(t=>setInterval(()=>e(t),3e3+200*t));return()=>n.forEach(clearInterval)},[]),(0,s.jsxs)("div",{style:{position:"relative",width:48,height:96},"data-sentry-component":"TransactionIcon","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,s.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),"data-sentry-element":"svg","data-sentry-source-file":"PoolerIcons.tsx",children:[[0,1,2].map(t=>(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(M.M,{children:e[t]&&(0,s.jsx)(V.E.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,s.jsx)(Q,{isActive:o,"data-sentry-element":"TopRect","data-sentry-source-file":"PoolerIcons.tsx"}),(0,s.jsx)(G,{isActive:!0,"data-sentry-element":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx"})]}),[0,1,2].map(e=>(0,s.jsx)(Y,{x:12+12*e,y1:17.28,y2:26.880000000000003,isActive:n[e]},e)),(0,s.jsx)(Y,{x:18,y1:38.400000000000006,y2:56.64,isActive:!0,"data-sentry-element":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx"}),(0,s.jsx)(Y,{x:30,y1:38.400000000000006,y2:56.64,isActive:!0,"data-sentry-element":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx"})]})},et=()=>{let[e,t]=(0,l.useState)([!1,!1,!1]),[n,a]=(0,l.useState)([!1,!1,!1]);return(0,l.useEffect)(()=>{let e=e=>{t(t=>{let n=[...t];return n[e]=!0,n}),a(t=>{let n=[...t];return n[e]=!0,n}),setTimeout(()=>{t(t=>{let n=[...t];return n[e]=!1,n}),a(t=>{let n=[...t];return n[e]=!1,n})},2500)};setTimeout(()=>e(0),100),setTimeout(()=>e(1),1500),setTimeout(()=>e(2),3e3);let n=[0,1,2].map(t=>setInterval(()=>e(t),3e3*Math.random()+8e3));return()=>n.forEach(clearInterval)},[]),(0,s.jsxs)("div",{style:{position:"relative",width:48,height:96},"data-sentry-component":"DirectConnectionIcon","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,s.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),"data-sentry-element":"svg","data-sentry-source-file":"PoolerIcons.tsx",children:[[0,1,2].map(t=>(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(M.M,{children:e[t]&&(0,s.jsx)(V.E.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,s.jsx)(G,{isActive:n.some(e=>e),"data-sentry-element":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx"})]}),[0,1,2].map(e=>(0,s.jsx)(Y,{x:12+12*e,y1:17.28,y2:56.64,isActive:n[e]},e))]})},en=e=>{let{className:t,active:n}=e;return(0,s.jsxs)("div",{className:(0,b.cn)("relative inline-flex",t),"data-sentry-component":"IPv4StatusIcon","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",className:"size-6 stroke-foreground-lighter","data-sentry-element":"svg","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418","data-sentry-element":"path","data-sentry-source-file":"ConnectionPanel.tsx"})}),n?(0,s.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-brand-500 rounded w-4 h-4 flex items-center justify-center",children:(0,s.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M8.33325 2.5L3.74992 7.08333L1.66659 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,s.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-destructive rounded w-4 h-4 flex items-center justify-center",children:(0,s.jsx)(F.Z,{size:10,strokeWidth:4,className:"text-white rounded-full"})})]})},es=e=>{let{title:t}=e;return(0,s.jsx)("div",{className:"flex items-center justify-between px-4 py-1 bg-surface-100/50 border border-b-0 border-surface rounded-t","data-sentry-component":"CodeBlockFileHeader","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(z.Z,{size:12,className:"text-foreground-muted",strokeWidth:1.5,"data-sentry-element":"FileCode","data-sentry-source-file":"ConnectionPanel.tsx"}),(0,s.jsx)("span",{className:"text-xs text-foreground-light",children:t})]})})},ea=e=>{var t,n;let{type:a="direct",title:o,description:r,connectionString:i,ipv4Status:l,notice:c,parameters:d=[],lang:u="bash",fileTitle:p,onCopyCallback:x}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-5 lg:grid lg:grid-cols-2 lg:gap-20 w-full","data-sentry-component":"ConnectionPanel","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h1",{className:"text-sm mb-2",children:o}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4",children:r}),(0,s.jsxs)("div",{className:"flex flex-col -space-y-px",children:[p&&(0,s.jsx)(es,{title:p}),(0,s.jsx)(_.d,{wrapperClassName:(0,b.cn)("[&_pre]:rounded-b-none [&_pre]:px-4 [&_pre]:py-3",p&&"[&_pre]:rounded-t-none"),language:u,value:i,className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:x,"data-sentry-element":"CodeBlock","data-sentry-source-file":"ConnectionPanel.tsx"}),c&&(0,s.jsx)("div",{className:"border px-4 py-1 w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light",children:null==c?void 0:c.map(e=>(0,s.jsx)("p",{className:"text-xs text-foreground-lighter",children:e},e))}),d.length>0&&(0,s.jsx)(q,{parameters:d})]})]}),(0,s.jsx)("div",{className:"flex flex-col items-end",children:(0,s.jsxs)("div",{className:"flex flex-col -space-y-px w-full",children:["session"!==a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:[(0,s.jsx)("div",{className:"absolute top-2 left-2.5",children:"transaction"===a?(0,s.jsx)(ee,{}):(0,s.jsx)(et,{})}),(0,s.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===a?"Suitable for a large number of connected clients":"Suitable for long-lived, persistent connections"})})]}),(0,s.jsx)("div",{className:"border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:(0,s.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===a?"Pre-warmed connection pool to Postgres":"Each client has a dedicated connection to Postgres"})})})]}),(0,s.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(en,{active:"success"===l.type,"data-sentry-element":"IPv4StatusIcon","data-sentry-source-file":"ConnectionPanel.tsx"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-xs text-foreground",children:l.title}),l.description&&(0,s.jsx)("span",{className:"text-xs text-foreground-lighter",children:l.description}),"error"===l.type&&(0,s.jsx)("span",{className:"text-xs text-foreground-lighter",children:"Use Session Pooler if on a IPv4 network or purchase IPv4 addon"}),l.link&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(O.z,{asChild:!0,type:"default",size:"tiny",children:(0,s.jsx)(Z(),{href:l.link.url,className:"text-xs text-light hover:text-foreground",children:l.link.text})})})]})]}),"session"===a&&(0,s.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b bg-alternative/50",children:[(0,s.jsx)("div",{className:"flex w-6 h-6 rounded items-center justify-center gap-2 flex-shrink-0 bg-surface-100",children:(0,s.jsx)(U.aN,{})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-xs text-foreground",children:"Only use on a IPv4 network"}),(0,s.jsx)("span",{className:"text-xs text-foreground-lighter",children:"Use Direct Connection if connecting via an IPv6 network"})]})]}),"error"===l.type&&(0,s.jsxs)(S.zF,{className:"group -space-y-px",children:[(0,s.jsx)(S.wy,{asChild:!0,className:"group/collapse w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-muted",children:(0,s.jsx)(O.z,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,s.jsx)(R.Z,{className:(0,b.cn)("group-data-[state=open]/collapse:rotate-90 text-foreground-muted transition-transform")}),children:"Some platforms are IPv4-only:"})}),(0,s.jsx)(S.Fw,{className:"bg-dash-sidebar rounded-b border px-3 py-2",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light max-w-xs",children:"A few major platforms are IPv4-only and may not work with a Direct Connection:"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"text-foreground text-xs",children:"Vercel"}),(0,s.jsx)("div",{className:"text-foreground text-xs",children:"GitHub Actions"}),(0,s.jsx)("div",{className:"text-foreground text-xs",children:"Render"}),(0,s.jsx)("div",{className:"text-foreground text-xs",children:"Retool"})]}),(0,s.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["If you wish to use a Direct Connection with these, please purchase"," ",(0,s.jsx)(Z(),{href:null!==(n=null===(t=l.link)||void 0===t?void 0:t.url)&&void 0!==n?n:"/",className:"text-xs text-light hover:text-foreground",children:"IPv4 support"}),"."]}),(0,s.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["You may also use the"," ",(0,s.jsx)("span",{className:"text-foreground-light",children:"Session Pooler"})," or"," ",(0,s.jsx)("span",{className:"text-foreground-light",children:"Transaction Pooler"})," if you are on a IPv4 network."]})]})})]})]})})]})},eo=(e,t,n)=>{let s=t.connectionString.includes("options=reference"),{projectRef:a}=n,o="[YOUR-PASSWORD]",r=e.db_user,i=e.db_port,l=e.db_host,c=e.db_name,d=t.db_user,u=t.db_port,p=t.db_host,x=t.db_name,h=s?'psql "postgresql://'.concat(r,":").concat(o,"@").concat(l,":").concat(i,"/").concat(c,'"'):"psql -h ".concat(l," -p ").concat(i," -d ").concat(c," -U ").concat(r),m="postgresql://".concat(r,":").concat(o,"@").concat(l,":").concat(i,"/").concat(c),f="DATABASE_URL=".concat(m),g="jdbc:postgresql://".concat(l,":").concat(i,"/").concat(c,"?user=").concat(r,"&password=").concat(o),v='{\n  "ConnectionStrings": {\n    "DefaultConnection": "Host='.concat(l,";Database=").concat(c,";Username=").concat(r,";Password=").concat(o,';SSL Mode=Require;Trust Server Certificate=true"\n  }\n}'),j='{\n  "ConnectionStrings": {\n    "DefaultConnection": "User Id='.concat(d,";Password=").concat(o,";Server=").concat(p,";Port=").concat(u,";Database=").concat(x).concat(s?";Options='reference=".concat(a,"'"):"",'"\n  }\n}'),y=s?'psql "postgresql://'.concat(d,":").concat(o,"@").concat(p,":").concat(u,"/").concat(x,"?options=reference%3D").concat(a,'"'):"psql -h ".concat(p," -p ").concat(u," -d ").concat(x," -U ").concat(d),b=t.connectionString,N="DATABASE_URL=".concat(t.connectionString),w="user=".concat(d," \npassword=").concat(o," \nhost=").concat(p,"\nport=").concat(u,"\ndbname=").concat(x).concat(s?"options=reference=".concat(a):""),_="jdbc:postgresql://".concat(p,":").concat(u,"/").concat(x,"?user=").concat(d).concat(s?"&options=reference%3D".concat(a):"","&password=").concat(o),k="user=".concat(r," \npassword=").concat(o," \nhost=").concat(l," \nport=").concat(i," \ndbname=").concat(c),S="user=".concat(d," \npassword=").concat(o," \nhost=").concat(p," \nport=").concat(u," \ndbname=").concat(x);return{direct:{psql:h,uri:m,golang:f,jdbc:g,dotnet:v,nodejs:"DATABASE_URL=".concat(m),php:f,python:f,sqlalchemy:k},pooler:{psql:y,uri:b,golang:w,jdbc:_,dotnet:j,nodejs:N,php:w,python:w,sqlalchemy:S}}};var er={nodejs:{installCommands:["npm install postgres"],files:[{name:"db.js",content:"import postgres from 'postgres'\n\nconst connectionString = process.env.DATABASE_URL\nconst sql = postgres(connectionString)\n\nexport default sql"}]},golang:{installCommands:["go get github.com/jackc/pgx/v5"],files:[{name:"main.go",content:'package main\n\nimport (\n	"context"\n	"log"\n	"os"\n	"github.com/jackc/pgx/v5"\n)\n\nfunc main() {\n	conn, err := pgx.Connect(context.Background(), os.Getenv("DATABASE_URL"))\n	if err != nil {\n		log.Fatalf("Failed to connect to the database: %v", err)\n	}\n	defer conn.Close(context.Background())\n\n	// Example query to test connection\n	var version string\n	if err := conn.QueryRow(context.Background(), "SELECT version()").Scan(&version); err != nil {\n		log.Fatalf("Query failed: %v", err)\n	}\n\n	log.Println("Connected to:", version)\n}'}]},dotnet:{installCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"],postInstallCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"]},python:{installCommands:["pip install python-dotenv psycopg2"],files:[{name:"main.py",content:'import psycopg2\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Connect to the database\ntry:\n    connection = psycopg2.connect(\n        user=USER,\n        password=PASSWORD,\n        host=HOST,\n        port=PORT,\n        dbname=DBNAME\n    )\n    print("Connection successful!")\n    \n    # Create a cursor to execute SQL queries\n    cursor = connection.cursor()\n    \n    # Example query\n    cursor.execute("SELECT NOW();")\n    result = cursor.fetchone()\n    print("Current Time:", result)\n\n    # Close the cursor and connection\n    cursor.close()\n    connection.close()\n    print("Connection closed.")\n\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]},sqlalchemy:{installCommands:["pip install python-dotenv sqlalchemy psycopg2"],files:[{name:"main.py",content:'from sqlalchemy import create_engine\n# from sqlalchemy.pool import NullPool\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Construct the SQLAlchemy connection string\nDATABASE_URL = f"postgresql+psycopg2://{USER}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}?sslmode=require"\n\n# Create the SQLAlchemy engine\nengine = create_engine(DATABASE_URL)\n# If using Transaction Pooler or Session Pooler, we want to ensure we disable SQLAlchemy client side pooling -\n# https://docs.sqlalchemy.org/en/20/core/pooling.html#switching-pool-implementations\n# engine = create_engine(DATABASE_URL, poolclass=NullPool)\n\n# Test the connection\ntry:\n    with engine.connect() as connection:\n        print("Connection successful!")\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]}};let ei=e=>{let{number:t,children:n,...a}=e;return(0,s.jsxs)("div",{...a,className:(0,b.cn)("flex items-center gap-2",a.className),"data-sentry-component":"StepLabel","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,s.jsx)("div",{className:"flex font-mono text-xs items-center justify-center w-6 h-6 border border-strong rounded-md bg-surface-100",children:t}),(0,s.jsx)("span",{children:n})]})},el=()=>{var e,t,n,a,r,i,A,I,L,E,F,z,R;let{ref:T}=(0,o.UO)(),Z=(0,y.TF)(),[O,U]=(0,l.useState)("uri"),{data:B,error:W,isLoading:q,isError:M,isSuccess:V}=(0,h.Y)({projectRef:T}),H=null==B?void 0:B.find(e=>e.identifier===Z.selectedDatabaseId),{data:Y,error:Q,isLoading:G,isError:J,isSuccess:K}=(0,m.bN)({projectRef:T}),X=(null!=Y?Y:[]).find(e=>e.identifier===Z.selectedDatabaseId),{data:$}=(0,f.F)({projectRef:T}),{ipv4:ee}=(0,d.OP)(null!==(a=null==$?void 0:$.selected_addons)&&void 0!==a?a:[]),{mutate:et}=(0,g.a)(),en=(0,j.Ff)(X||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),el=(e,t)=>{var n,s;let a=P.find(t=>t.id===e),o=null!==(n=null==a?void 0:a.label)&&void 0!==n?n:"Unknown",r=null!==(s=null==a?void 0:a.lang)&&void 0!==s?s:"Unknown";et({action:v.b.CONNECTION_STRING_COPIED,properties:{connectionType:o,lang:r,connectionMethod:t}})},ec=V&&void 0!==H?eo(en,H,{projectRef:T}):{direct:{uri:"",psql:"",golang:"",jdbc:"",dotnet:"",nodejs:"",php:"",python:"",sqlalchemy:""},pooler:{uri:"",psql:"",golang:"",jdbc:"",dotnet:"",nodejs:"",php:"",python:"",sqlalchemy:""}},ed=null!==(r=null===(e=P.find(e=>e.id===O))||void 0===e?void 0:e.lang)&&void 0!==r?r:"bash",eu=null!==(i=null===(t=P.find(e=>e.id===O))||void 0===t?void 0:t.contentType)&&void 0!==i?i:"input",ep=er[O],ex=null==ep?void 0:ep.files,eh=null==ep?void 0:ep.installCommands,em=null==ep?void 0:ep.postInstallCommands,ef=ex||eh,eg=null===(n=P.find(e=>e.id===O))||void 0===n?void 0:n.fileTitle,ev=0;return(0,s.jsxs)("div",{className:"flex flex-col","data-sentry-component":"DatabaseConnectionString","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,s.jsxs)("div",{className:(0,b.cn)("flex items-center gap-3",N.gZ),children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Type"}),(0,s.jsxs)(w.Ph,{value:O,onValueChange:e=>U(e),"data-sentry-element":"Select_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,s.jsx)(w.i4,{size:"small",className:"w-auto rounded-l-none","data-sentry-element":"SelectTrigger_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,s.jsx)(w.ki,{"data-sentry-element":"SelectValue_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx"})}),(0,s.jsx)(w.Bw,{"data-sentry-element":"SelectContent_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:P.map(e=>(0,s.jsx)(w.Ql,{value:e.id,children:e.label},e.id))})]})]}),(0,s.jsx)(p.Z,{buttonProps:{size:"small"},"data-sentry-element":"DatabaseSelector","data-sentry-source-file":"DatabaseConnectionString.tsx"})]}),(q||G)&&(0,s.jsx)("div",{className:"p-7",children:(0,s.jsx)(x.Z,{className:"h-8 w-full"})}),(M||J)&&(0,s.jsx)("div",{className:"p-7",children:(0,s.jsx)(u.Z,{error:W||Q,subject:"Failed to retrieve database settings"})}),V&&K&&(0,s.jsxs)("div",{className:"flex flex-col divide-y divide-border",children:[ef&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-20 w-full px-7 py-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(ei,{number:++ev,className:"mb-4",children:"Install the following"}),null==eh?void 0:eh.map((e,t)=>(0,s.jsx)(_.d,{className:"[&_code]:text-[12px] [&_code]:text-foreground",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]}),ex&&(null==ex?void 0:ex.length)>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(ei,{number:++ev,className:"mb-4",children:"Add file to project"}),null==ex?void 0:ex.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(es,{title:e.name}),(0,s.jsx)(_.d,{wrapperClassName:"[&_pre]:max-h-40 [&_pre]:px-4 [&_pre]:py-3 [&_pre]:rounded-t-none",value:e.content,hideLineNumbers:!0,language:ed,className:"[&_code]:text-[12px] [&_code]:text-foreground"})]},t))]})]}),(0,s.jsxs)("div",{children:[ef&&(0,s.jsx)("div",{className:"px-7 pt-8",children:(0,s.jsx)(ei,{number:++ev,children:"Choose type of connection"})}),(0,s.jsxs)("div",{className:"divide-y divide-border-muted [&>div]:px-7 [&>div]:py-8",children:[(0,s.jsx)(ea,{contentType:eu,lang:ed,type:"direct",title:"Direct connection",fileTitle:eg,description:"Ideal for applications with persistent, long-lived connections, such as those running on virtual machines or long-standing containers.",connectionString:ec.direct[O],ipv4Status:{type:ee?"success":"error",title:ee?"IPv4 compatible":"Not IPv4 compatible",description:ee&&"Connections are IPv4 proxied with IPv4 addon.",link:ee?{text:"IPv4 settings",url:"/project/".concat(T,"/settings/addons?panel=ipv4")}:{text:"IPv4 addon",url:"/project/".concat(T,"/settings/addons?panel=ipv4")}},parameters:[{...D.host,value:en.db_host},{...D.port,value:en.db_port},{...D.database,value:en.db_name},{...D.user,value:en.db_user}],onCopyCallback:()=>el(O,"direct")}),(0,s.jsx)(ea,{contentType:eu,lang:ed,type:"transaction",title:"Transaction pooler",fileTitle:eg,description:"Ideal for stateless applications like serverless functions where each interaction with Postgres is brief and isolated.",connectionString:ec.pooler[O],ipv4Status:{type:"success",title:"IPv4 compatible",description:"Transaction pooler connections are IPv4 proxied for free."},notice:["Does not support PREPARE statements"],parameters:[{...D.host,value:null!==(A=null==H?void 0:H.db_host)&&void 0!==A?A:""},{...D.port,value:null!==(I=null==H?void 0:H.db_port.toString())&&void 0!==I?I:"6543"},{...D.database,value:null!==(L=null==H?void 0:H.db_name)&&void 0!==L?L:""},{...D.user,value:null!==(E=null==H?void 0:H.db_user)&&void 0!==E?E:""},{...D.pool_mode,value:"transaction"}],onCopyCallback:()=>el(O,"transaction_pooler")}),ee&&(0,s.jsx)(C.J,{type:"warning",title:"Highly recommended to not use Session Pooler",className:"[&>div]:gap-0 px-8 [&>svg]:left-7 border-0 border-b rounded-none border-border-muted !py-4 mb-0",children:(0,s.jsx)("p",{className:"text-sm text-foreground-lighter !mb-0",children:"If you are using Session Pooler, we recommend switching to Direct Connection."})}),(0,s.jsx)(ea,{contentType:eu,lang:ed,type:"session",title:"Session pooler",fileTitle:eg,description:"Only recommended as an alternative to Direct Connection, when connecting via an IPv4 network.",connectionString:ec.pooler[O].replace("6543","5432"),ipv4Status:{type:"success",title:"IPv4 compatible",description:"Session pooler connections are IPv4 proxied for free."},parameters:[{...D.host,value:null!==(F=null==H?void 0:H.db_host)&&void 0!==F?F:""},{...D.port,value:"5432"},{...D.database,value:null!==(z=null==H?void 0:H.db_name)&&void 0!==z?z:""},{...D.user,value:null!==(R=null==H?void 0:H.db_user)&&void 0!==R?R:""},{...D.pool_mode,value:"session"}],onCopyCallback:()=>el(O,"session_pooler")})]})]}),em&&(0,s.jsx)("div",{className:"grid grid-cols-2 gap-20 w-full px-7 py-10",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(ei,{number:++ev,className:"mb-4",children:"Add the configuration package to read the settings"}),null==em?void 0:em.map((e,t)=>(0,s.jsx)(_.d,{className:"text-sm",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]})})]}),"python"===O&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Z,{}),(0,s.jsxs)(S.zF,{className:"px-8 pt-5",children:[(0,s.jsx)(S.wy,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Connecting to SQL Alchemy"}),(0,s.jsx)(c.Z,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,s.jsx)(S.Fw,{className:"my-2",children:(0,s.jsxs)("div",{className:"text-foreground-light text-xs grid gap-2",children:[(0,s.jsxs)("p",{children:["Please use ",(0,s.jsx)("code",{children:"postgresql://"})," instead of ",(0,s.jsx)("code",{children:"postgres://"})," as your dialect when connecting via SQLAlchemy."]}),(0,s.jsxs)("p",{children:["Example:",(0,s.jsx)("code",{children:'create_engine("postgresql+psycopg2://...")'})]}),(0,s.jsx)("p",{className:"text-sm font-mono tracking-tight text-foreground-lighter"})]})})]})]})]})};var ec=n(13348),ed=n(73119),eu=n(58035),ep=n(87790),ex=n(67983),eh=n(73860),em=n(23066);let ef=e=>{let{connectionObject:t,selectedParent:n,selectedChild:s,selectedGrandchild:a}=e,o=t.find(e=>e.key===n);if(o){let e=o.children.find(e=>e.key===s);return e?e.children.find(e=>e.key===a)?"".concat(n,"/").concat(s,"/").concat(a):"".concat(n,"/").concat(s):n}return""};var eg=n(77558),ev=n(41341),ej=n(88587),ey=n(98809),eb=n(82899),eN=n.n(eb),ew=n(77946);let e_=e=>{let{connection:t}=e,{resolvedTheme:n}=(0,ey.F)(),a=["ionic-angular"].includes(t)?"icons/frameworks":"libraries";return(0,s.jsx)(eN(),{className:"transition-all group-hover:scale-110",src:"".concat(ew.GW,"/img/").concat(a,"/").concat(t.toLowerCase()).concat(["expo","nextjs","prisma","drizzle","astro","remix"].includes(t.toLowerCase())&&(null==n?void 0:n.includes("dark"))?"-dark":"").concat("icons/frameworks"===a?"":"-icon",".svg"),alt:"".concat(t," logo"),width:14,height:14,"data-sentry-element":"Image","data-sentry-component":"ConnectionIcon","data-sentry-source-file":"ConnectionIcon.tsx"})};var ek=e=>{let{state:t,updateState:n,label:a,items:o}=e,[r,i]=(0,l.useState)(!1),d=o.find(e=>e.key===t);return(0,s.jsxs)(ev.J2,{open:r,onOpenChange:i,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ConnectDropdown","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,s.jsxs)("div",{className:"flex ",children:[(0,s.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:a}),(0,s.jsx)(ev.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,s.jsx)(O.z,{size:"small",type:"default",className:"gap-0 rounded-l-none",iconRight:(0,s.jsx)(c.Z,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(null==d?void 0:d.icon)?(0,s.jsx)(e_,{connection:d.icon}):(0,s.jsx)(eg.Z,{size:12}),null==d?void 0:d.label]})})})]}),(0,s.jsx)(ev.yk,{className:"p-0 max-w-48",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,s.jsxs)(ej.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,s.jsx)(ej.sZ,{placeholder:"Search...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx"}),(0,s.jsxs)(ej.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,s.jsx)(ej.rb,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:"No results found."}),(0,s.jsx)(ej.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:o.map(e=>(0,s.jsxs)(ej.di,{value:e.key,onSelect:()=>{n(e.key),i(!1),i(!1)},className:"flex gap-2 items-center",children:[e.icon?(0,s.jsx)(e_,{connection:e.icon}):(0,s.jsx)(eg.Z,{size:12}),e.label,(0,s.jsx)(B.Z,{size:15,className:(0,b.cn)("ml-auto  ",e.key===t?"opacity-100":"opacity-0")})]},e.key))})]})]})})]})},eS=n(32387),eC=n.n(eS),eP=n(31146);let eD=(0,l.forwardRef)((e,t)=>{let{projectKeys:a,filePath:r,...i}=e,{ref:c}=(0,o.UO)(),{data:d}=(0,eu.zR)({projectRef:c}),{data:u}=(0,h.Y)({projectRef:c}),p=(0,j.Ff)(d||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),m=null==u?void 0:u.find(e=>"PRIMARY"===e.database_type),f=void 0!==m?(0,eP.xI)(p,m,{projectRef:c,usePoolerConnection:!0}):{uri:""},g=void 0!==m?(0,eP.xI)(p,m,{projectRef:c,usePoolerConnection:!1}):{uri:""},v=f.uri,y=f.uri.replace("6543","5432"),N=(0,l.useMemo)(()=>eC()(()=>n(45213)("./".concat(r,"/content")),{loading:()=>(0,s.jsx)("div",{className:"p-4 min-h-[331px]",children:(0,s.jsx)(x.A,{})})}),[r]);return(0,s.jsx)("div",{ref:t,...i,className:(0,b.cn)("border rounded-lg",i.className),children:(0,s.jsx)(N,{projectKeys:a,filePath:r,connectionStringPooler:{transaction:v,session:y},connectionStringDirect:g.uri})})});eD.displayName="ConnectTabContentNew";var eA=()=>{var e,t,n,c,d,u,p,x,h,m,f;let{ref:g}=(0,o.UO)(),v=(0,ex.P)("connectDialogUpdate"),[j,y]=(0,eh.v1)("showConnect",eh.AE.withDefault(!1)),[w,_]=(0,l.useState)(A),[k,S]=(0,l.useState)(w[0].key),[C,P]=(0,l.useState)(null!==(x=null===(t=w.find(e=>e.key===k))||void 0===t?void 0:null===(e=t.children[0])||void 0===e?void 0:e.key)&&void 0!==x?x:""),[D,F]=(0,l.useState)((null===(d=w.find(e=>e.key===k))||void 0===d?void 0:null===(c=d.children.find(e=>e.key===C))||void 0===c?void 0:null===(n=c.children[0])||void 0===n?void 0:n.key)||""),{data:z}=(0,eu.zR)({projectRef:g}),R=(0,ep.Xo)(a.KA.READ,"service_api_keys"),T=e=>{var t,n,s,a,o,r,i;S(e),P(null!==(r=null===(n=w.find(t=>t.key===e))||void 0===n?void 0:null===(t=n.children[0])||void 0===t?void 0:t.key)&&void 0!==r?r:""),F(null!==(i=null===(o=w.find(t=>t.key===e))||void 0===o?void 0:null===(a=o.children[0])||void 0===a?void 0:null===(s=a.children[0])||void 0===s?void 0:s.key)&&void 0!==i?i:"")},Z=e=>{P(e);let t=w.find(e=>e.key===k),n=null==t?void 0:t.children.find(t=>t.key===e);n&&n.children.length>0?F(n.children[0].key):F("")},U=e=>{F(e)};function B(e){var t,n;S(e[0].key),(null===(t=e[0])||void 0===t?void 0:t.children.length)>0?(P(e[0].children[0].key),(null===(n=e[0].children[0])||void 0===n?void 0:n.children.length)>0?F(e[0].children[0].children[0].key):F("")):(P(""),F(""))}let W=()=>{let e=w.find(e=>e.key===k);return e&&e.children.length>0?e.children:[]},q=()=>{let e=w.find(e=>e.key===k),t=null==e?void 0:e.children.find(e=>e.key===C);return t&&t.children.length>0?t.children:[]},M=null!==(h=null==z?void 0:null===(u=z.app_config)||void 0===u?void 0:u.protocol)&&void 0!==h?h:"https",V=null!==(m=null==z?void 0:null===(p=z.app_config)||void 0===p?void 0:p.endpoint)&&void 0!==m?m:"",H=R?"".concat(M,"://").concat(null!=V?V:"-"):"",{anonKey:Y}=R?(0,eu.Pb)(z):{anonKey:null},Q={apiUrl:R?H:null,anonKey:null!==(f=null==Y?void 0:Y.api_key)&&void 0!==f?f:null},G=ef({connectionObject:w,selectedParent:k,selectedChild:C,selectedGrandchild:D});return(0,s.jsxs)(N.Vq,{open:j,onOpenChange:e=>y(e||null),"data-sentry-element":"Dialog","data-sentry-component":"Connect","data-sentry-source-file":"Connect.tsx",children:[(0,s.jsx)(N.hg,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"Connect.tsx",children:(0,s.jsx)(O.z,{type:v?"default":"primary",className:(0,b.cn)(v&&"rounded-full"),icon:(0,s.jsx)(r.Z,{className:"rotate-90"}),"data-sentry-element":"Button","data-sentry-source-file":"Connect.tsx",children:(0,s.jsx)("span",{children:"Connect"})})}),(0,s.jsxs)(N.cZ,{className:(0,b.cn)("sm:max-w-5xl p-0"),centered:!1,"data-sentry-element":"DialogContent","data-sentry-source-file":"Connect.tsx",children:[(0,s.jsxs)(N.fK,{className:N.gZ,"data-sentry-element":"DialogHeader","data-sentry-source-file":"Connect.tsx",children:[(0,s.jsx)(N.$N,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"Connect.tsx",children:"Connect to your project"}),(0,s.jsx)(N.Be,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"Connect.tsx",children:"Get the connection strings and environment variables for your app"})]}),(0,s.jsxs)(em.mQ,{defaultValue:"direct",onValueChange:e=>{"frameworks"===e&&(_(A),B(A)),"mobiles"===e&&(_(I),B(I)),"orms"===e&&(_(L),B(L))},"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"Connect.tsx",children:[(0,s.jsx)(em.dr,{className:(0,b.cn)("flex gap-x-4",N.gZ),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"Connect.tsx",children:E.map(e=>(0,s.jsx)(em.SP,{value:e.key,className:"px-0",children:e.label},e.key))}),E.map(e=>{var t,n,a,o,r,l;let c=((null===(t=w.find(e=>e.key===k))||void 0===t?void 0:t.children.length)||0)>0,d=((null===(a=w.find(e=>e.key===k))||void 0===a?void 0:null===(n=a.children.find(e=>e.key===C))||void 0===n?void 0:n.children.length)||0)>0;return"direct"===e.key?(0,s.jsx)(em.nU,{value:"direct",className:(0,b.cn)("!mt-0","p-0","flex flex-col gap-6"),children:(0,s.jsx)("div",{className:N.rR,children:v?(0,s.jsx)(el,{}):(0,s.jsx)("div",{className:"px-7",children:(0,s.jsx)(ec.c,{appearance:"minimal"})})})},"direct"):(0,s.jsxs)(em.nU,{value:e.key,className:(0,b.cn)(N.gZ,N.rR,"!mt-0"),children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ek,{state:k,updateState:T,label:w===A||w===I?"Framework":"Tool",items:w}),k&&c&&(0,s.jsx)(ek,{state:C,updateState:Z,label:"Using",items:W()}),C&&d&&(0,s.jsx)(ek,{state:D,updateState:U,label:"With",items:q()})]}),(null===(o=w.find(e=>e.key===k))||void 0===o?void 0:o.guideLink)&&(0,s.jsx)(O.z,{asChild:!0,type:"default",icon:(0,s.jsx)(i.Z,{strokeWidth:1.5}),children:(0,s.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(null===(r=w.find(e=>e.key===k))||void 0===r?void 0:r.guideLink)||"",children:[null===(l=w.find(e=>e.key===k))||void 0===l?void 0:l.label," guide"]})})]}),(0,s.jsx)("p",{className:"text-xs text-foreground-lighter my-3",children:"Add the following files below to your application"}),(0,s.jsx)(eD,{projectKeys:Q,filePath:G,className:"rounded-b-none"}),(0,s.jsx)(ed.Z.Notice,{className:"border border-t-0 rounded-lg rounded-t-none",title:"New API keys coming 2025",description:"\n`anon` and `service_role` API keys will be changing to `publishable` and `secret` API keys.   \n",href:"https://github.com/orgs/supabase/discussions/29260",buttonText:"Read the announcement"})]},"content-".concat(e.key))})]})]})]})}},83202:function(e,t,n){"use strict";n.d(t,{$9:function(){return c},FQ:function(){return d},X8:function(){return l}});var s=n(97458),a=n(2552),o=n(71904),r=n(19168),i=n(55203);let l=()=>(0,s.jsxs)(o.bZ,{variant:"warning","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"IPv4DeprecationNotice","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:[(0,s.jsx)(i.aN,{"data-sentry-element":"WarningIcon","data-sentry-source-file":"DatabaseConnectionNotices.tsx"}),(0,s.jsx)(o.Cd,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:"Direct database access is only available via IPv6-compatible networks."}),(0,s.jsxs)(o.X,{className:"space-y-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:[(0,s.jsx)("p",{children:"We strongly recommend using connection pooling to connect to your database because it's compatible with both IPv4 and IPv6 networks. You'll only need to change the connection credentials that you're using in your application to the pooler's connection credentials."}),(0,s.jsx)(r.z,{asChild:!0,type:"default",icon:(0,s.jsx)(a.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:(0,s.jsx)("a",{href:"https://github.com/orgs/supabase/discussions/17817",target:"_blank",rel:"noreferrer",children:"Learn more"})})]})]}),c=()=>(0,s.jsxs)(o.bZ,{variant:"default","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"IPv4AddonDirectConnectionNotice","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:[(0,s.jsx)(o.Cd,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:"Direct database connections are recommended if you're connecting with session mode."}),(0,s.jsxs)(o.X,{className:"space-y-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:[(0,s.jsx)("p",{children:"If you are not connecting to the database from serverless environments, we strongly recommend you connect to the database directly instead of using connection pooling for lower latency."}),(0,s.jsx)("p",{children:"Since your project has the IPv4 add on, you are not required to use the connection pooler even if your network only supports IPv4."}),(0,s.jsx)(r.z,{asChild:!0,type:"default",icon:(0,s.jsx)(a.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:(0,s.jsx)("a",{href:"https://supabase.com/docs/guides/database/connecting-to-postgres#connection-pooler",target:"_blank",rel:"noreferrer",children:"Learn more"})})]})]}),d=()=>(0,s.jsxs)(o.bZ,{variant:"warning","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"DefaultSessionModeNotice","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:[(0,s.jsx)(i.aN,{"data-sentry-element":"WarningIcon","data-sentry-source-file":"DatabaseConnectionNotices.tsx"}),(0,s.jsx)(o.Cd,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:"You are not yet in Transaction mode."}),(0,s.jsxs)(o.X,{className:"space-y-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"DatabaseConnectionNotices.tsx",children:[(0,s.jsxs)("p",{children:["You need to set your ",(0,s.jsx)("span",{className:"text-foreground",children:"Pool Mode"})," to"," ",(0,s.jsx)("span",{className:"text-foreground",children:"Transaction"})," in the"," ",(0,s.jsx)("span",{className:"text-foreground",children:"Connection pooling configuration"})," section below in order to use transaction mode on port 6543."]}),(0,s.jsxs)("p",{children:["Otherwise, port 6543 will continue to connect in"," ",(0,s.jsx)("span",{className:"text-foreground",children:"Session"})," mode."]})]})]})},13348:function(e,t,n){"use strict";n.d(t,{c:function(){return E}});var s=n(97458),a=n(63204),o=n(52983),r=n(45925),i=n(61932),l=n(20170),c=n(61223),d=n(35603),u=n(26655),p=n(73119),x=n(98261),h=n(19052),m=n(80887),f=n(34493),g=n(81960),v=n(51735),j=n(47878),y=n(82689),b=n(60176),N=n(5546),w=n(53149),_=n(44273),k=n(96789),S=n(20821),C=n(82445),P=n(83202),D=n(65192),A=n(31146),I=n(70520);let L=[{id:"uri",label:"URI"},{id:"psql",label:"PSQL"},{id:"golang",label:"Golang"},{id:"jdbc",label:"JDBC"},{id:"dotnet",label:".NET"},{id:"nodejs",label:"Node.js"},{id:"php",label:"PHP"},{id:"python",label:"Python"}],E=e=>{var t,n,E;let{appearance:F}=e,z=(0,v.Vm)(),{ref:R,connectionString:T}=(0,r.UO)(),Z=(0,b.mM)(),O=(0,y.TF)(),{project:U,isLoading:B}=(0,l.d2)(),W=(0,o.useRef)(null),[q,M]=(0,o.useState)("transaction"),[V,H]=(0,o.useState)("uri"),{data:Y,isSuccess:Q}=(0,h.Y)({projectRef:R}),G=null==Y?void 0:Y.find(e=>e.identifier===O.selectedDatabaseId),J=null==G?void 0:G.pool_mode,{data:K,error:X,isLoading:$,isError:ee,isSuccess:et}=(0,m.bN)({projectRef:R}),en=(null!=K?K:[]).find(e=>e.identifier===O.selectedDatabaseId),{data:es,isSuccess:ea}=(0,f.F)({projectRef:R}),{ipv4:eo}=(0,i.OP)(null!==(t=null==es?void 0:es.selected_addons)&&void 0!==t?t:[]),{mutate:er}=(0,g.a)(),ei=(0,j.Ff)(en||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),el=(null==U?void 0:U.restUrl)!==void 0&&null!==(E=new URL(null!==(n=null==U?void 0:U.restUrl)&&void 0!==n?n:"").hostname.split(".").pop())&&void 0!==E?E:"co",ec=e=>{var t;let n=null===(t=L.find(t=>t.id===e))||void 0===t?void 0:t.label;er({action:I.b.CONNECTION_STRING_COPIED,properties:{connectionType:n}})},ed=Q&&void 0!==G?(0,A.xI)(ei,G,{projectRef:R,usePoolerConnection:Z.usePoolerConnection}):{uri:"",psql:"",golang:"",jdbc:"",dotnet:"",nodejs:"",php:"",python:""},eu=Q&&void 0!==G?(0,A.Ak)(null==G?void 0:G.connectionString):"com",ep=Q&&void 0!==G?(0,A.a4)(null==G?void 0:G.connectionString,{selectedTab:V,usePoolerConnection:Z.usePoolerConnection,ref:R,cloudProvider:B?"":(null==z?void 0:z.cloud_provider)||"",region:B?"":(null==z?void 0:z.region)||"",tld:Z.usePoolerConnection?eu:el,portNumber:Z.usePoolerConnection?"transaction"===q?null==G?void 0:G.db_port.toString():"5432":ei.db_port.toString()}):[];return(0,o.useEffect)(()=>{if(void 0!==T&&void 0!==W.current){var e;O.setSelectedDatabaseId(T),null===(e=W.current)||void 0===e||e.scrollIntoView({block:"center",behavior:"smooth"})}},[T]),(0,o.useEffect)(()=>{(null==G?void 0:G.pool_mode)==="session"&&M(G.pool_mode)},[null==G?void 0:G.pool_mode]),(0,s.jsx)("div",{id:"connection-string",className:"w-full","data-sentry-component":"DatabaseConnectionString","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,s.jsxs)(p.Z,{className:(0,N.cn)("!m-0 [&>div:nth-child(1)]:!border-0 [&>div:nth-child(1)]:!p-0","minimal"===F&&"border-0 shadow-none bg-transparent"),titleClasses:(0,N.cn)("minimal"===F&&"bg-transparent"),title:(0,s.jsxs)("div",{ref:W,className:(0,N.cn)("w-full flex flex-col","default"===F?"pt-4":"pt-0"),children:[(0,s.jsxs)("div",{className:(0,N.cn)("flex items-center justify-between mb-2","default"===F&&"px-6"),children:["default"===F&&(0,s.jsx)("h5",{className:"mb-0",children:"Connection string"},"panel-title"),(0,s.jsxs)("div",{className:(0,N.cn)("flex items-center gap-x-2 ml-auto","minimal"===F?"absolute -top-1 right-0":""),children:[(0,s.jsx)(d.Z,{}),(0,s.jsx)(u.G,{href:"https://supabase.com/docs/guides/database/connecting-to-postgres"})]})]}),(0,s.jsx)(w.Z,{type:"underlined",size:"tiny",activeId:V,baseClassNames:(0,N.cn)("!space-y-0 px-6 -mb-[1px]","minimal"===F&&"-mt-1 px-0"),onChange:H,children:L.map(e=>(0,s.jsx)(w.Z.Panel,{id:e.id,label:e.label},e.id))}),(0,s.jsx)(_.Z,{})]}),"data-sentry-element":"Panel","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,s.jsxs)(p.Z.Content,{className:"minimal"===F&&"px-0","data-sentry-element":"unknown","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[$&&(0,s.jsx)(x.Z,{className:"h-8 w-full"}),ee&&(0,s.jsx)(c.Z,{error:X,subject:"Failed to retrieve database settings"}),et&&(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 pt-2",children:[(0,s.jsx)(D.K,{id:"connection-string",checked:Z.usePoolerConnection,poolingMode:q,ipv4AddonAdded:!!eo,onCheckedChange:Z.setUsePoolerConnection,onSelectPoolingMode:M}),"session"===J&&"transaction"===q&&(0,s.jsx)(P.FQ,{}),ea&&"session"===q&&void 0!==eo&&Z.usePoolerConnection&&(0,s.jsx)(P.$9,{}),void 0===eo&&!Z.usePoolerConnection&&(0,s.jsx)(P.X8,{}),(0,s.jsx)(k.Z,{copy:!0,readOnly:!0,disabled:!0,className:"input-mono [&>div>div>div>input]:text-xs [&>div>div>div>input]:opacity-100",value:"transaction"===q?ed[V]:ed[V].replace("6543","5432"),onCopy:()=>ec(V)})]})]}),ep.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.Z,{}),(0,s.jsxs)(p.Z.Content,{className:(0,N.cn)("!py-3 space-y-2","minimal"===F&&"px-0"),children:[(0,s.jsxs)(S.zF,{children:[(0,s.jsx)(S.wy,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"How to connect to a different database or switch to another user"}),(0,s.jsx)(a.Z,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,s.jsx)(S.Fw,{className:"my-2",children:(0,s.jsxs)("div",{className:"text-foreground-light",children:[(0,s.jsxs)("p",{className:"text-xs",children:["You can use the following URI format to switch to a different database or user",Z.usePoolerConnection?" when using connection pooling":"","."]}),(0,s.jsx)("p",{className:"text-sm tracking-tight text-foreground-lighter",children:ep.map((e,t)=>e.tooltip?(0,s.jsxs)(C.u,{children:[(0,s.jsx)(C.aJ,{asChild:!0,children:(0,s.jsx)("span",{className:"text-foreground text-xs font-mono",children:e.value})}),(0,s.jsx)(C._v,{side:"bottom",children:e.tooltip})]},"syntax-".concat(t)):(0,s.jsx)("span",{className:"text-xs font-mono",children:e.value},"syntax-".concat(t)))})]})})]}),"python"===V&&(0,s.jsxs)(S.zF,{children:[(0,s.jsx)(S.wy,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Connecting to SQL Alchemy"}),(0,s.jsx)(a.Z,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,s.jsx)(S.Fw,{className:"my-2",children:(0,s.jsxs)("div",{className:"text-foreground-light text-xs grid gap-2",children:[(0,s.jsxs)("p",{children:["Please use ",(0,s.jsx)("code",{children:"postgresql://"})," instead of ",(0,s.jsx)("code",{children:"postgres://"})," as your dialect when connecting via SQLAlchemy."]}),(0,s.jsxs)("p",{children:["Example:",(0,s.jsx)("code",{children:'create_engine("postgresql+psycopg2://...")'})]}),(0,s.jsx)("p",{className:"text-sm font-mono tracking-tight text-foreground-lighter"})]})})]})]})]})]})})}},65192:function(e,t,n){"use strict";n.d(t,{K:function(){return C}});var s=n(97458),a=n(63204),o=n(37669),r=n.n(o),i=n(53995),l=n(52983),c=n(45925),d=n(98261),u=n(28894),p=n(61250),x=n(77946),h=n(4733);async function m(e,t){let{projectRef:n}=e;if(void 0===n)throw Error("Project ref is required");let{data:s,error:a}=await (0,p.U2)("/platform/projects/{ref}/config/pgbouncer/status",{params:{path:{ref:n}}});return a&&(0,p.S3)(a),s}let f=function(e){let{projectRef:t}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.a)(h.U.pgBouncerStatus(t),e=>{let{signal:n}=e;return m({projectRef:t},n)},{enabled:n&&x.Qy&&void 0!==t,...s})};var g=n(58035),v=n(19052),j=n(82689),y=n(60176),b=n(65497),N=n(27037),w=n(77518),_=n(19168),k=n(44273),S=n(28436);let C=e=>{let{id:t,checked:n,poolingMode:o="transaction",ipv4AddonAdded:u,onCheckedChange:p,onSelectPoolingMode:x}=e,h=(0,i.useRouter)(),[m,C]=(0,l.useState)(!1),{ref:P}=(0,c.UO)(),D=(0,y.mM)(),A=(0,j.TF)(),{data:I,isLoading:L,isSuccess:E}=(0,v.Y)({projectRef:P}),{data:F,isSuccess:z}=(0,g.zR)({projectRef:P}),{data:R}=f({projectRef:P}),T=h.pathname.endsWith("/settings/database"),Z=null==I?void 0:I.find(e=>e.identifier===A.selectedDatabaseId),O=(null==F?void 0:F.db_ip_addr_config)==="ipv6",U=e=>{x(e),C(!1)};return(0,s.jsx)("div",{className:"flex flex-col gap-y-1","data-sentry-component":"UsePoolerCheckbox","data-sentry-source-file":"UsePoolerCheckbox.tsx",children:(0,s.jsxs)("div",{className:"flex gap-x-3 items-center",children:[(0,s.jsx)(b.X,{id:"use-pooler-".concat(t),checked:n,onCheckedChange:()=>p(!n),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"UsePoolerCheckbox.tsx"}),(0,s.jsx)("div",{className:"-mt-[2px] flex flex-col gap-y-1 w-full",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(N._,{htmlFor:"use-pooler-".concat(t),className:"text-sm cursor-pointer","data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"UsePoolerCheckbox.tsx",children:"Display connection pooler"}),n&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[L&&(0,s.jsx)(d.Z,{className:"w-[100px] py-2.5"}),E&&(0,s.jsx)("div",{className:"flex items-center gap-x-1",children:(0,s.jsxs)(w.h_,{open:m,onOpenChange:C,children:[(0,s.jsx)(w.$F,{asChild:!0,children:(0,s.jsxs)(_.z,{type:"outline",className:"py-0.5 pr-1.5 capitalize",iconRight:(0,s.jsx)(a.Z,{strokeWidth:1}),children:["Mode: ",o]})}),(0,s.jsxs)(w.AW,{side:"bottom",align:"start",className:"w-[280px]",children:[(0,s.jsxs)(w._x,{value:o,onValueChange:e=>U(e),children:[(0,s.jsx)(w.qB,{value:"session",children:"Session mode"}),(null==Z?void 0:Z.pool_mode)==="transaction"&&(0,s.jsx)(w.qB,{value:"transaction",children:"Transaction mode"})]}),(null==Z?void 0:Z.pool_mode)==="session"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.VD,{className:"my-1"}),(0,s.jsxs)("div",{className:"px-2 text-xs flex flex-col gap-y-2",children:[(0,s.jsxs)("p",{children:["To use transaction mode, change the pool mode in the"," ",T?(0,s.jsx)("span",{tabIndex:0,className:"underline hover:text-foreground cursor-pointer transition",onClick:()=>{let e=document.getElementById("connection-pooler");e&&(C(!1),e.scrollIntoView({behavior:"smooth",block:"center"}))},children:"pooling configuration settings"}):(0,s.jsx)(r(),{href:"/project/".concat(P,"/settings/database#connection-pooler"),className:"underline hover:text-foreground",children:"pooling configuration settings"})," ","to use transaction mode first."]}),(0,s.jsx)("p",{children:"You can then connect to session mode on port 5432 and transaction mode on port 6543."})]})]}),(0,s.jsx)(k.Z,{className:"my-1"}),(0,s.jsx)(w.Xi,{onClick:()=>{C(!1),D.setShowPoolingModeHelper(!0)},children:"How to choose pooling modes?"},"more-info")]})]})})]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-x-1",children:[E&&n&&(0,s.jsx)(S.C,{children:"Supavisor"}),z&&(0,s.jsx)(S.C,{children:n||u?"Resolves to IPv4":O?"Resolves to IPv6":"Will resolve to IPv6"}),(null==R?void 0:R.active)&&(0,s.jsx)(S.C,{variant:"warning",children:"PgBouncer pending removal"})]})]})})]})})}},35603:function(e,t,n){"use strict";var s=n(97458),a=n(71607),o=n.n(a),r=n(70437),i=n(63204),l=n(45196),c=n(81449),d=n(37669),u=n.n(d),p=n(53995),x=n(73860),h=n(52983),m=n(45925),f=n(42772),g=n(56253),v=n(80887),j=n(50194),y=n(70559),b=n(82689),N=n(41341),w=n(19168),_=n(5546),k=n(88587),S=n(89861),C=n(82445);t.Z=e=>{var t;let{variant:n="regular",additionalOptions:a=[],onSelectId:d=o(),buttonProps:P}=e,D=(0,p.useRouter)(),{ref:A}=(0,m.UO)(),[I,L]=(0,h.useState)(!1),[,E]=(0,x.v1)("showConnect",x.AE.withDefault(!1));(0,y.WZ)();let F=(0,b.TF)(),z=F.selectedDatabaseId,{data:R,isLoading:T,isSuccess:Z}=(0,v.bN)({projectRef:A}),O=null!=R?R:[],U=O.sort((e,t)=>e.inserted_at>t.inserted_at?1:0).sort(e=>e.identifier===A?-1:0),B=O.find(e=>e.identifier===z),W=(0,j.f)(null!==(t=null==B?void 0:B.region)&&void 0!==t?t:""),q=(0,j.U)(null!=z?z:""),M=a.find(e=>e.id===z);return(0,s.jsxs)(N.J2,{open:I,onOpenChange:L,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"DatabaseSelector","data-sentry-source-file":"DatabaseSelector.tsx",children:[(0,s.jsx)(N.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,s.jsxs)("div",{className:"flex cursor-pointer",children:[(0,s.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Source"}),(0,s.jsx)(w.z,{type:"default",icon:T&&(0,s.jsx)(r.Z,{className:"animate-spin"}),iconRight:(0,s.jsx)(i.Z,{strokeWidth:1.5,size:12}),...P,className:(0,_.cn)("pr-2 rounded-l-none","connected-on-right"===n&&"rounded-r-none","connected-on-left"===n&&"rounded-l-none border-l-0","connected-on-both"===n&&"rounded-none border-x-0",null==P?void 0:P.className),"data-sentry-element":"Button","data-sentry-source-file":"DatabaseSelector.tsx",children:M?(0,s.jsx)("span",{children:M.name}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"capitalize",children:T||(null==B?void 0:B.identifier)===A?"Primary database":"Read replica"})," ",Z&&(null==B?void 0:B.identifier)!==A&&(0,s.jsxs)("span",{children:["(",W," - ",q,")"]})]})})]})}),(0,s.jsx)(N.yk,{className:"p-0 w-64",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,s.jsx)(k.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,s.jsxs)(k.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:[a.length>0&&(0,s.jsx)(k.fu,{className:"border-b",children:a.map(e=>(0,s.jsx)(k.di,{value:e.id,className:"cursor-pointer w-full",onSelect:()=>{F.setSelectedDatabaseId(e.id),L(!1),d(e.id)},onClick:()=>{F.setSelectedDatabaseId(e.id),L(!1),d(e.id)},children:(0,s.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,s.jsx)("p",{children:e.name}),e.id===z&&(0,s.jsx)(l.Z,{size:14})]})},e.id))}),(0,s.jsx)(k.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,s.jsx)(S.x,{className:(O||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"DatabaseSelector.tsx",children:null==U?void 0:U.map(e=>{let t=(0,j.f)(e.region),n=(0,j.U)(e.identifier);if("ACTIVE_HEALTHY"!==e.status){let a=[g.hk.INIT_READ_REPLICA,g.hk.COMING_UP].includes(e.status)?"coming up":"not healthy";return(0,s.jsxs)(C.u,{children:[(0,s.jsx)(C.aJ,{asChild:!0,children:(0,s.jsx)("div",{className:"px-2 py-1.5 w-full flex items-center justify-between",children:(0,s.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["Read replica (",t," - ",n,")"]})})}),(0,s.jsx)(C._v,{side:"right",className:"w-80",children:(0,s.jsx)(f.U,{className:"text-xs text-foreground",content:"Replica unable to accept requests as its ".concat(a,". [View infrastructure settings](/project/").concat(A,"/settings/infrastructure) for more information.")})})]},e.identifier)}return(0,s.jsx)(k.di,{value:e.identifier,className:"cursor-pointer w-full",onSelect:()=>{F.setSelectedDatabaseId(e.identifier),L(!1),d(e.identifier)},onClick:()=>{F.setSelectedDatabaseId(e.identifier),L(!1),d(e.identifier)},children:(0,s.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,s.jsx)("p",{children:e.identifier===A?"Primary database":"Read replica (".concat(t," - ").concat(n,")")}),e.identifier===z&&(0,s.jsx)(l.Z,{size:16})]})},e.identifier)})})}),(0,s.jsx)(k.fu,{className:"border-t","data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,s.jsx)(k.di,{className:"cursor-pointer w-full",onSelect:()=>{L(!1),D.push("/project/".concat(A,"/settings/infrastructure"))},onClick:()=>L(!1),"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,s.jsxs)(u(),{href:"/project/".concat(A,"/settings/infrastructure"),onClick:()=>{L(!1),E(null)},className:"w-full flex items-center gap-2","data-sentry-element":"Link","data-sentry-source-file":"DatabaseSelector.tsx",children:[(0,s.jsx)(c.Z,{size:14,strokeWidth:1.5,"data-sentry-element":"Plus","data-sentry-source-file":"DatabaseSelector.tsx"}),(0,s.jsx)("p",{children:"Create a new read replica"})]})})})]})})})]})}},92772:function(e,t,n){"use strict";var s=n(97458),a=n(36117),o=n(52983),r=n(54056),i=n(65864),l=n(26714),c=n(98261),d=n(47878);let u=(0,a.Z)((e,t)=>({items:e,...t})),p=(0,o.memo)(e=>{let{data:t,index:n,style:a}=e,{items:o,itemProps:r,ItemComponent:i,listRef:l,LoaderComponent:d}=t,u=n<o.length?o[n]:void 0;return u?(0,s.jsx)("div",{style:a,children:(0,s.jsx)(i,{index:n,item:u,listRef:l,...r})}):void 0!==d?(0,s.jsx)("div",{style:a,children:d}):(0,s.jsxs)("div",{className:"space-y-1 my-1",style:a,children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)(c.Z,{}),(0,s.jsx)(c.Z,{})]})},i.wy);p.displayName="Item",t.Z=(0,o.memo)(function(e){let{items:t=[],itemProps:n,hasNextPage:a=!1,isLoadingNextPage:c=!1,getItemSize:d=()=>40,onLoadNextPage:x=()=>{},ItemComponent:h=()=>null,LoaderComponent:m}=e,f=(0,o.useRef)(),g=c?()=>{}:x,v=e=>!a||e<t.length,j=a?t.length+1:t.length,y=u(t,{itemProps:n,ItemComponent:h,LoaderComponent:m,listRef:f});return(0,s.jsxs)("div",{className:"relative flex flex-col flex-grow","data-sentry-component":"InfiniteList","data-sentry-source-file":"InfiniteList.tsx",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(r.ZP,{"data-sentry-element":"AutoSizer","data-sentry-source-file":"InfiniteList.tsx",children:e=>{let{height:t,width:n}=e;return(0,s.jsx)(l.Z,{itemCount:j,isItemLoaded:v,loadMoreItems:g,children:e=>{let{onItemsRendered:a,ref:o}=e;return(0,s.jsx)(i.S_,{ref:e=>{o(e),f.current=e},height:null!=t?t:0,width:null!=n?n:0,itemCount:j,itemData:y,itemSize:d,onItemsRendered:a,children:p})}})}})}),(0,s.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})},d.t0)},60176:function(e,t,n){"use strict";n.d(t,{mM:function(){return i}}),n(97458);var s=n(52983),a=n(28622),o=n(34653);n(45925);let r=(0,s.createContext)(function(){let e=(0,a.sj)({usePoolerConnection:!0,setUsePoolerConnection:t=>{e.usePoolerConnection=t},showPoolingModeHelper:!1,setShowPoolingModeHelper:t=>{e.showPoolingModeHelper=t}});return e}());function i(e){let t=(0,s.useContext)(r);return(0,o.R)(t,e)}},35127:function(e,t,n){"use strict";var s=n(97458),a=n(53995),o=n(52983),r=n(9060),i=n(85973),l=n(97274),c=n(88587),d=n(5546);t.Z=e=>{let{children:t,open:n=!1,onOpenChange:u}=e,p=(0,a.useRouter)(),{width:x}=(0,i.Z)();return(0,o.useEffect)(()=>{u(!1)},[null==p?void 0:p.asPath]),(0,o.useEffect)(()=>{u(!1)},[x]),(0,s.jsx)(l.yo,{open:n,onOpenChange:u,"data-sentry-element":"Sheet","data-sentry-component":"MobileSheetNav","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,s.jsx)(l.ue,{id:"mobile-sheet-content",showClose:!1,size:"full",side:"bottom",className:(0,d.cn)("rounded-t-lg overflow-hidden overflow-y-scroll","h-[85dvh] md:max-h-[500px] py-2"),"data-sentry-element":"SheetContent","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,s.jsx)(r.SV,{FallbackComponent:()=>(0,s.jsx)(c.rb,{}),"data-sentry-element":"ErrorBoundary","data-sentry-source-file":"MobileSheetNav.tsx",children:t})})})}},82558:function(e,t,n){"use strict";n.d(t,{d:function(){return D}});var s=n(97458),a=n(71607),o=n.n(a),r=n(45196),i=n(72871),l=n(98809),c=n(52983),d=n(17434),u=n(97137),p=n(5546),x=n(19168);let h=e=>({hljs:{display:"block",overflowX:"auto",color:e?"#ddd":"#888"},"hljs-tag":{color:"#569cd6"},"hljs-keyword":{color:"#569cd6",fontWeight:"normal"},"hljs-selector-tag":{color:"#569cd6",fontWeight:"normal"},"hljs-literal":{color:"#569cd6",fontWeight:"normal"},"hljs-strong":{color:"#569cd6"},"hljs-name":{color:"#569cd6"},"hljs-code":{color:"#66d9ef"},"hljs-class .hljs-title":{color:"gray"},"hljs-attribute":{color:"#bf79db"},"hljs-symbol":{color:"#bf79db"},"hljs-regexp":{color:"#bf79db"},"hljs-link":{color:"#bf79db"},"hljs-string":{color:"#3ECF8E"},"hljs-bullet":{color:"#3ECF8E"},"hljs-subst":{color:"#3ECF8E"},"hljs-title":{color:"#3ECF8E",fontWeight:"normal"},"hljs-section":{color:"#3ECF8E",fontWeight:"normal"},"hljs-emphasis":{color:"#3ECF8E"},"hljs-type":{color:"#3ECF8E",fontWeight:"normal"},"hljs-built_in":{color:"#3ECF8E"},"hljs-builtin-name":{color:"#3ECF8E"},"hljs-selector-attr":{color:"#3ECF8E"},"hljs-selector-pseudo":{color:"#3ECF8E"},"hljs-addition":{color:"#3ECF8E"},"hljs-variable":{color:"#3ECF8E"},"hljs-template-tag":{color:"#3ECF8E"},"hljs-template-variable":{color:"#3ECF8E"},"hljs-comment":{color:e?"#999":"#888"},"hljs-quote":{color:"#75715e"},"hljs-deletion":{color:"#75715e"},"hljs-meta":{color:"#75715e"},"hljs-doctag":{fontWeight:"normal"},"hljs-selector-id":{fontWeight:"normal"}});var m=n(99075),f=n.n(m),g=n(46213),v=n(35789),j=n(79839),y=n(51201),b=n(92517),N=n(95110),w=n(33303),_=n(99423),k=n(70403),S=n(3457),C=n(83235),P=n(19487);let D=e=>{var t,n,a,m;let{title:D,language:A,linesToHighlight:I=[],highlightBorder:L,styleConfig:E,className:F,wrapperClassName:z,value:R,theme:T,children:Z,hideCopy:O=!1,hideLineNumbers:U=!1,wrapLines:B=!0,renderer:W,focusable:q=!0,onCopyCallback:M=o()}=e,{resolvedTheme:V}=(0,l.F)(),H=null==V?void 0:V.includes("dark"),Y=null!=T?T:h(H),[Q,G]=(0,c.useState)(!1),J=()=>{G(!0),M(),setTimeout(()=>{G(!1)},1e3)},K=c.Children.toArray(Z),[X]=1===K.length?K:[],$=null!==(n=null!=R?R:"string"==typeof X?X:void 0)&&void 0!==n?n:Z,ee="string"==typeof($=null!==(a=null==$?void 0:null===(t=$.trimEnd)||void 0===t?void 0:t.call($))&&void 0!==a?a:$)&&$.length<70?"short-inline-codeblock":"",et=A||(F?F.replace("language-",""):"js");"jsx"===et&&(et="js"),u.Z.registerLanguage("js",N.Z),u.Z.registerLanguage("ts",P.Z),u.Z.registerLanguage("py",S.Z),u.Z.registerLanguage("sql",C.Z),u.Z.registerLanguage("bash",g.Z),u.Z.registerLanguage("dart",j.Z),u.Z.registerLanguage("csharp",v.Z),u.Z.registerLanguage("json",w.Z),u.Z.registerLanguage("kotlin",_.Z),u.Z.registerLanguage("curl",f()),u.Z.registerLanguage("http",b.Z),u.Z.registerLanguage("php",k.Z),u.Z.registerLanguage("python",S.Z),u.Z.registerLanguage("go",y.Z),("bash"===et||"sh"===et)&&(U=!0);let en=!U;return(0,s.jsxs)(s.Fragment,{children:[D&&(0,s.jsx)("div",{className:"text-sm rounded-t-md bg-surface-100 py-2 px-4 border border-b-0 border-default font-sans",children:D}),F?(0,s.jsxs)("div",{className:(0,p.cn)("group relative max-w-[90vw] md:max-w-none overflow-auto",z),children:[(0,s.jsx)(u.Z,{language:et,wrapLines:B,style:Y,className:(0,p.cn)("code-block border border-surface p-4 w-full !my-0 !bg-surface-100 outline-none focus:border-foreground-lighter/50","".concat(D?"rounded-t-none rounded-b-md":"rounded-md"),"".concat(en?"":"pl-6"),F),customStyle:{fontSize:13,lineHeight:1.4},showLineNumbers:en,lineProps:e=>I.includes(e)?{style:{display:"block",backgroundColor:(null==E?void 0:E.highlightBackgroundColor)?null==E?void 0:E.highlightBackgroundColor:"hsl(var(--background-selection))",borderLeft:L?"1px solid ".concat((null==E?void 0:E.highlightBorderColor)?null==E?void 0:E.highlightBorderColor:"hsl(var(--foreground-default)",")"):null},class:"hljs-line-highlight"}:{},lineNumberContainerStyle:{paddingTop:"128px"},lineNumberStyle:{minWidth:"44px",paddingLeft:"4px",paddingRight:"4px",marginRight:"12px",color:null!==(m=null==E?void 0:E.lineNumber)&&void 0!==m?m:"#828282",textAlign:"center",fontSize:12,paddingTop:"4px",paddingBottom:"4px"},renderer:W,contentEditable:q,onBeforeInput:e=>(e.preventDefault(),!1),suppressContentEditableWarning:!0,children:$}),!O&&(R||Z)&&F?(0,s.jsx)("div",{className:["absolute right-2 top-2","opacity-0 group-hover:opacity-100 transition","".concat(H?"dark":"")].join(" "),children:(0,s.jsx)(d.CopyToClipboard,{text:R||Z,children:(0,s.jsx)(x.z,{type:"default",className:"px-1.5",icon:Q?(0,s.jsx)(r.Z,{}):(0,s.jsx)(i.Z,{}),onClick:()=>J(),children:Q?"Copied":""})})}):null]}):(0,s.jsx)("code",{className:ee,children:R||Z})]})}},53149:function(e,t,n){"use strict";var s=n(97458),a=n(77317),o=n(52983),r=n(82188);let i=e=>{var t,n,i;let{defaultActiveId:l,activeId:c,type:d="pills",size:u="tiny",block:p,onChange:x,onClick:h,scrollable:m,wrappable:f,addOnBefore:g,addOnAfter:v,listClassNames:j,baseClassNames:y,refs:b,children:N}=e,w=o.Children.toArray(N),[_,k]=(0,o.useState)(null!==(i=null!=c?c:l)&&void 0!==i?i:null==w?void 0:null===(n=w[0])||void 0===n?void 0:null===(t=n.props)||void 0===t?void 0:t.id);(0,o.useMemo)(()=>{c&&c!==_&&k(c)},[c]);let S=(0,r.Z)("tabs");function C(e){null==h||h(e),e!==_&&(null==x||x(e),k(e))}let P=[S[d].list];return m&&P.push(S.scrollable),f&&P.push(S.wrappable),j&&P.push(j),(0,s.jsxs)(a.fC,{value:_,className:[S.base,y].join(" "),ref:null==b?void 0:b.base,"data-sentry-element":"unknown","data-sentry-component":"Tabs","data-sentry-source-file":"Tabs.tsx",children:[(0,s.jsxs)(a.aV,{className:P.join(" "),ref:null==b?void 0:b.list,"data-sentry-element":"unknown","data-sentry-source-file":"Tabs.tsx",children:[g,w.map(e=>{let t=_===e.props.id,n=[S[d].base,S.size[u]];return t?n.push(S[d].active):n.push(S[d].inactive),p&&n.push(S.block),(0,s.jsxs)(a.xz,{onKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),C(e.props.id))},onClick:()=>C(e.props.id),value:e.props.id,className:n.join(" "),children:[e.props.icon,(0,s.jsx)("span",{children:e.props.label}),e.props.iconRight]},"".concat(e.props.id,"-tab-button"))}),v]}),w]})};i.Panel=e=>{let{children:t,id:n,className:o}=e,i=(0,r.Z)("tabs");return(0,s.jsx)(a.VY,{value:n,className:[i.content,o].join(" "),"data-sentry-element":"unknown","data-sentry-component":"Panel","data-sentry-source-file":"Tabs.tsx",children:t})},t.Z=i},44273:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(97458),a=n(90346),o=n(52983),r=n(5546);let i=o.forwardRef((e,t)=>{let{className:n,orientation:o="horizontal",decorative:i=!0,...l}=e;return(0,s.jsx)(a.f,{ref:t,decorative:i,orientation:o,className:(0,r.cn)("shrink-0 bg-border-muted","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",n),...l})});i.displayName=a.f.displayName},23066:function(e,t,n){"use strict";n.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return i},nU:function(){return d}});var s=n(97458),a=n(77317),o=n(52983),r=n(5546);let i=a.fC,l=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(a.aV,{ref:t,className:(0,r.cn)("flex items-center border-b",n),...o})});l.displayName=a.aV.displayName;let c=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(a.xz,{ref:t,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap py-1.5 text-sm  ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:shadow-sm text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent",n),...o})});c.displayName=a.xz.displayName;let d=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(a.VY,{ref:t,className:(0,r.cn)("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...o})});d.displayName=a.VY.displayName},97751:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var s=n(97458),a=n(29901),o=n(46417),r=n(16402),i=n(52983),l=n(5546);let c=e=>{let{size:t=24,loading:n=!1,className:c,allowHoverEffect:d=!1}=e,u=Math.max(1,t/46),p=(0,i.useRef)(null),[x,h]=(0,i.useState)(!1),m=(0,a.c)(0),f=(0,a.c)(0),g=(0,o.q)(m,{stiffness:300,damping:30}),v=(0,o.q)(f,{stiffness:300,damping:30});return(0,s.jsxs)("div",{className:(0,l.cn)("text-brand-600 flex justify-center items-center relative",c),style:{width:t,height:t,position:"relative"},"data-sentry-component":"AiIconAnimation","data-sentry-source-file":"ai-icon-animation.tsx",children:[(0,s.jsx)("div",{ref:p,className:"absolute flex items-center justify-center",style:{width:2*t,height:2*t,left:-t/2,top:-t/2},onMouseMove:e=>{if(!d||!p.current)return;let t=p.current.getBoundingClientRect(),n=t.left+t.width/2,s=t.top+t.height/2,a=e.clientX-n,o=e.clientY-s;m.set(a/5),f.set(o/5)},onMouseEnter:()=>h(!0),onMouseLeave:()=>{h(!1),m.set(0),f.set(0)}}),(0,s.jsxs)(r.E.svg,{width:t,height:t,viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"unknown","data-sentry-source-file":"ai-icon-animation.tsx",children:[(0,s.jsx)(r.E.path,{fillRule:"evenodd",clipRule:"evenodd",d:"M23 1.78677L44.2132 23L23 44.2132L1.7868 23L23 1.78677ZM23 0.372559L23.7071 1.07967L44.9203 22.2929L45.6274 23L44.9203 23.7071L23.7071 44.9203L23 45.6274L22.2929 44.9203L1.07969 23.7071L0.372583 23L1.07969 22.2929L22.2929 1.07967L23 0.372559Z",fill:"none",stroke:"currentColor",strokeWidth:u,animate:n?"loading":x?"hover":"rest",variants:{rest:{rotate:0},loading:{rotate:360},hover:{rotate:10}},transition:{duration:2,repeat:n?1/0:0,ease:"circInOut",type:"spring",stiffness:60,damping:10},"data-sentry-element":"unknown","data-sentry-source-file":"ai-icon-animation.tsx"}),(0,s.jsx)(r.E.path,{fillRule:"evenodd",clipRule:"evenodd",d:"M30 23C30 26.866 26.866 30 23 30C19.134 30 16 26.866 16 23C16 19.134 19.134 16 23 16C26.866 16 30 19.134 30 23ZM31 23C31 27.4183 27.4183 31 23 31C18.5817 31 15 27.4183 15 23C15 18.5817 18.5817 15 23 15C27.4183 15 31 18.5817 31 23Z",fill:"none",stroke:"currentColor",strokeWidth:u,variants:{rest:{scale:1,x:0,y:0},loading:{scale:[1,1.1,1],x:0,y:0},hover:{scale:1.1}},animate:x?"hover":n?"loading":"rest",style:{x:g,y:v},transition:{duration:2,repeat:n?1/0:0,ease:"easeInOut"},"data-sentry-element":"unknown","data-sentry-source-file":"ai-icon-animation.tsx"})]})]})}}}]);