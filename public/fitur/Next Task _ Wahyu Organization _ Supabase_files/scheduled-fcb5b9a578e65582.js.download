!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1b3d1195-9696-48b1-98ba-6c17b2878dac",e._sentryDebugIdIdentifier="sentry-dbid-1b3d1195-9696-48b1-98ba-6c17b2878dac")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1252],{64038:function(e,t,s){var r=s(87500),a=s(17325)(function(e,t,s){r(e,s,t)});e.exports=a},27767:function(e,t,s){var r=s(22825),a=s(29735),n=s(80135),i=s(18268),l=a(function(e){return n(r(e,1,i,!0))});e.exports=l},18360:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/backups/scheduled",function(){return s(13904)}])},5643:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(67634).Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},858:function(e,t,s){"use strict";var r=s(97458),a=s(20170),n=s(67983),i=s(37669),l=s.n(i);s(52983);var o=s(28436),c=s(21014);t.Z=function(e){var t;let{active:s}=e,i=(0,n.P)("clonetonewproject"),{ref:d,cloud_provider:u}=(null===(t=(0,a.d2)())||void 0===t?void 0:t.project)||{},f=[{enabled:!0,id:"scheduled",label:"Scheduled backups",href:"/project/".concat(d,"/database/backups/scheduled")},{enabled:!0,id:"pitr",label:"Point in time",href:"/project/".concat(d,"/database/backups/pitr")},{enabled:i&&"FLY"!==u,id:"rtnp",label:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:["Restore to new project"," ",(0,r.jsx)(o.C,{size:"small",className:"!text-[10px] px-1.5 py-0",children:"New"})]}),href:"/project/".concat(d,"/database/backups/restore-to-new-project")}];return(0,r.jsx)(c.M,{"data-sentry-element":"NavMenu","data-sentry-component":"DatabaseBackupsNav","data-sentry-source-file":"DatabaseBackupsNav.tsx",children:f.map(e=>e.enabled&&(0,r.jsx)(c._,{active:e.id===s,children:(0,r.jsx)(l(),{href:e.href,children:e.label})},e.id))})}},8504:function(e,t,s){"use strict";s.d(t,{p:function(){return i}});var r=s(97458),a=s(5546),n=s(26655);let i=e=>{let{title:t,description:s,docsUrl:i,actions:l,className:o}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("mb-6 flex items-center justify-between gap-x-4 ".concat(o)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),s&&(0,r.jsx)("div",{className:"prose text-sm max-w-full",children:s})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[void 0!==i&&(0,r.jsx)(n.G,{href:i}),l]})]})}},33778:function(e,t,s){"use strict";var r=s(97458),a=s(71794);t.Z=e=>{let{resourceText:t,isFullPage:s=!1}=e,n=()=>(0,r.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)(a.Z,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,r.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return s?(0,r.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,r.jsx)("div",{className:"w-[550px]",children:(0,r.jsx)(n,{})})}):(0,r.jsx)(n,{})}},13904:function(e,t,s){"use strict";s.r(t);var r=s(97458),a=s(198),n=s(92197),i=s(45925),l=s(89491),o=s(858),c=s(69019),d=s(7004),u=s(61223),f=s(26655),m=s(8504),x=s(52065),p=s(33778),h=s(98261),b=s(24358),y=s(87790),v=s(51735),j=s(61911);let g=()=>{let{ref:e}=(0,i.UO)(),{data:t,error:s,isLoading:c,isError:g,isSuccess:N}=(0,b.T)({projectRef:e}),w=(0,v.Qv)(),k=null==t?void 0:t.pitr_enabled,T=(0,y.N4)(),_=(0,y.Xo)(a.KA.READ,"back_ups");return(0,r.jsx)(d._S,{"data-sentry-element":"ScaffoldContainer","data-sentry-component":"DatabaseScheduledBackups","data-sentry-source-file":"scheduled.tsx",children:(0,r.jsx)(d.jX,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"scheduled.tsx",children:(0,r.jsx)("div",{className:"col-span-12",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(m.p,{className:"!mb-0",title:"Database Backups","data-sentry-element":"FormHeader","data-sentry-source-file":"scheduled.tsx"}),(0,r.jsx)(o.Z,{active:"scheduled","data-sentry-element":"DatabaseBackupsNav","data-sentry-source-file":"scheduled.tsx"}),w?(0,r.jsx)(j.J,{type:"default",title:"Database backups are not available for OrioleDB",description:"OrioleDB is currently in public alpha and projects created are strictly ephemeral with no database backups",children:(0,r.jsx)(f.G,{abbrev:!1,className:"mt-2",href:"https://supabase.com/docs"})}):(0,r.jsxs)("div",{className:"flex flex-col gap-y-4",children:[c&&(0,r.jsx)(h.A,{}),g&&(0,r.jsx)(u.Z,{error:s,subject:"Failed to retrieve scheduled backups"}),N&&(0,r.jsxs)(r.Fragment,{children:[!k&&(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Projects are backed up daily around midnight of your project's region and can be restored at any time."}),k&&(0,r.jsx)(x.Z,{hideCollapse:!0,defaultVisibility:!0,icon:(0,r.jsx)(n.Z,{strokeWidth:2}),title:"Point-In-Time-Recovery (PITR) enabled",description:(0,r.jsxs)("div",{children:["Your project uses PITR and full daily backups are no longer taken. They're not needed, as PITR supports a superset of functionality, in terms of the granular recovery that can be performed."," ",(0,r.jsx)("a",{className:"text-brand transition-colors hover:text-brand-600",href:"https://supabase.com/docs/guides/platform/backups",children:"Learn more"})]})}),T&&!_?(0,r.jsx)(p.Z,{resourceText:"view scheduled backups"}):(0,r.jsx)(l.M4,{})]})]})]})})})})};g.getLayout=e=>(0,r.jsx)(c.Z,{title:"Database",children:e}),t.default=g},60005:function(e,t,s){"use strict";s.d(t,{c:function(){return v},w:function(){return h}});var r=s(97458),a=s(52983),n=s(82445),i=s(5546),l=s(28977),o=s.n(l),c=s(60192),d=s.n(c),u=s(13516),f=s.n(u),m=s(29356);o().extend(d()),o().extend(f());let x=e=>o().unix(Number(e)/1e3/1e3).toISOString(),p=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},h=e=>{let{utcTimestamp:t,format:s}=e,r=p(t)?x(t):t;return o().utc(r).local().format(s)},b=e=>{let{utcTimestamp:t,format:s}=e,r=p(t)?x(t):t;return o().utc(r).format(s)},y=e=>{let{utcTimestamp:t}=e,s=p(t)?x(t):t;return o().utc(s).fromNow()},v=e=>{let{utcTimestamp:t,className:s,displayAs:l="local",format:o="DD MMM  HH:mm:ss",labelFormat:c="DD MMM HH:mm:ss"}=e,d=h({utcTimestamp:t,format:o}),u=b({utcTimestamp:t,format:o}),f=y({utcTimestamp:t}),[x,p]=(0,a.useState)("start"),v=(0,a.useRef)(null),j=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,a.useEffect)(()=>{let e=()=>{if(v.current){let e=v.current.getBoundingClientRect(),t=window.innerHeight;p(e.top<t/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let g=e=>{let{label:t,value:s}=e,[n,l]=(0,a.useState)(!1);return(0,r.jsxs)("span",{onClick:e=>{e.stopPropagation(),e.preventDefault(),navigator.clipboard.writeText(s),l(!0),setTimeout(()=>{l(!1)},1e3)},className:(0,i.cn)("relative cursor-default grid grid-cols-2 gap-2 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":n}),"data-sentry-component":"TooltipRow","data-sentry-source-file":"index.tsx",children:[(0,r.jsxs)("span",{className:"text-right truncate",children:[t,":"]}),(0,r.jsxs)("div",{className:"relative",children:[n&&(0,r.jsx)("span",{className:"absolute inset-0 flex items-center text-brand-600 bg-surface-100",children:"Copied!"}),(0,r.jsxs)("span",{className:"flex items-center gap-x-2",children:[s,(0,r.jsx)(m.Z,{size:12,className:"opacity-0 group-hover:opacity-100 transition","data-sentry-element":"Clipboard","data-sentry-source-file":"index.tsx"})]})]})]})};return(0,r.jsxs)(n.u,{"data-sentry-element":"Tooltip","data-sentry-component":"TimestampInfo","data-sentry-source-file":"index.tsx",children:[(0,r.jsx)(n.aJ,{asChild:!0,ref:v,className:"text-xs ".concat(s," border-b border-transparent hover:border-dashed hover:border-foreground-light"),"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"index.tsx",children:(0,r.jsx)("span",{children:"local"===l?h({utcTimestamp:t,format:c}):b({utcTimestamp:t,format:c})})}),(0,r.jsxs)(n._v,{align:x,side:"right",className:"font-mono p-0 py-1","data-sentry-element":"TooltipContent","data-sentry-source-file":"index.tsx",children:[(0,r.jsx)(g,{label:"UTC",value:u,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(g,{label:"".concat(j),value:d,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(g,{label:"Relative",value:f,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(g,{label:"Timestamp",value:String(t),"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"})]})]})}},93009:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var r=s(97458),a=s(52983),n=s(59080),i=s(41879);function l(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function o(e){let{validate:t,...s}=e,[o,c]=(0,a.useReducer)(l,null),d=(0,n.TA)({validateOnBlur:!0,...s,validationSchema:s.validationSchema,initialValues:s.initialValues,onSubmit:s.onSubmit,validate:t||function(){return o}});return(0,r.jsx)("form",{id:s.id,name:s.name,onSubmit:d.handleSubmit,className:s.className,style:s.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,r.jsx)(i.o,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:s.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},21014:function(e,t,s){"use strict";s.d(t,{M:function(){return i},_:function(){return l}});var r=s(97458),a=s(52983),n=s(5546);let i=(0,a.forwardRef)((e,t)=>(0,r.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,n.cn)("border-b",e.className),children:(0,r.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),l=(0,a.forwardRef)((e,t)=>{let{children:s,className:a,active:i,...l}=e;return(0,r.jsx)("li",{ref:t,"aria-selected":i?"true":"false","data-state":i?"active":"inactive",className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",a),...l,children:s})})}},function(e){e.O(0,[3659,7186,1885,588,520,2597,8703,9505,3351,6019,7191,2594,175,659,2829,5294,5313,5970,9080,320,5538,3537,7032,6085,478,9885,495,7546,6064,111,5394,3850,9630,813,1553,9774,2888,179],function(){return e(e.s=18360)}),_N_E=e.O()}]);