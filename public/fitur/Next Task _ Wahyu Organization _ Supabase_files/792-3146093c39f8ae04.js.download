!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4da27203-4c8f-46b9-9801-666fbfd660df",e._sentryDebugIdIdentifier="sentry-dbid-4da27203-4c8f-46b9-9801-666fbfd660df")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{2987:function(e,t,s){s.d(t,{Z:function(){return ef}});var a=s(97458),n=s(198),l=s(45925),r=s(85466),o=s.n(r),i=s(63204),d=s(2684),c=s(29356),u=s(35986),x=s(94540),m=s(72462),f=s(52983),h=s(44914),p=s(34549),g=s(49571),v=s.n(g),j=s(97881),y=s(13270),b=s(87790),N=s(47878),w=s(44930),S=s(70717),_=s(63730),D=s(5546),R=s(77518),k=s(19168),T=s(51790),H=s(82064),L=s(60005);let C=e=>(0,a.jsxs)(H.VK,{"data-sentry-element":"RowLayout","data-sentry-component":"defaultRenderCell","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx",children:[(0,a.jsx)(L.c,{utcTimestamp:e.row.timestamp,"data-sentry-element":"TimestampInfo","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"}),(0,a.jsx)(H.VG,{className:"w-full",value:e.row.event_message,"data-sentry-element":"TextFormatter","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"})]});var E=[{name:"default-preview-first-column",key:"default-preview-first-column",renderCell:C}];let M=[{name:"auth-first-column",key:"auth-first-column",renderCell:e=>{var t;return e.row.level?(0,a.jsxs)(H.VK,{children:[(0,a.jsx)(L.c,{utcTimestamp:e.row.timestamp}),e.row.level&&(0,a.jsx)(H.TK,{value:e.row.level}),(0,a.jsx)(H.VG,{className:"w-full",value:"".concat(e.row.path?e.row.path+" | ":"").concat((null===(t=e.row.msg)||void 0===t?void 0:t.trim())||e.row.event_message)})]}):C(e)}}],I=[{name:"database-api-first-column",key:"database-api-first-column",renderCell:e=>e.row.status_code||e.row.method||e.row.path?(0,a.jsxs)(H.VK,{children:[(0,a.jsx)(L.c,{utcTimestamp:e.row.timestamp}),(0,a.jsx)(H.XA,{row:e,value:e.row.status_code}),(0,a.jsx)(H.VG,{className:"w-20",value:e.row.method}),(0,a.jsx)(H.VG,{className:"w-full",value:e.row.path})]}):C(e)}],P=[{name:"database-postgres-first-column",key:"database-postgres-first-column",renderCell:e=>e.row.error_severity?(0,a.jsxs)(H.VK,{children:[(0,a.jsx)(L.c,{utcTimestamp:e.row.timestamp}),(0,a.jsx)(H.TK,{value:e.row.error_severity}),(0,a.jsx)(H.VG,{className:"w-full",value:e.row.event_message})]}):C(e)}],F=[{name:"functions-edge-first-column",key:"functions-edge-first-column",renderCell:e=>e.row.status_code||e.row.method?(0,a.jsxs)(H.VK,{children:[(0,a.jsx)(L.c,{utcTimestamp:e.row.timestamp}),(0,a.jsx)(H.XA,{row:e,value:e.row.status_code}),(0,a.jsx)(H.VG,{value:e.row.method}),(0,a.jsx)(H.VG,{value:e.row.id})]}):C(e)}],z=[{name:"functions-logs-first-column",key:"functions-logs-first-column",renderCell:e=>e.row.event_type||e.row.level?(0,a.jsxs)(H.VK,{children:[(0,a.jsx)(L.c,{utcTimestamp:e.row.timestamp}),"uncaughtException"===e.row.event_type?(0,a.jsx)(H.TK,{value:e.row.event_type,uppercase:!1}):(0,a.jsx)(H.TK,{value:e.row.level}),(0,a.jsx)(H.VG,{className:"w-full",value:e.row.event_message})]}):C(e)}];var A=s(14415),Z=s(26192),O=s(23066),W=s(82558),V=s(70888),Y=e=>{var t,s,n,l,r,o,i,d,c,u,x;let{log:m}=e;return(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-6"),"data-sentry-component":"AuthSelectionRenderer","data-sentry-source-file":"AuthSelectionRenderer.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Event Message"}),(0,a.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground whitespace-pre-wrap overflow-x-auto",children:(null===(t=m.metadata)||void 0===t?void 0:t.msg)||m.event_message})]}),(0,a.jsx)(H.tS,{value:m.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"AuthSelectionRenderer.tsx"}),(null===(s=m.metadata)||void 0===s?void 0:s.status)&&(0,a.jsx)(H.Yj,{label:"Status",value:String(null===(n=m.metadata)||void 0===n?void 0:n.status),valueRender:(0,a.jsx)(H.XA,{value:null===(l=m.metadata)||void 0===l?void 0:l.status})}),(null===(r=m.metadata)||void 0===r?void 0:r.level)&&(0,a.jsx)(H.Yj,{label:"Severity",value:null===(o=m.metadata)||void 0===o?void 0:o.level,valueRender:(0,a.jsx)(H.TK,{value:null===(i=m.metadata)||void 0===i?void 0:i.level})}),(null===(d=m.metadata)||void 0===d?void 0:d.path)&&(0,a.jsx)(H.Yj,{label:"Request Path",value:null===(c=m.metadata)||void 0===c?void 0:c.path}),(null===(u=m.metadata)||void 0===u?void 0:u.error)&&(0,a.jsx)(H.Yj,{label:"Error Message",value:null===(x=m.metadata)||void 0===x?void 0:x.error}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Metadata"}),(0,a.jsx)("pre",{className:" className={`text-foreground text-sm col-span-8 overflow-x-auto text-xs font-mono`}",dangerouslySetInnerHTML:{__html:(0,H.wv)(m.metadata)}})]})]})},B=()=>(0,a.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark","data-sentry-component":"LogsDivider","data-sentry-source-file":"Logs.Divider.tsx"}),J=e=>{var t,s,n,l,r,o,i,d,c,u,x,m,f;let{log:h}=e,p=null==h?void 0:null===(s=h.metadata[0])||void 0===s?void 0:null===(t=s.request)||void 0===t?void 0:t[0],g=null==h?void 0:null===(l=h.metadata[0])||void 0===l?void 0:null===(n=l.response)||void 0===n?void 0:n[0],v=null==p?void 0:p.method,j=null==g?void 0:g.status_code,y=null==p?void 0:null===(o=p.headers)||void 0===o?void 0:null===(r=o[0])||void 0===r?void 0:r.cf_connecting_ip,b=null==p?void 0:null===(d=p.headers)||void 0===d?void 0:null===(i=d[0])||void 0===i?void 0:i.cf_ipcountry,N=null==p?void 0:null===(u=p.headers)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:c.x_client_info,w=null==p?void 0:null===(m=p.headers)||void 0===m?void 0:null===(x=m[0])||void 0===x?void 0:x.referer,S=null==h?void 0:null===(f=h.metadata[0])||void 0===f?void 0:f.load_balancer_redirect_identifier;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(H.Yj,{label:"Status",value:j,valueRender:(0,a.jsx)(H.XA,{value:j}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Method",value:v,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(H.tS,{value:h.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"IP Address",value:y,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Origin Country",value:b,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),N&&(0,a.jsx)(H.Yj,{label:"Client",value:N}),w&&(0,a.jsx)(H.Yj,{label:"Referer",value:w}),S&&(0,a.jsx)(H.Yj,{label:"Redirect Identifier",value:S})]}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Request Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:p?(0,H.wv)(h.metadata[0].request[0]):""}})})]}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Response Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:g?(0,H.wv)(h.metadata[0].response[0]):""}})})]})]})},K=s(41888),G=e=>{var t,s,n,l,r,o,i,d;let{log:c}=e,u=null==c?void 0:null===(s=c.metadata[0])||void 0===s?void 0:null===(t=s.parsed[0])||void 0===t?void 0:t.user_name,x=null==c?void 0:null===(l=c.metadata[0])||void 0===l?void 0:null===(n=l.parsed[0])||void 0===n?void 0:n.session_id,m=null==c?void 0:null===(o=c.metadata[0])||void 0===o?void 0:null===(r=o.parsed[0])||void 0===r?void 0:r.hint,f=null==c?void 0:null===(d=c.metadata[0])||void 0===d?void 0:null===(i=d.parsed[0])||void 0===i?void 0:i.error_severity;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:V.W.log_selection_x_padding,children:[(0,a.jsx)("span",{className:"col-span-4 text-sm text-foreground-lighter",children:"Event message"}),(0,a.jsx)("div",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono  text-xs text-foreground",children:c.event_message})]}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(H.Yj,{label:"Severity",value:f,valueRender:(0,a.jsx)(H.TK,{value:f}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsx)(H.tS,{value:c.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Postgres Username",value:u,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Session ID",value:x,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"})]}),m&&(0,a.jsx)("div",{className:"mt-4 ".concat(V.W.log_selection_x_padding),children:(0,a.jsx)(K.b,{variant:"warning",withIcon:!0,title:m})}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsxs)("div",{className:V.W.log_selection_x_padding,children:[(0,a.jsx)("h3",{className:"mb-4 text-lg text-foreground",children:"Metadata"}),(0,a.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:c.metadata?(0,H.wv)(c.metadata[0]):""}})})]})]})},q=e=>{let{log:t}=e;return(0,a.jsxs)("div",{className:"space-y-6 py-4 px-5","data-sentry-component":"DefaultPreviewSelectionRenderer","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(null==t?void 0:t.timestamp)&&(0,a.jsx)(H.tS,{value:t.timestamp}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Event Message"}),(null==t?void 0:t.event_message)&&(0,a.jsx)(W.d,{className:"prose dark:prose-dark max-w-full",hideLineNumbers:!0,value:JSON.stringify(null==t?void 0:t.event_message)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Metadata"}),(0,a.jsx)(W.d,{hideLineNumbers:!0,value:JSON.stringify(null==t?void 0:t.metadata,null,2)||"",language:"json",className:(0,D.cn)("max-w-full","!py-3 !px-3.5 prose dark:prose-dark transition","[&>code]:m-0 [&>code>span]:flex [&>code>span]:flex-wrap"),"data-sentry-element":"CodeBlock","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"})]})]})};function X(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!["host","url"].includes(t)}).map(e=>{let[t,s]=e;return"headers"===t?[t,s.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!t.startsWith("_")})))]:[t,s]}))}var U=e=>{var t,s,n;let{log:l}=e,r=null===(t=l.metadata)||void 0===t?void 0:t[0],o=null==r?void 0:null===(s=r.request)||void 0===s?void 0:s[0],i=null==r?void 0:null===(n=r.response)||void 0===n?void 0:n[0],d=null==o?void 0:o.method,c=null==i?void 0:i.status_code,u=(null==o?void 0:o.url)!==void 0?new URL(null==o?void 0:o.url):void 0,x=r.execution_time_ms,m=r.deployment_id;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(H.Yj,{label:"Status",value:c,valueRender:(0,a.jsx)(H.XA,{value:c}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Method",value:d,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(H.tS,{value:l.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Execution Time",value:"".concat(x,"ms"),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Execution ID",value:r.execution_id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Deployment ID",value:m,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Log ID",value:l.id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),void 0!==u&&(0,a.jsx)(H.Yj,{label:"Request Path",value:u.pathname+u.search})]}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Request Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:o?(0,H.wv)(X(o)):""}})})]}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Response Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:i?(0,H.wv)(X(i)):""}})})]})]})},Q=e=>{let{log:t}=e,s=t.metadata[0];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("span",{className:"text-foreground-lighter text-sm col-span-4",children:"Event message"}),(0,a.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground mt-2 whitespace-pre-wrap overflow-x-auto",children:t.event_message})]}),(0,a.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(H.Yj,{label:"Severity",value:s.level,valueRender:(0,a.jsx)(H.TK,{value:s.level}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Deployment version",value:s.version,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(H.tS,{value:t.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Execution ID",value:s.execution_id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(H.Yj,{label:"Deployment ID",value:s.deployment_id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"})]}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:s?(0,H.wv)(s):""}})})]})]})},$=s(88586);let ee=e=>{let{label:t,value:s,code:n}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-12","data-sentry-component":"DetailedJsonRow","data-sentry-source-file":"WarehouseSelectionRenderer.tsx",children:[(0,a.jsx)("span",{className:"text-foreground-lighter text-sm col-span-3",children:t}),(0,a.jsx)("span",{className:(0,D.cn)("text-foreground text-sm col-span-9 overflow-x-auto",n&&"text-xs font-mono"),children:(0,a.jsx)("pre",{dangerouslySetInnerHTML:{__html:(0,H.wv)(s)}})})]})},et=e=>{let{log:t}=e;return(0,a.jsx)("div",{className:"overflow-hidden overflow-x-auto space-y-6","data-sentry-component":"WarehouseSelectionRenderer","data-sentry-source-file":"WarehouseSelectionRenderer.tsx",children:Object.entries(t).map((e,t)=>{let[s,n]=e;return(0,a.jsx)("div",{className:"".concat(V.W.log_selection_x_padding),children:n&&"object"==typeof n?(0,a.jsx)(ee,{label:s,value:n}):(0,a.jsx)(H.Yj,{label:s,value:null===n?"NULL ":String(n)})},"".concat(s,"-").concat(t))})})};var es=e=>{let{log:t,onClose:s,queryType:n,isLoading:l,error:r}=e;return(0,a.jsx)("div",{className:"relative flex h-full flex-grow flex-col overflow-y-scroll bg-surface-100 border-t","data-sentry-component":"LogSelection","data-sentry-source-file":"LogSelection.tsx",children:(0,a.jsx)("div",{className:"relative flex-grow flex flex-col h-full",children:(0,a.jsxs)(O.mQ,{defaultValue:"details",className:"flex flex-col h-full","data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,a.jsxs)(O.dr,{className:"px-2 pt-2","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,a.jsx)(O.SP,{className:"px-3",value:"details","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Details"}),(0,a.jsx)(O.SP,{disabled:!t,className:"px-3",value:"raw","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Raw"}),(0,a.jsx)(k.z,{type:"text",className:"ml-auto absolute top-2 right-2 cursor-pointer transition hover:text-foreground h-6 w-6 px-0 py-0 flex items-center justify-center",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"LogSelection.tsx",children:(0,a.jsx)(A.Z,{size:14,strokeWidth:2,className:"text-foreground-lighter","data-sentry-element":"X","data-sentry-source-file":"LogSelection.tsx"})})]}),(0,a.jsx)("div",{className:"flex-1 h-full",children:l?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)($.A,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.nU,{className:"space-y-6 h-full",value:"details",children:(0,a.jsx)(()=>{if(r)return(0,a.jsx)(en,{error:r});if(!t)return(0,a.jsx)(ea,{});switch(n){case"warehouse":return(0,a.jsx)(et,{log:t});case"api":return(0,a.jsx)(J,{log:t});case"database":case"pg_cron":return(0,a.jsx)(G,{log:t});case"fn_edge":return(0,a.jsx)(U,{log:t});case"functions":return(0,a.jsx)(Q,{log:t});case"auth":return(0,a.jsx)(Y,{log:t});default:return(0,a.jsx)(q,{log:t})}},{})}),(0,a.jsx)(O.nU,{value:"raw",children:(0,a.jsx)(W.d,{hideLineNumbers:!0,language:"json",className:"prose w-full pt-0 max-w-full border-none",children:JSON.stringify(t,null,2)})})]})})]})})})};function ea(e){let{title:t="Select an Event",message:s="Select an Event to view the complete JSON payload"}=e;return(0,a.jsx)("div",{className:(0,D.cn)("flex h-full w-full flex-col items-center justify-center gap-2 overflow-y-scroll text-center transition-all px-4"),"data-sentry-component":"LogDetailEmptyState","data-sentry-source-file":"LogSelection.tsx",children:(0,a.jsxs)("div",{className:(0,D.cn)("flex w-full max-w-sm flex-col items-center justify-center gap-6 text-center transition-all delay-300 duration-500"),children:[(0,a.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-control px-2",children:[(0,a.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-surface-300"}),(0,a.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,a.jsx)(Z.Z,{size:"24",strokeWidth:1,"data-sentry-element":"MousePointerClick","data-sentry-source-file":"LogSelection.tsx"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-sm text-foreground",children:t}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter",children:s})]})]})})}function en(e){let{error:t}=e;return(0,a.jsx)("pre",{"data-sentry-component":"LogErrorState","data-sentry-source-file":"LogSelection.tsx",children:JSON.stringify(t,null,2)})}var el=s(40966);let er=e=>{let{error:t}=e;return(0,a.jsx)("div",{className:"w-full prose min-w-full text-foreground text-sm","data-sentry-component":"DefaultErrorRenderer","data-sentry-source-file":"DefaultErrorRenderer.tsx",children:(0,a.jsx)(W.d,{title:"Error fetching logs",language:"json",hideLineNumbers:!0,value:"string"==typeof t?t:JSON.stringify(t,null,2),className:"w-full font-mono","data-sentry-element":"CodeBlock","data-sentry-source-file":"DefaultErrorRenderer.tsx"})})};var eo=s(93761),ei=s(82188);let ed=(0,f.createContext)({chevronAlign:"left",justified:!0,type:"default"});function ec(e){let{children:t,className:s,onChange:n,openBehaviour:l="multiple",type:r="default",defaultValue:o,justified:i=!1,chevronAlign:d="left"}=e,c=[(0,ei.Z)("accordion").variants[r].base];return s&&c.push(s),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eo.fC,{type:l,onValueChange:function(e){n&&n(e),e==typeof String&&e.split(" ")},defaultValue:o,className:c.join(" "),"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,a.jsx)(ed.Provider,{value:{chevronAlign:d,justified:i,type:r,defaultValue:o},"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,a.jsx)("div",{children:t})})})})}ec.Item=function(e){let{children:t,className:s,header:n,id:l,disabled:r}=e,o=(0,ei.Z)("accordion"),[d,c]=(0,f.useState)(!1),{type:u,justified:x,chevronAlign:m}=(0,f.useContext)(ed),h=[o.variants[u].trigger];x&&h.push(o.justified),s&&h.push(s);let p=[o.chevron.base,o.chevron.align[m]];return d&&!r&&p.unshift("!rotate-180"),(0,a.jsxs)(eo.ck,{value:l,className:o.variants[u].container,disabled:r,onClick:()=>{c(!d)},"data-sentry-element":"unknown","data-sentry-component":"Item","data-sentry-source-file":"Accordion.tsx",children:[(0,a.jsxs)(eo.xz,{className:h.join(" "),"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:[n,!r&&(0,a.jsx)(i.Z,{"aria-hidden":!0,className:p.join(" "),strokeWidth:2})]}),(0,a.jsx)(eo.VY,{className:o.variants[u].content,"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,a.jsx)("div",{className:o.variants[u].panel,children:t})})]})};var eu=s(96789),ex=e=>{let{error:t,isCustomQuery:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2 text-foreground-light","data-sentry-component":"ResourcesExceededErrorRenderer","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,a.jsx)("p",{children:"This query requires too much memory to be executed."}),(0,a.jsx)("p",{children:s?"Avoid selecting entire objects and instead select specific keys using dot notation.":"Avoid querying across a large datetime range."}),!s&&(0,a.jsx)("p",{children:"Please contact support if this error persists."})]}),(0,a.jsx)(ec,{className:"text-sm",justified:!1,openBehaviour:"multiple",type:"default",chevronAlign:"left",size:"small",iconPosition:"left","data-sentry-element":"Accordion","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,a.jsx)(ec.Item,{id:"1",header:"Full error message","data-sentry-element":"unknown","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,a.jsx)(eu.Z.TextArea,{size:"tiny",value:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:5,"data-sentry-element":"unknown","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx"})})})]})},em=s(24767),ef=e=>{let{data:t=[],queryType:s,onHistogramToggle:r,isHistogramShowing:g,isLoading:H,error:L,projectRef:C,onRun:A,onSave:Z,hasEditorValue:O,className:W,collectionName:V,EmptyState:Y,showHeader:B=!0,showHistogramToggle:J=!0,selectedLog:K,isSelectedLogLoading:G,selectedLogError:q,onSelectedLogChange:X}=e,{profile:U}=(0,w.Un)(),{show:Q}=(0,S.av)(),$=(0,f.useRef)(null),[ee,et]=(0,f.useState)(),[ea,en]=(0,f.useState)(!1),[eo,ei]=(0,f.useState)(null),ed=(0,b.Xo)(n.KA.CREATE,"user_content",{resource:{type:"log_sql",owner_id:null==U?void 0:U.id},subject:{id:null==U?void 0:U.id}}),ec=t[0],eu=Object.keys(function(){if(!ec)return{};let{timestamp:e,...t}=ec;return e?{timestamp:e,...t}:ec}()||{}),ef=eu.includes("id"),eh=eu.includes("timestamp"),ep="logs-explorer-context-menu",eg=eu.map((e,t)=>({key:"logs-column-".concat(t),name:e,resizable:!0,renderCell:t=>{let{row:s}=t;return(0,a.jsx)("span",{onContextMenu:e=>Q(e,{id:ep}),children:eS(null==s?void 0:s[e])})},renderHeaderCell:t=>(0,a.jsx)("div",{className:"flex items-center",children:e}),minWidth:128})),ev=eg;if(s)switch(s){case"warehouse":ev=eg;break;case"api":ev=I;break;case"database":case"pg_cron":ev=P;break;case"fn_edge":ev=F;break;case"functions":ev=z;break;case"auth":ev=M;break;default:ev=ec&&(0,el.Oy)(ec)?E:eg}let ej=(0,f.useMemo)(()=>JSON.stringify(t),[t]),[ey,eb]=(0,f.useMemo)(()=>{let e=[...new Set(t)];if(!ef)return[e,{}];let s=e.reduce((e,t)=>(e[t.id]=t,e),{});return[e,s]},[t,ef]),eN=(0,f.useMemo)(()=>ef&&eh?Object.values(eb).sort((e,t)=>t.timestamp-e.timestamp):ey,[ey,ef,eh,eb]),ew=(0,f.useCallback)((e,t)=>(0,a.jsx)(h.X2,{...t,isRowSelected:!1,selectedCellIdx:void 0},e),[]),eS=e=>e&&"object"==typeof e?JSON.stringify(e):null===e?"NULL":String(e);return((0,f.useEffect)(()=>{(K||G)&&en(!0),G||K||ei(null)},[K,G]),t)?(0,a.jsxs)("section",{className:"h-full flex w-full flex-col flex-1","data-sentry-component":"LogTable","data-sentry-source-file":"LogTable.tsx",children:[!s&&(0,a.jsx)(()=>(0,a.jsxs)("div",{className:(0,D.cn)("flex w-full items-center justify-between border-t bg-surface-100 px-5 py-2",W,{hidden:!B}),"data-sentry-component":"LogsExplorerTableHeader","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(R.h_,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(R.$F,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"LogTable.tsx",children:(0,a.jsxs)(k.z,{type:"text",iconRight:(0,a.jsx)(i.Z,{size:14}),"data-sentry-element":"Button","data-sentry-source-file":"LogTable.tsx",children:["Results ",t&&t.length?"(".concat(t.length,")"):""]})}),(0,a.jsxs)(R.AW,{align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsxs)(R.Xi,{onClick:()=>{var e;null===(e=$.current)||void 0===e||e.click()},className:"space-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(d.Z,{size:14,"data-sentry-element":"Download","data-sentry-source-file":"LogTable.tsx"}),(0,a.jsx)("div",{children:"Download CSV"})]}),(0,a.jsxs)(R.Xi,{onClick:()=>{let e=v().unparse(t);(0,N.vQ)(e,()=>{p.Am.success("Results copied to clipboard")})},className:"space-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(c.Z,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"LogTable.tsx"}),(0,a.jsx)("div",{children:"Copy as CSV"})]}),(0,a.jsxs)(R.Xi,{onClick:()=>{(0,N.vQ)(ej,()=>{p.Am.success("Results copied to clipboard")})},className:"space-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(c.Z,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"LogTable.tsx"}),(0,a.jsx)("div",{children:"Copy as JSON"})]})]})]})}),(0,a.jsx)("div",{className:"hidden",children:(0,a.jsx)(y.Z,{buttonType:"text",data:t,"data-sentry-element":"CSVButton","data-sentry-source-file":"LogTable.tsx",children:(0,a.jsx)("div",{ref:$,children:"Download CSV"})})}),J&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(k.z,{type:"default",icon:g?(0,a.jsx)(u.Z,{}):(0,a.jsx)(x.Z,{}),onClick:r,children:"Histogram"})}),(0,a.jsxs)("div",{className:"space-x-2",children:[l.Qy&&(0,a.jsx)(j.u,{type:"default",onClick:Z,disabled:!ed||!O,tooltip:{content:{side:"bottom",text:ed?void 0:"You need additional permissions to save your query"}},children:"Save query"}),(0,a.jsx)(k.z,{title:"run-logs-query",type:O?"primary":"alternative",disabled:!O,onClick:A,iconRight:(0,a.jsx)(m.Z,{size:12}),loading:H,"data-sentry-element":"Button","data-sentry-source-file":"LogTable.tsx",children:"Run"})]})]}),{}),(0,a.jsxs)(T.pO,{direction:"horizontal","data-sentry-element":"ResizablePanelGroup","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsxs)(T.ee,{defaultSize:K?60:100,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(h.ZP,{role:"table",style:{height:"100%"},className:(0,D.cn)("flex-1 flex-grow h-full border-0",{"data-grid--simple-logs":s,"data-grid--logs-explorer":!s}),rowHeight:40,headerRowHeight:s?0:28,onSelectedCellChange:e=>{et(e)},onCellClick:e=>{var t;ei(t=e.row),null==X||X(t)},columns:ev,rowClass:e=>(0,D.cn)("font-mono tracking-tight !bg-studio hover:!bg-surface-100 cursor-pointer",{"!bg-surface-200 rdg-row--focused":o()(e,eo)}),rows:eN,rowKeyGetter:e=>ef?e.id:JSON.stringify(e),renderers:{renderRow:ew,noRowsFallback:H?null:(0,a.jsxs)(a.Fragment,{children:[0===eN.length&&!L&&(0,a.jsx)(()=>Y||(0,a.jsx)(em.i,{}),{}),L&&(0,a.jsx)(()=>{var e;if(!L)return null;let t={isCustomQuery:!s,error:L};return"object"==typeof L&&(null===(e=L.error)||void 0===e?void 0:e.errors.find(e=>"resourcesExceeded"===e.reason))?(0,a.jsx)(ex,{...t}):(0,a.jsx)("div",{className:"text-foreground flex gap-2 font-mono px-6","data-sentry-component":"RenderErrorAlert","data-sentry-source-file":"LogTable.tsx",children:(0,a.jsx)(er,{...t,"data-sentry-element":"DefaultErrorRenderer","data-sentry-source-file":"LogTable.tsx"})})},{})]})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LogTable.tsx"}),(0,_.createPortal)((0,a.jsx)(S.v2,{id:ep,animation:!1,children:(0,a.jsxs)(S.ck,{onClick:()=>{if(ee){var e;let{row:t,column:s}=ee,a=eS(null!==(e=null==t?void 0:t[s.name])&&void 0!==e?e:"");(0,N.vQ)(a)}},children:[(0,a.jsx)(c.Z,{size:14}),(0,a.jsx)("span",{className:"ml-2 text-xs",children:"Copy cell content"})]})}),document.body)]}),(0,a.jsx)(T.Dp,{withHandle:!0,"data-sentry-element":"ResizableHandle","data-sentry-source-file":"LogTable.tsx"}),ea&&(0,a.jsx)(T.ee,{minSize:40,defaultSize:50,children:(0,a.jsx)(es,{isLoading:G||!1,projectRef:C,onClose:()=>{null==X||X(null),en(!1)},log:K,error:q,queryType:s,collectionName:V})})]})]}):null}},90899:function(e,t,s){var a=s(97458),n=s(47676),l=s(28977),r=s.n(l),o=s(52983),i=s(77518),d=s(19168),c=s(41888),u=s(70888),x=s(50838);t.Z=e=>{let{to:t,from:s,onChange:l,helpers:m}=e,f=(0,u.PJ)(m),[h,p]=(0,o.useState)(t||s?"":f.text),g=m.find(e=>t===e.calcTo()&&s===e.calcFrom());return(0,o.useEffect)(()=>{g&&h!==g.text?p(g.text):!g&&(t||s)&&p("")},[g,t,s]),(0,a.jsxs)("div",{className:"flex items-center","data-sentry-component":"DatePickers","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,a.jsxs)(i.h_,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,a.jsx)(i.$F,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)(d.z,{type:h?"secondary":"default",icon:(0,a.jsx)(x.Z,{size:12}),className:"rounded-r-none","data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)("span",{children:(null==g?void 0:g.text)||f.text})})}),(0,a.jsx)(i.AW,{side:"bottom",align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)(i._x,{onValueChange:e=>{let t=m.find(t=>t.text===e);l&&t&&l({to:t.calcTo(),from:t.calcFrom()})},value:(null==g?void 0:g.text)||"","data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"Logs.DatePickers.tsx",children:m.map(e=>(0,a.jsx)(i.qB,{value:e.text,disabled:e.disabled,children:(0,a.jsx)("span",{className:[e.disabled?"text-foreground-light cursor-not-allowed":""].join(" "),children:e.text})},e.text))})})]}),(0,a.jsx)(n.M,{triggerButtonClassName:"rounded-l-none",triggerButtonType:g?"default":"secondary",triggerButtonTitle:"Custom",onChange:e=>{p(""),l&&l(e)},to:h?void 0:t,from:h?void 0:s,renderFooter:e=>{let{to:t,from:s}=e;if(t&&s&&Math.abs(r()(s).diff(r()(t),"day"))>u.$K)return(0,a.jsx)(c.b,{title:"",variant:"warning",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:"Large ranges may result in memory errors for big projects."})},"data-sentry-element":"DatePicker","data-sentry-source-file":"Logs.DatePickers.tsx"})]})}},82064:function(e,t,s){s.d(t,{TK:function(){return m},VG:function(){return u},VK:function(){return i},XA:function(){return x},Yj:function(){return c},tS:function(){return d},wv:function(){return f}});var a=s(97458),n=s(86316);s(52983);var l=s(40966),r=s(71794),o=s(92197);s(28977);let i=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"LogsFormatters.tsx",children:t})},d=e=>{let{value:t}=e;return(0,a.jsx)(c,{label:"Timestamp",value:(0,l.Sj)(t)?(0,l.tI)(t):String(t),"data-sentry-element":"SelectionDetailedRow","data-sentry-component":"SelectionDetailedTimestampRow","data-sentry-source-file":"LogsFormatters.tsx"})},c=e=>{let{label:t,value:s,valueRender:l}=e;return(0,a.jsxs)("div",{className:"group flex items-center gap-2 flex-wrap","data-sentry-component":"SelectionDetailedRow","data-sentry-source-file":"LogsFormatters.tsx",children:[(0,a.jsx)("span",{className:"text-foreground-lighter text-sm col-span-3 whitespace-pre-wrap",children:t}),(0,a.jsx)("span",{title:s,className:"truncate font-mono text-foreground text-sm whitespace-pre-wrap break-all",children:null!=l?l:s}),(0,a.jsx)(n.Z,{iconOnly:!0,text:s,className:"group-hover:opacity-100 opacity-0 p-0 h-6 w-6",type:"text",title:"Copy to clipboard","data-sentry-element":"CopyButton","data-sentry-source-file":"LogsFormatters.tsx"})]})},u=e=>{let{value:t,className:s}=e;return(0,a.jsx)("span",{className:"font-mono text-xs truncate "+s,"data-sentry-component":"TextFormatter","data-sentry-source-file":"LogsFormatters.tsx",children:t})},x=e=>{let{value:t}=e;if(!t)return(0,a.jsx)("div",{children:(0,a.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});switch(t.toString().split("")[0]){case"1":case"2":return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded border bg-surface-200 px-2 py-1 text-center",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:t})})});case"5":return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-red-400 px-2 py-1 text-center  ",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-red-1100",children:t})})});case"4":case"3":return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-amber-400 px-2 py-1 text-center  ",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-amber-1100",children:t})})});default:return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-surface-100 px-2 py-1 text-center  ",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:t})})})}},m=e=>{let{value:t,uppercase:s=!0}=e;if(!t)return(0,a.jsx)("div",{children:(0,a.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let n=t.toUpperCase(),l=s?n:t,i=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),"data-sentry-component":"Layout","data-sentry-source-file":"LogsFormatters.tsx",children:s})};switch(n){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,a.jsx)(r.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-red-900 !block titlecase",children:l})]});case"INFO":case"DEBUG":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,a.jsx)(r.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-blue-900 !block titlecase",children:l})]});case"LOG":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,a.jsx)(o.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-blue-900 !block titlecase",children:l})]});case"WARNING":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,a.jsx)(r.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-amber-900 !block titlecase",children:l})]});default:return(0,a.jsx)(i,{children:(0,a.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:l})})})}};function f(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n")}},24767:function(e,t,s){s.d(t,{i:function(){return r}});var a=s(97458),n=s(78854);let l=()=>(0,a.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-stronger px-2","data-sentry-component":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"});function r(e){let{title:t="No results found",description:s="Try another search or adjust the filters"}=e;return(0,a.jsxs)("div",{className:"flex scale-100 flex-col items-center justify-center gap-6 text-center opacity-100 h-full","data-sentry-component":"LogsTableEmptyState","data-sentry-source-file":"LogsTableEmptyState.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,a.jsx)(l,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,a.jsx)(l,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,a.jsx)(l,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,a.jsx)(n.Z,{size:30,className:"absolute right-3 -bottom-2 text-foreground-lighter","data-sentry-element":"Search","data-sentry-source-file":"LogsTableEmptyState.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 px-5",children:[(0,a.jsx)("h3",{className:"text-lg text-foreground",children:t}),(0,a.jsx)("p",{className:"text-sm max-w-xs text-foreground-lighter",children:s})]})]})}},13270:function(e,t,s){var a=s(97458),n=s(2684),l=s(52983),r=s(84012),o=s(82445),i=s(19168);t.Z=e=>{let{onClick:t,buttonType:s="default",icon:d,children:c,disabled:u,data:x,title:m}=e,f=(0,l.useRef)(null),h=()=>{var e;null===(e=f.current)||void 0===e||e.link.click()},p=(0,l.useMemo)(()=>{let e=null==x?void 0:x[0];if(!e||!x)return;let t=Object.keys(e);return x.map(e=>t.reduce((t,s)=>("object"==typeof e[s]?t[s]=JSON.stringify(e[s]):t[s]=String(e[s]),t),{}))},[JSON.stringify(x)]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.CSVLink,{ref:f,className:"hidden",data:p||[],filename:"supabase_logs.csv",title:m,"data-sentry-element":"CSVLink","data-sentry-source-file":"CSVButton.tsx"}),(0,a.jsxs)(o.u,{delayDuration:100,"data-sentry-element":"Tooltip_Shadcn_","data-sentry-source-file":"CSVButton.tsx",children:[(0,a.jsx)(o.aJ,{asChild:!0,"data-sentry-element":"TooltipTrigger_Shadcn_","data-sentry-source-file":"CSVButton.tsx",children:(0,a.jsx)(i.z,{type:s,icon:d||(0,a.jsx)(n.Z,{}),disabled:u,className:"px-1.5",onClick:e=>{t&&t(e),h()},"data-sentry-element":"Button","data-sentry-source-file":"CSVButton.tsx",children:c})}),(0,a.jsx)(o._v,{side:"bottom",className:"text-xs","data-sentry-element":"TooltipContent_Shadcn_","data-sentry-source-file":"CSVButton.tsx",children:"Download logs as CSV"})]})]})}},47676:function(e,t,s){s.d(t,{M:function(){return w}});var a=s(97458),n=s(10925),l=s(28977),r=s.n(l),o=s(60630),i=s(44216),d=s(92494),c=s(79429),u=s(52983),x=s(34676),m=s.n(x),f=s(41341),h=s(19168),p=s(26006),g=s(50838),v=e=>{let{type:t,time:s,setTime:l,setStartTime:r,setEndTime:o,startTime:i,endTime:d,startDate:c,endDate:x}=e,[m,f]=(0,u.useState)(!1);function h(){1===s.HH.length&&(s.HH="0"+s.HH),1===s.mm.length&&(s.mm="0"+s.mm),1===s.ss.length&&(s.ss="0"+s.ss),s.HH||(s.HH="00"),s.mm||(s.mm="00"),s.ss||(s.ss="00");let e=!1,a=!1;(0,n.default)(new Date(c),"dd/mm/yyyy")==(0,n.default)(new Date(x),"dd/mm/yyyy")&&("start"===t&&(s.HH&&Number(s.HH)>Number(d.HH)&&(d.HH=s.HH,e=!0),s.HH&&Number(s.HH)>=Number(d.HH)&&s.mm&&Number(s.mm)>Number(d.mm)&&(d.mm=s.mm,e=!0),s.HH&&Number(s.HH)>=Number(d.HH)&&s.mm&&Number(s.mm)>=Number(d.mm)&&s.ss&&Number(s.ss)>Number(d.ss)&&(d.ss=s.ss,e=!0)),"end"===t&&(s.HH&&Number(s.HH)<Number(i.HH)&&(i.HH=s.HH,a=!0),s.HH&&Number(s.HH)<=Number(i.HH)&&s.mm&&Number(s.mm)<Number(i.mm)&&(i.mm=s.mm,a=!0),s.HH&&Number(s.HH)<=Number(i.HH)&&s.mm&&Number(s.mm)<=Number(i.mm)&&s.ss&&Number(s.ss)<Number(i.ss)&&(i.ss=s.ss,a=!0))),l({...s}),e&&o({...d}),a&&r({...i}),f(!1)}function p(e,t){let a={HH:s.HH,mm:s.mm,ss:s.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}a[t]=e,l({...a})}}let v=e=>{e.target.select(),f(!0)};return(0,u.useEffect)(()=>{h()},[c,x]),(0,a.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(m&&" border-stronger outline outline-2 outline-border","\n    "),"data-sentry-component":"TimeSplitInput","data-sentry-source-file":"TimeSplitInput.tsx",children:[(0,a.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,a.jsx)(g.Z,{size:14,strokeWidth:1.5,"data-sentry-element":"Clock","data-sentry-source-file":"TimeSplitInput.tsx"})}),(0,a.jsx)("input",{type:"text",onBlur:()=>h(),onFocus:v,pattern:"[0-23]*",placeholder:"00",onChange:e=>p(e.target.value,"HH"),"aria-label":"Hours",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:s.HH}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>h(),onFocus:v,pattern:"[0-12]*",placeholder:"00",onChange:e=>p(e.target.value,"mm"),"aria-label":"Minutes",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:s.mm}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>h(),onFocus:v,pattern:"[0-59]*",placeholder:"00",onChange:e=>p(e.target.value,"ss"),"aria-label":"Seconds",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:s.ss})]})};let j=new Date,y=new Date,b={HH:"00",mm:"00",ss:"00"},N={HH:"23",mm:"59",ss:"59"};var w=function(e){let{to:t,from:s,onChange:l,triggerButtonType:x="default",triggerButtonClassName:g="",triggerButtonTitle:w,minDate:S,maxDate:_,hideTime:D=!1,hideClear:R=!1,selectsRange:k=!0,renderFooter:T=()=>null,children:H}=e,[L,C]=(0,u.useState)(!1),[E,M]=(0,u.useState)(null),[I,P]=(0,u.useState)(null),[F,z]=(0,u.useState)(j),[A,Z]=(0,u.useState)(y),[O,W]=(0,u.useState)(b),[V,Y]=(0,u.useState)(N);return(0,u.useEffect)(()=>{if(s){if(s!==(null==E?void 0:E.toISOString())){let e=r()(s),t=e.toDate();M(t),z(t),W({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else M(null);if(t){if(t!==(null==I?void 0:I.toISOString())){let e=r()(t),s=e.toDate();P(s),Z(s),Y({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else P(null)},[t,s]),(0,a.jsxs)(f.J2,{open:L,onOpenChange:C,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"_DatePicker","data-sentry-source-file":"DatePicker.tsx",children:[(0,a.jsx)(f.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatePicker.tsx",children:(0,a.jsx)(h.z,{title:w,type:x,icon:(0,a.jsx)(o.Z,{}),className:g,"data-sentry-element":"Button","data-sentry-source-file":"DatePicker.tsx",children:void 0!==H?H:(0,a.jsx)(a.Fragment,{children:k&&E&&I&&E!==I?(0,a.jsxs)(a.Fragment,{children:[(0,n.default)(new Date(E),"dd MMM")," -"," ",(0,n.default)(new Date(I),"dd MMM")]}):E||I?(0,n.default)(new Date(E||I),"dd MMM"):"Custom"})})}),(0,a.jsx)(f.yk,{align:"center",side:"bottom",className:"p-0","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatePicker.tsx",children:(0,a.jsxs)(a.Fragment,{children:[D?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-stretch justify-between py-2",children:[k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex grow flex-col gap-1 pl-2",children:(0,a.jsx)(v,{type:"start",startTime:O,endTime:V,time:O,setTime:W,setStartTime:W,setEndTime:Y,startDate:F,endDate:A})}),(0,a.jsx)("div",{className:"\n                      flex \n                      w-12 \n                      items-center \n                      justify-center\n                      text-foreground-lighter\n                    ",children:(0,a.jsx)(i.Z,{strokeWidth:1.5,size:14})})]}):null,(0,a.jsx)("div",{className:"flex grow flex-col gap-1 pr-2",children:(0,a.jsx)(v,{type:"end",startTime:O,endTime:V,time:V,setTime:Y,setStartTime:W,setEndTime:Y,startDate:F,endDate:A})})]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(m(),{inline:!0,selectsRange:k,selected:F,onChange:e=>{!function(e){if(e){if(e instanceof Date)z(e),Z(e);else{let[t,s]=e;z(t),Z(s)}}else z(null),Z(null)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",startDate:F,endDate:A,minDate:S,maxDate:_,dayClassName:()=>"cursor-pointer",renderCustomHeader:e=>{let{date:t,decreaseMonth:s,increaseMonth:l,prevMonthButtonDisabled:r,nextMonthButtonDisabled:o}=e;return(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("button",{onClick:s,disabled:r,type:"button",className:"\n                        ".concat(r&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none p-2\n                    "),children:(0,a.jsx)(d.Z,{size:16,strokeWidth:2})}),(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:(0,n.default)(t,"MMMM yyyy")}),(0,a.jsx)("button",{onClick:l,disabled:o,type:"button",className:"\n                        ".concat(o&&"cursor-not-allowed opacity-50","\n                        text-foreground-light p-2 hover:text-foreground focus:outline-none\n                    "),children:(0,a.jsx)(c.Z,{size:16,strokeWidth:2})})]})})},"data-sentry-element":"DatePicker","data-sentry-source-file":"DatePicker.tsx"})}),T({from:(null==F?void 0:F.toISOString())||null,to:(null==A?void 0:A.toISOString())||null}),(0,a.jsx)(p.Z.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"DatePicker.tsx"}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[!R&&(0,a.jsx)(h.z,{type:"default",onClick:()=>void(C(!1),z(j),Z(y),W(b),Y(N),M(null),P(null),l&&l({from:null,to:null})),children:"Clear"}),(0,a.jsx)(h.z,{onClick:()=>(function(){C(!1),M(F),P(A);let e={from:r()(F).second(Number(O.ss)).minute(Number(O.mm)).hour(Number(O.HH)).toISOString(),to:r()(A||F).second(Number(V.ss)).minute(Number(V.mm)).hour(Number(V.HH)).toISOString()};l&&l(e)})(),"data-sentry-element":"Button","data-sentry-source-file":"DatePicker.tsx",children:"Apply"})]})]})})]})}},58189:function(e,t,s){var a=s(97458);t.Z=e=>{let{children:t,active:s,className:n}=e;return(0,a.jsx)("div",{className:[n,"flex h-full flex-grow transition-opacity ",s?"opacity-30":"opacity-100"].join(" "),"data-sentry-component":"LoadingOpacity","data-sentry-source-file":"LoadingOpacity.tsx",children:t})}},41888:function(e,t,s){s.d(t,{b:function(){return x}});var a=s(97458),n=s(52983),l=s(82188),r=s(63271),o=s(5498),i=s(73488),d=s(92197),c=s(14415);let u={danger:(0,a.jsx)(r.Z,{strokeWidth:1.5,size:18}),success:(0,a.jsx)(o.Z,{strokeWidth:1.5,size:18}),warning:(0,a.jsx)(i.Z,{strokeWidth:1.5,size:18}),info:(0,a.jsx)(d.Z,{strokeWidth:1.5,size:18}),neutral:(0,a.jsx)(a.Fragment,{})};function x(e){let{variant:t="neutral",className:s,title:r,withIcon:o,closable:i,children:d,icon:x,actions:m}=e,f=(0,l.Z)("alert"),[h,p]=(0,n.useState)(!0),g=[f.base];g.push(f.variant[t].base),s&&g.push(s);let v=[f.description,f.variant[t].description],j=[f.close];return(0,a.jsx)(a.Fragment,{children:h&&(0,a.jsxs)("div",{className:g.join(" "),children:[o?(0,a.jsx)("div",{className:f.variant[t].icon,children:o&&u[t]}):null,x&&x,(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:[f.variant[t].header,f.header].join(" "),children:r}),(0,a.jsx)("div",{className:v.join(" "),children:d})]}),m]}),i&&(0,a.jsx)("button",{"aria-label":"Close alert",onClick:()=>p(!1),className:j.join(" "),children:(0,a.jsx)(c.Z,{strokeWidth:2,size:16})})]})})}}}]);