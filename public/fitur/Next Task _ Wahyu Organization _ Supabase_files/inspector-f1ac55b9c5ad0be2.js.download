!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9634cf6a-0855-4f1a-906d-095d19e55813",e._sentryDebugIdIdentifier="sentry-dbid-9634cf6a-0855-4f1a-906d-095d19e55813")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7893],{45700:function(e,t,s){"use strict";t.fw=t.SU=t.QN=void 0;let n=s(37088),a="";"undefined"!=typeof Deno?a="deno":"undefined"!=typeof document?a="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?a="react-native":a="node",t.QN={"X-Client-Info":`supabase-js-${a}/${n.version}`},t.SU={headers:t.QN},t.fw={}},37088:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="2.44.3"},12832:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(97335),a=s.n(n),r=function(){return(r=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},o=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,s=a()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=s,t=null,s=function(){for(var s,n,a,r,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];t&&t();var i=(s=e.apply(void 0,l),n=null,a=null,r=new Promise(function(e,t){n=e,a=t}),s&&s.then(function(e){n&&n(e)},function(e){a&&a(e)}),{promise:r,resolve:function(e){n&&n(e)},reject:function(e){a&&a(e)},cancel:function(){n=null,a=null}}),c=i.promise;return t=i.cancel,c}),{func:s}},e.prototype.getDebouncedFunction=function(e){var t,s=(t=this.config.options).key.apply(t,e);return null==s?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[s]||(this.debounceCache[s]=this._createDebouncedFunction()),this.debounceCache[s])},e}(),i=function(e,t,s){var n=new o({func:e,wait:t,options:r({},l,s)});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.getDebouncedFunction(e).func.apply(void 0,e)}}},97335:function(e){"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=void 0,a=void 0,r=void 0,l=[];return function(){var i,c="function"==typeof t?t():t,d=new Date().getTime(),x=!n||d-n>c;n=d;for(var u=arguments.length,h=Array(u),m=0;m<u;m++)h[m]=arguments[m];if(x&&s.leading)return s.accumulate?Promise.resolve(e.call(this,[h])).then(function(e){return e[0]}):Promise.resolve(e.call.apply(e,[this].concat(h)));if(a?clearTimeout(r):((i={}).promise=new Promise(function(e,t){i.resolve=e,i.reject=t}),a=i),l.push(h),r=setTimeout(o.bind(this),c),s.accumulate){var p=l.length-1;return a.promise.then(function(e){return e[p]})}return a.promise};function o(){var t=a;clearTimeout(r),Promise.resolve(s.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],a=null}}},89022:function(e,t,s){var n=s(77379),a=s(96843);e.exports=function(e,t,s){return e&&e.length?n(e,0,(t=s||void 0===t?1:a(t))<0?0:t):[]}},66629:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/realtime/inspector",function(){return s(17641)}])},95034:function(e,t,s){"use strict";s.d(t,{Q:function(){return L},G:function(){return z}});var n=s(97458),a=s(52983),r=s(41341),l=s(19168),o=s(5546),i=s(63204),c=s(98038),d=s(15997),x=s(77518),u=s(98809);let h=e=>{let{isSelected:t=!1}=e,{resolvedTheme:s}=(0,u.F)();return(0,n.jsx)("svg",{width:"53",height:"17",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"ServiceRoleIcon","data-sentry-source-file":"Icons.tsx",children:(0,n.jsxs)("g",{opacity:t?"1":".5","data-sentry-element":"g","data-sentry-source-file":"Icons.tsx",children:[(0,n.jsx)("rect",{x:"37.161",y:".53",width:"15",height:"15",rx:"5.5",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"rect","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"M1 10.53h32.214",stroke:"#33A7E9",strokeLinecap:"round",strokeDasharray:"2 2","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("rect",{x:"15.964",y:".53",width:"9",height:"15",rx:"4.5",stroke:"light"===s?"#7E868C":"#7E7E7E","data-sentry-element":"rect","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"M1 5.53h32.214",stroke:"#33A7E9",strokeLinecap:"round",strokeDasharray:"2 2","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"})]})})},m=e=>{let{isSelected:t=!1}=e,{resolvedTheme:s}=(0,u.F)();return(0,n.jsx)("svg",{width:"53",height:"17",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"AnonIcon","data-sentry-source-file":"Icons.tsx",children:(0,n.jsxs)("g",{opacity:t?"1":".5","data-sentry-element":"g","data-sentry-source-file":"Icons.tsx",children:[(0,n.jsx)("path",{d:"M1 4.994a.5.5 0 0 0 0 1v-1Zm16.218 1h.5v-1h-.5v1ZM1 5.994h1.014v-1H1v1Zm3.04 0h2.028v-1H4.041v1Zm4.056 0h2.027v-1H8.096v1Zm4.054 0h2.027v-1H12.15v1Zm4.055 0h1.013v-1h-1.013v1Z",fill:"light"===s?"#7E868C":"#7E7E7E","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"m15.92 12.56 9.04-9.04",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("rect",{x:"15.964",y:".494",width:"9",height:"15",rx:"4.5",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"rect","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("rect",{x:"37.161",y:".744",width:"15",height:"15",rx:"5.5",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"rect","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"M1 10.494h32.214",stroke:"#33A7E9",strokeLinecap:"round",strokeDasharray:"2 2","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"M15.96 7.562 22.568.956M19.049 14.885l5.957-5.958",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"})]})})},p=e=>{let{isSelected:t=!1}=e,{resolvedTheme:s}=(0,u.F)();return(0,n.jsx)("svg",{width:"68",height:"17",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"AuthenticatedIcon","data-sentry-source-file":"Icons.tsx",children:(0,n.jsxs)("g",{opacity:t?"1":".5","data-sentry-element":"g","data-sentry-source-file":"Icons.tsx",children:[(0,n.jsx)("path",{d:"M15.63 5.156a.5.5 0 1 0 0 1v-1Zm16.218 1h.5v-1h-.5v1Zm-16.218 0h1.013v-1H15.63v1Zm3.04 0h2.028v-1h-2.027v1Zm4.055 0h2.028v-1h-2.028v1Zm4.055 0h2.027v-1H26.78v1Zm4.055 0h1.013v-1h-1.013v1Z",fill:"light"===s?"#7E868C":"#7E7E7E","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"m30.55 12.722 9.04-9.04",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("rect",{x:"30.594",y:".656",width:"9",height:"15",rx:"4.5",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"rect","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("rect",{x:"51.791",y:".906",width:"15",height:"15",rx:"5.5",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"rect","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"M15.63 10.656h32.214",stroke:"#33A7E9",strokeLinecap:"round",strokeDasharray:"2 2","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"m30.59 7.724 6.607-6.606M33.679 15.047l5.957-5.958",stroke:"light"===s?"#11181C":"#EDEDED","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"}),(0,n.jsx)("path",{d:"M12.666 14.281v-1.333A2.667 2.667 0 0 0 10 10.28H6a2.667 2.667 0 0 0-2.667 2.667v1.333M8 7.615A2.667 2.667 0 1 0 8 2.28a2.667 2.667 0 0 0 0 5.334Z",stroke:"light"===s?"#11181C":"#EDEDED",strokeLinecap:"round",strokeLinejoin:"round","data-sentry-element":"path","data-sentry-source-file":"Icons.tsx"})]})})};var f=s(45196),g=s(62431),y=function(e){let{label:t,value:s,isSelected:a,onSelectedChange:r,icon:l}=e;return(0,n.jsxs)("label",{className:(0,o.cn)("border border-default rounded-md bg-surface-200 hover:bg-overlay-hover hover:border-control px-4 py-3 w-44 cursor-pointer transition-colors",a&&"border-foreground-muted hover:border-foreground-muted bg-surface-300"),tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&r(s)},htmlFor:"role-".concat(s),"data-sentry-component":"RoleImpersonationRadio","data-sentry-source-file":"RoleImpersonationRadio.tsx",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[l&&(0,n.jsx)("div",{children:l}),a&&(0,n.jsxs)("div",{className:"flex items-center justify-center p-0.5 bg-foreground text-background rounded-full",children:["boolean"==typeof a&&(0,n.jsx)(f.Z,{size:12,strokeWidth:"4",className:"text-background"}),"partially"===a&&(0,n.jsx)(g.Z,{size:12,strokeWidth:"4",className:"text-background"})]})]}),(0,n.jsx)("input",{id:"role-".concat(s),type:"radio",name:"role",value:s,checked:!!a,onChange:e=>{r(e.target.value)},className:"invisible h-0 w-0 border-0"}),(0,n.jsxs)("span",{className:(0,o.cn)("text-sm text-foreground-light whitespace-nowrap select-none transition-colors",a&&"text-foreground"),children:[null!=t?t:s," role"]})]})},j=s(23382),v=s(70437),b=s(78854),N=s(14415),w=s(2552),k=s(20170),C=s(61223),S=s(83154),I=s(96789),E=s(20821),M=s(16787),R=s(33074),_=s(62365),Z=()=>{var e,t,s,r;let[o,c]=(0,a.useState)(""),[x,u]=(0,a.useState)("aal1"),h=(0,d.fN)(),m=(0,j.Nr)(o,300),{project:p}=(0,k.d2)(),{data:f,isSuccess:g,isLoading:y,isError:Z,error:z,isFetching:L,isPreviousData:D}=(0,S.x7)({projectRef:null==p?void 0:p.ref,connectionString:null==p?void 0:p.connectionString,keywords:m.trim().toLocaleLowerCase()},{keepPreviousData:!0}),A=(0,a.useMemo)(()=>{var e;return null!==(e=null==f?void 0:f.pages.flatMap(e=>e.result))&&void 0!==e?e:[]},[null==f?void 0:f.pages]),F=(null===(e=h.role)||void 0===e?void 0:e.type)==="postgrest"&&"authenticated"===h.role.role&&h.role.user;function B(e){h.setRole({type:"postgrest",role:"authenticated",user:e,aal:x})}return(0,n.jsxs)("div",{className:"flex flex-col gap-1","data-sentry-component":"UserImpersonationSelector","data-sentry-source-file":"UserImpersonationSelector.tsx",children:[(0,n.jsx)("h2",{className:"text-foreground text-sm",children:F?"Impersonating ".concat((0,_.Gf)(F,null!==(r=null!==(s=null!==(t=F.email)&&void 0!==t?t:F.phone)&&void 0!==s?s:F.id)&&void 0!==r?r:"Unknown")):"Impersonate a User"}),(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:F?"Results will respect your database's Row-Level Security policies for this user.":"Select a user to respect your database's Row-Level Security policies for that particular user."}),F?(0,n.jsx)(P,{user:F,onClick:function(){h.setRole(void 0)},isImpersonating:!0,aal:x}):(0,n.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,n.jsx)(I.Z,{className:"table-editor-search border-none",icon:D&&L?(0,n.jsx)(v.Z,{className:"animate-spin text-foreground-lighter",size:16,strokeWidth:1.5}):(0,n.jsx)(b.Z,{className:"text-foreground-lighter",size:16,strokeWidth:1.5}),placeholder:"Search for a user..",onChange:e=>c(e.target.value),value:o,size:"small",actions:o&&(0,n.jsx)(l.z,{size:"tiny",type:"text",className:"px-1",onClick:()=>c(""),children:(0,n.jsx)(N.Z,{size:12,strokeWidth:2})})}),(0,n.jsxs)(E.zF,{children:[(0,n.jsx)(E.wy,{className:"group font-normal p-0 [&[data-state=open]>div>svg]:!-rotate-180",children:(0,n.jsxs)("div",{className:"flex items-center gap-x-1 w-full",children:[(0,n.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Advanced options"}),(0,n.jsx)(i.Z,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,n.jsxs)(E.Fw,{className:"mt-1 flex flex-row items-center gap-x-4 text-sm text-foreground-light",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,n.jsx)("h3",{children:"MFA assurance level"}),(0,n.jsxs)(R.b,{side:"top",className:"flex flex-col gap-1 max-w-96",children:[(0,n.jsxs)("p",{children:["AAL1 verifies users via standard login methods, while AAL2 adds a second authentication factor.",(0,n.jsx)("br",{}),"If you're not using MFA, you can leave this on AAL1."]}),(0,n.jsxs)("a",{href:"/docs/guides/auth/auth-mfa",target:"_blank",rel:"noreferrer",className:"flex items-center gap-x-1 opacity-50 hover:opacity-100 transition",children:["Learn more about MFA ",(0,n.jsx)(w.Z,{size:14,strokeWidth:2})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center gap-x-2 text-xs font-bold",children:[(0,n.jsx)("p",{className:"aal1"===x?void 0:"text-foreground-lighter",children:"AAL1"}),(0,n.jsx)(M.r,{checked:"aal2"===x,onCheckedChange:function(){u(e=>"aal2"===e?"aal1":"aal2")}}),(0,n.jsx)("p",{className:"aal2"===x?void 0:"text-foreground-lighter",children:"AAL2"})]})]})]}),y&&(0,n.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center h-24",children:[(0,n.jsx)(v.Z,{className:"animate-spin",size:24}),(0,n.jsx)("span",{children:"Loading users..."})]}),Z&&(0,n.jsx)(C.Z,{error:z,subject:"Failed to retrieve users"}),g&&(A.length>0?(0,n.jsx)("ul",{className:"divide-y max-h-[150px] overflow-y-scroll",role:"list",children:A.map(e=>(0,n.jsx)("li",{role:"listitem",children:(0,n.jsx)(T,{user:e,onClick:B})},e.id))}):(0,n.jsx)("div",{className:"flex flex-col gap-2 items-center justify-center h-24",children:(0,n.jsx)("p",{className:"text-foreground-light text-xs",role:"status",children:"No users found"})}))]})]})};let P=e=>{var t,s,a;let{user:r,onClick:o,isImpersonating:i=!1,aal:d}=e,x=(0,_.E$)(r),u=(0,_.Gf)(r,null!==(a=null!==(s=null!==(t=r.email)&&void 0!==t?t:r.phone)&&void 0!==s?s:r.id)&&void 0!==a?a:"Unknown")+(r.is_anonymous?" (anonymous)":"");return(0,n.jsxs)("div",{className:"flex items-center gap-3 py-2 text-foreground","data-sentry-component":"UserImpersonatingRow","data-sentry-source-file":"UserImpersonationSelector.tsx",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4 bg-surface-200 pr-4 pl-0.5 py-0.5 border rounded-full max-w-l",children:[x?(0,n.jsx)("img",{className:"rounded-full w-5 h-5",src:x,alt:u}):(0,n.jsx)("div",{className:"rounded-full w-[21px] h-[21px] bg-surface-300 border border-strong flex items-center justify-center",children:(0,n.jsx)(c.Z,{size:12,strokeWidth:2})}),(0,n.jsxs)("span",{className:"text-sm truncate",children:[u," ",(0,n.jsx)("span",{className:"ml-2 text-foreground-lighter text-xs font-light",children:"aal2"===d?"AAL2":"AAL1"})]})]}),(0,n.jsx)(l.z,{type:"default",onClick:()=>o(r),"data-sentry-element":"Button","data-sentry-source-file":"UserImpersonationSelector.tsx",children:i?"Stop Impersonating":"Impersonate"})]})},T=e=>{var t,s,a;let{user:r,onClick:o,isImpersonating:i=!1}=e,d=(0,_.E$)(r),x=(0,_.Gf)(r,null!==(a=null!==(s=null!==(t=r.email)&&void 0!==t?t:r.phone)&&void 0!==s?s:r.id)&&void 0!==a?a:"Unknown")+(r.is_anonymous?" (anonymous)":"");return(0,n.jsxs)("div",{className:"flex items-center justify-between py-1 text-foreground","data-sentry-component":"UserRow","data-sentry-source-file":"UserImpersonationSelector.tsx",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[d?(0,n.jsx)("img",{className:"rounded-full w-5 h-5",src:d,alt:x}):(0,n.jsx)("div",{className:"rounded-full w-[21px] h-[21px] bg-surface-300 border text-muted flex items-center justify-center text-background",children:(0,n.jsx)(c.Z,{size:12,strokeWidth:2})}),(0,n.jsx)("span",{className:"text-sm",children:x})]}),(0,n.jsx)(l.z,{type:"default",onClick:()=>o(r),"data-sentry-element":"Button","data-sentry-source-file":"UserImpersonationSelector.tsx",children:i?"Stop Impersonating":"Impersonate"})]})};var z=e=>{var t;let{serviceRoleLabel:s,padded:r=!0}=e,l=(0,d.fN)(),[i,c]=(0,a.useState)(()=>{var e;return(null===(e=l.role)||void 0===e?void 0:e.type)==="postgrest"&&("anon"===l.role.role||"authenticated"===l.role.role)?l.role.role:"service_role"}),u=!!("authenticated"===i&&(null===(t=l.role)||void 0===t?void 0:t.type)==="postgrest"&&"authenticated"===l.role.role&&l.role.user);function f(e){"service_role"===e&&l.setRole(void 0),"anon"===e&&l.setRole({type:"postgrest",role:e}),c(e)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-3",r?"p-5":"pb-5"),children:[(0,n.jsx)("h2",{className:"text-foreground text-base",children:"Database role settings"}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault()},children:(0,n.jsxs)("fieldset",{className:"flex gap-3",children:[(0,n.jsx)(y,{value:"service_role",isSelected:"service_role"===i,onSelectedChange:f,label:s,icon:(0,n.jsx)(h,{isSelected:"service_role"===i}),"data-sentry-element":"RoleImpersonationRadio","data-sentry-source-file":"RoleImpersonationSelector.tsx"}),(0,n.jsx)(y,{value:"anon",isSelected:"anon"===i,onSelectedChange:f,icon:(0,n.jsx)(m,{isSelected:"anon"===i}),"data-sentry-element":"RoleImpersonationRadio","data-sentry-source-file":"RoleImpersonationSelector.tsx"}),(0,n.jsx)(y,{value:"authenticated",isSelected:"authenticated"===i&&(u||"partially"),onSelectedChange:f,icon:(0,n.jsx)(p,{isSelected:"authenticated"===i}),"data-sentry-element":"RoleImpersonationRadio","data-sentry-source-file":"RoleImpersonationSelector.tsx"})]})}),"service_role"===i&&(0,n.jsxs)("p",{className:"text-foreground-light text-sm",children:["The default Postgres/superuser role. This has admin privileges.",(0,n.jsx)("br",{}),"It will bypass Row Level Security (RLS) policies."]}),"anon"===i&&(0,n.jsxs)("p",{className:"text-foreground-light text-sm",children:['For "anonymous access". This is the role which the API (PostgREST) will use when a user',(0,n.jsx)("br",{}),"is not logged in. It will respect Row Level Security (RLS) policies."]}),"authenticated"===i&&(0,n.jsxs)("p",{className:"text-foreground-light text-sm",children:['For "authenticated access". This is the role which the API (PostgREST) will use when',(0,n.jsx)("br",{})," a user is logged in. It will respect Row Level Security (RLS) policies."]})]}),"authenticated"===i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.VD,{}),(0,n.jsx)("div",{className:(0,o.cn)("py-5",r&&"px-5"),children:(0,n.jsx)(Z,{})})]})]})},L=e=>{var t,s,c,x;let{serviceRoleLabel:u,variant:h="regular",align:m="end"}=e,p=(0,d.fN)(),[f,g]=(0,a.useState)(!1),y=null!==(x=null!==(c=null===(t=p.role)||void 0===t?void 0:t.role)&&void 0!==c?c:u)&&void 0!==x?x:"service role";return(0,n.jsxs)(r.J2,{open:f,onOpenChange:g,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"RoleImpersonationPopover","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:[(0,n.jsx)(r.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:(0,n.jsx)(l.z,{size:"tiny",type:"default",className:(0,o.cn)("h-[26px] pr-3 gap-0","connected-on-right"===h&&"rounded-r-none border-r-0","connected-on-left"===h&&"rounded-l-none border-l-0","connected-on-both"===h&&"rounded-none border-x-0"),"data-sentry-element":"Button","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"text-foreground-muted",children:"role"}),(0,n.jsx)("span",{children:y}),(null===(s=p.role)||void 0===s?void 0:s.type)==="postgrest"&&"authenticated"===p.role.role&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{user:p.role.user}),(0,n.jsx)("span",{className:"text-xs text-foreground-lighter font-light",children:"aal2"===p.role.aal?"AAL2":"AAL1"})]}),(0,n.jsx)(i.Z,{className:"text-muted",strokeWidth:1,size:12,"data-sentry-element":"ChevronDown","data-sentry-source-file":"RoleImpersonationPopover.tsx"})]})})}),(0,n.jsx)(r.yk,{className:"p-0 w-full overflow-hidden",side:"bottom",align:m,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:(0,n.jsx)(z,{serviceRoleLabel:u,"data-sentry-element":"RoleImpersonationSelector","data-sentry-source-file":"RoleImpersonationPopover.tsx"})})]})};let D=e=>{var t,s,a;let{user:r}=e,l=(0,_.E$)(r),o=(0,_.Gf)(r,null!==(a=null!==(s=null!==(t=r.email)&&void 0!==t?t:r.phone)&&void 0!==s?s:r.id)&&void 0!==a?a:"Unknown");return(0,n.jsxs)("div",{className:"flex gap-1 items-center pl-0.5 pr-1.5 h-[21px] bg-surface-200 rounded-full overflow-hidden","data-sentry-component":"UserRoleButtonSection","data-sentry-source-file":"RoleImpersonationPopover.tsx",children:[l?(0,n.jsx)("img",{className:"rounded-full w-[18px] h-[18px]",src:l,alt:o}):(0,n.jsx)("div",{className:"rounded-full w-[18px] h-[18px] bg-surface-100 border flex items-center justify-center text-light",children:(0,n.jsx)(c.Z,{size:12,strokeWidth:2})}),(0,n.jsx)("span",{className:"truncate max-w-[84px]",children:o})]})}},73362:function(e,t,s){"use strict";s.d(t,{Q:function(){return o}});var n=s(97458),a=s(90537),r=s(28436),l=s(69735),o=e=>{let{page:t,menu:s}=e;return(0,n.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,n.jsx)(a.ZP,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:s.map((e,o)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"my-6 space-y-8",children:(0,n.jsxs)("div",{className:"mx-3",children:[(0,n.jsx)(a.ZP.Group,{title:e.title?(0,n.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,n.jsx)("span",{children:e.title}),e.isPreview&&(0,n.jsx)(r.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,n.jsx)("div",{children:e.items.map(e=>(0,n.jsx)(l.Z,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key))})]})}),o!==s.length-1&&(0,n.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},30892:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]])},89451:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]])},24544:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},42128:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},5643:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},59205:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},13877:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]])},67328:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},62431:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},17542:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},41272:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]])},23683:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},3755:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(67634).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},82627:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(97458),a=s(53995),r=s(73362),l=s(51735),o=s(23385),i=s(85394);let c=e=>{var t;let s=null!==(t=null==e?void 0:e.ref)&&void 0!==t?t:"default";return[{title:"Tools",items:[{name:"Inspector",key:"inspector",url:"/project/".concat(s,"/realtime/inspector"),items:[]}]},{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(s,"/realtime/policies"),items:[]}]}]};var d=(0,o.Q)(e=>{let{title:t,children:s}=e,o=(0,l.Vm)(),d=(0,a.useRouter)().pathname.split("/")[4];return(0,n.jsx)(i.Z,{title:t,product:"Realtime",productMenu:(0,n.jsx)(r.Q,{page:d,menu:c(o)}),"data-sentry-element":"ProjectLayout","data-sentry-component":"RealtimeLayout","data-sentry-source-file":"RealtimeLayout.tsx",children:s})})},33778:function(e,t,s){"use strict";var n=s(97458),a=s(71794);t.Z=e=>{let{resourceText:t,isFullPage:s=!1}=e,r=()=>(0,n.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)(a.Z,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,n.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return s?(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,n.jsx)("div",{className:"w-[550px]",children:(0,n.jsx)(r,{})})}):(0,n.jsx)(r,{})}},69735:function(e,t,s){"use strict";var n=s(97458),a=s(37669),r=s.n(a),l=s(90537),o=s(28436),i=s(19168);t.Z=e=>{let{name:t="",isActive:s,isExternal:a,icon:c,rightIcon:d,url:x="",target:u="_self",onClick:h,textClassName:m="",hoverText:p="",label:f}=e,g=(0,n.jsx)(l.ZP.Item,{icon:c,rounded:!0,active:s,onClick:h,children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,n.jsxs)("div",{title:p||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+m,children:[(0,n.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==f&&(0,n.jsx)(o.C,{variant:"warning",className:"py-0 px-1.5 capitalize",children:f})]}),d&&(0,n.jsx)("div",{children:d})]})});return x?a?(0,n.jsx)(i.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,n.jsx)(r(),{href:x,target:"_blank",rel:"noreferrer",children:t})}):(0,n.jsx)(r(),{href:x,className:"block",target:u,children:g}):g}},26781:function(e,t,s){"use strict";var n=s(97458),a=s(1662),r=s(45196),l=s(81449),o=s(52983),i=s(198),c=s(20170),d=s(94784),x=s(87790),u=s(19168),h=s(71904),m=s(41341),p=s(88587),f=s(89861);t.Z=e=>{let{className:t,disabled:s=!1,size:g="tiny",showError:y=!0,selectedSchemaName:j,supportSelectAll:v=!1,excludedSchemas:b=[],onSelectSchema:N,onSelectCreateSchema:w}=e,[k,C]=(0,o.useState)(!1),S=(0,x.Xo)(i.KA.TENANT_SQL_ADMIN_WRITE,"schemas"),{project:I}=(0,c.d2)(),{data:E,isLoading:M,isSuccess:R,isError:_,error:Z,refetch:P}=(0,d.Q1)({projectRef:null==I?void 0:I.ref,connectionString:null==I?void 0:I.connectionString}),T=(E||[]).filter(e=>!b.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,n.jsxs)("div",{className:t,"data-sentry-component":"SchemaSelector","data-sentry-source-file":"SchemaSelector.tsx",children:[M&&(0,n.jsx)(u.z,{type:"default",className:"justify-start",block:!0,size:g,loading:!0,children:"Loading schemas..."}),y&&_&&(0,n.jsxs)(h.bZ,{variant:"warning",className:"!px-3 !py-3",children:[(0,n.jsx)(h.Cd,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,n.jsxs)(h.X,{className:"text-xs mb-2 break-words",children:["Error: ",null==Z?void 0:Z.message]}),(0,n.jsx)(u.z,{type:"default",size:"tiny",onClick:()=>P(),children:"Reload schemas"})]}),R&&(0,n.jsxs)(m.J2,{open:k,onOpenChange:C,modal:!1,children:[(0,n.jsx)(m.xo,{asChild:!0,children:(0,n.jsx)(u.z,{size:g,disabled:s,type:"default",className:"w-full [&>span]:w-full",iconRight:(0,n.jsx)(a.Z,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:j?(0,n.jsxs)("div",{className:"w-full flex gap-1",children:[(0,n.jsx)("p",{className:"text-foreground-lighter",children:"schema:"}),(0,n.jsx)("p",{className:"text-foreground",children:"*"===j?"All schemas":j})]}):(0,n.jsx)("div",{className:"w-full flex gap-1",children:(0,n.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema…"})})})}),(0,n.jsx)(m.yk,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,children:(0,n.jsxs)(p.mY,{children:[(0,n.jsx)(p.sZ,{placeholder:"Find schema..."}),(0,n.jsxs)(p.e8,{children:[(0,n.jsx)(p.rb,{children:"No schemas found"}),(0,n.jsx)(p.fu,{children:(0,n.jsxs)(f.x,{className:(T||[]).length>7?"h-[210px]":"",children:[v&&(0,n.jsxs)(p.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{N("*"),C(!1)},onClick:()=>{N("*"),C(!1)},children:[(0,n.jsx)("span",{children:"All schemas"}),"*"===j&&(0,n.jsx)(r.Z,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==T?void 0:T.map(e=>(0,n.jsxs)(p.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{N(e.name),C(!1)},onClick:()=>{N(e.name),C(!1)},children:[(0,n.jsx)("span",{children:e.name}),j===e.name&&(0,n.jsx)(r.Z,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==w&&S&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.zz,{}),(0,n.jsx)(p.fu,{children:(0,n.jsxs)(p.di,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{w(),C(!1)},onClick:()=>{w(),C(!1)},children:[(0,n.jsx)(l.Z,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},17641:function(e,t,s){"use strict";s.r(t),s.d(t,{InspectorPage:function(){return e5},default:function(){return e4}});var n=s(97458),a=s(198),r=s(45925),l=s(52983),o=s(81960),i=s(70520),c=s(13948),d=s(13877),x=s(5643),u=s(19168),h=s(78751),m=s(63204),p=s(86848),f=s(5394),g=s(41341),y=s(40241),j=s(40347),v=s(16787),b=s(26655);let N=f.Ry({channel:f.Z_(),isPrivate:f.O7()}),w=e=>{let{config:t,onChangeConfig:s}=e,[a,r]=(0,l.useState)(!1),{mutate:c}=(0,o.a)(),d=(0,p.cI)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,h.F)(N),defaultValues:{channel:"",isPrivate:!1}}),x=()=>{r(!1),c({action:i.b.REALTIME_INSPECTOR_LISTEN_CHANNEL_CLICKED}),s({...t,channelName:d.getValues("channel"),isChannelPrivate:d.getValues("isPrivate"),enabled:!0})};return(0,n.jsxs)(g.J2,{open:a,onOpenChange:e=>{!0===e&&d.setValue("channel",t.channelName),r(e)},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ChooseChannelPopover","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(g.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,n.jsx)(u.z,{className:"rounded-r-none",type:"default",size:"tiny",iconRight:(0,n.jsx)(m.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:(0,n.jsx)("p",{className:"max-w-[120px] truncate",title:t.channelName.length>0?t.channelName:"",children:t.channelName.length>0?"Channel: ".concat(t.channelName):"Join a channel"})})}),(0,n.jsx)(g.yk,{className:"p-0 w-[320px]",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,n.jsx)("div",{className:"p-4 flex flex-col text-sm",children:0===t.channelName.length?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(y.l0,{...d,children:(0,n.jsxs)("form",{id:"realtime-channel",onSubmit:d.handleSubmit(()=>x()),className:"flex flex-col gap-y-4",children:[(0,n.jsx)(y.Wi,{name:"channel",control:d.control,render:e=>{let{field:t}=e;return(0,n.jsxs)(y.xJ,{className:"flex flex-col gap-y-2",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,n.jsx)("label",{className:"text-foreground text-xs",children:"Name of channel"}),(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,n.jsx)(y.NI,{children:(0,n.jsx)(j.I,{...t,autoComplete:"off",className:"rounded-r-none text-xs px-2.5 py-1 h-auto",placeholder:"Enter a channel name"})}),(0,n.jsx)(u.z,{type:"primary",className:"rounded-l-none",disabled:0===d.getValues().channel.length,onClick:()=>x(),children:"Listen to channel"})]})]}),(0,n.jsxs)(y.pf,{className:"text-xs text-foreground-lighter",children:["The channel you initialize with the Supabase Realtime client. Learn more in"," ",(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",className:"underline hover:text-foreground transition",href:"https://supabase.com/docs/guides/realtime/concepts#channels",children:"our docs"})]})]})}}),(0,n.jsx)(y.Wi,{control:d.control,name:"isPrivate",render:e=>{let{field:t}=e;return(0,n.jsxs)(y.xJ,{className:"",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,n.jsx)(y.NI,{children:(0,n.jsx)(v.r,{checked:t.value,onCheckedChange:t.onChange,disabled:t.disabled})}),(0,n.jsx)(y.lX,{className:"text-xs",children:"Is channel private?"})]}),(0,n.jsx)(y.pf,{className:"text-xs text-foreground-lighter mt-2",children:"If the channel is marked as private, it will use RLS policies to filter messages."})]})}},"isPrivate"),(0,n.jsx)(b.G,{abbrev:!1,className:"w-min",href:"https://supabase.com/docs/guides/realtime/authorization"})]})})}):(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsxs)("p",{className:"text-foreground text-xs",children:["Currently joined"," ",(0,n.jsx)("span",{className:t.isChannelPrivate?"text-brand":"text-warning",children:t.isChannelPrivate?"private":"public"})," ","channel:"]}),(0,n.jsx)("p",{className:"text-xs border border-scale-600  py-0.5 px-1 rounded-md bg-surface-200",children:t.channelName})]}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter mt-2",children:"If you leave this channel, all of the messages populated on this page will disappear"}),(0,n.jsx)(u.z,{type:"default",onClick:()=>s({...t,channelName:"",enabled:!1}),children:"Leave channel"})]})})})]})};var k=s(59205),C=s(37669),S=s.n(C),I=s(5546),E=s(28436),M=s(82188);let R=(0,l.createContext)({contextSize:"small",className:""});var _=function(e){let{className:t,size:s,type:a="Mail",color:r,strokeWidth:l,fill:o,stroke:i,background:c,src:d,icon:x,...u}=e,h=(0,M.Z)("icon");return(0,n.jsx)(R.Consumer,{"data-sentry-element":"unknown","data-sentry-component":"IconBase","data-sentry-source-file":"IconBase.tsx",children:e=>{let{contextSize:a,className:m}=e,p={tiny:14,small:18,medium:20,large:20,xlarge:24,xxlarge:30,xxxlarge:42},f=p.large,g=21;a&&(g=a?"string"==typeof a?p[a]:a:f),s&&(g=s?"string"==typeof s?p[s]:s:f);let y=!r&&!o&&!i,j=["sbui-icon",t];m&&j.push(m);let v=d?(0,n.jsx)("div",{className:"relative",style:{width:g+"px",height:g+"px"},children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",color:y?"currentColor":r,fill:y?"none":o||"none",stroke:y?"currentColor":i,className:(0,I.cn)(j),width:"100%",height:"100%",strokeWidth:null!=l?l:void 0,...u,children:d})}):(0,n.jsx)(x,{color:y?"currentColor":r,stroke:y?"currentColor":i,className:(0,I.cn)(j),strokeWidth:l,size:g,fill:y?"none":o||"none",...u,"data-sentry-element":"FeatherIcon","data-sentry-component":"IconComponent","data-sentry-source-file":"IconBase.tsx"});return c?(0,n.jsx)("div",{className:h.container,children:v}):v}})};let Z=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,d:"m23.149 23.499 3.424 7.83a.5.5 0 0 0 .942-.074l.74-2.868a.5.5 0 0 1 .364-.36l3.039-.756a.5.5 0 0 0 .08-.943l-7.93-3.487a.5.5 0 0 0-.66.658Z","data-sentry-element":"path","data-sentry-source-file":"IconPresence.tsx"}),(0,n.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,d:"M24.544 32.746h-5.623a3 3 0 0 1-3-3V18.5a3 3 0 0 1 3-3h11.247a3 3 0 0 1 3 3v5.623",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconPresence.tsx"})]});var P=function(e){return(0,n.jsx)(_,{src:(0,n.jsx)(Z,{}),viewBox:"12.5 12 24 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconPresence","data-sentry-source-file":"IconPresence.tsx"})},T=s(25084);let z=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{id:"Ellipse 146",d:"M17.3154 6.70312C18.6968 8.06227 19.5532 9.95249 19.5532 12.0426C19.5532 14.1326 18.6968 16.0229 17.3154 17.382M6.79102 6.70312C5.40966 8.06227 4.55322 9.95249 4.55322 12.0426C4.55322 14.1326 5.40966 16.0229 6.79102 17.382",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconBroadcast.tsx"}),(0,n.jsx)("ellipse",{id:"Ellipse 144",cx:"12.0532",cy:"12.0428",rx:"3.00928",ry:"3.00666",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel","data-sentry-element":"ellipse","data-sentry-source-file":"IconBroadcast.tsx"}),(0,n.jsx)("path",{id:"Vector 96",d:"M12.0747 15.0488L12.0747 23.9996",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel","data-sentry-element":"path","data-sentry-source-file":"IconBroadcast.tsx"})]});var L=function(e){return(0,n.jsx)(_,{src:(0,n.jsx)(z,{}),viewBox:"0 0 24 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconBroadcast","data-sentry-source-file":"IconBroadcast.tsx"})};let D=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none","data-sentry-element":"svg","data-sentry-component":"SvgComponent","data-sentry-source-file":"IconDatabaseChanges.tsx",children:[(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"bevel",strokeMiterlimit:10,d:"M20.307 12a7.807 7.807 0 0 1-7.807 7.808M4.693 12A7.807 7.807 0 0 1 12.5 4.193",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconDatabaseChanges.tsx"}),(0,n.jsx)("circle",{cx:17.512,cy:6.971,r:3.723,stroke:"currentColor",strokeLinejoin:"bevel",strokeMiterlimit:10,"data-sentry-element":"circle","data-sentry-source-file":"IconDatabaseChanges.tsx"}),(0,n.jsx)("path",{stroke:"currentColor",strokeLinejoin:"bevel",strokeMiterlimit:10,d:"m10.11 13.287 2.137 3.703-2.138 3.703H5.833L3.695 16.99l2.138-3.703h4.276Z","data-sentry-element":"path","data-sentry-source-file":"IconDatabaseChanges.tsx"})]});var A=function(e){return(0,n.jsx)(_,{src:(0,n.jsx)(D,{}),viewBox:"0 0 25 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconDatabaseChanges","data-sentry-source-file":"IconDatabaseChanges.tsx"})},F=s(96789),B=s(587),O=s(26781);let W=e=>{let{value:t,onChange:s}=e;return(0,n.jsxs)("div",{className:"flex flex-row gap-4 items-center","data-sentry-component":"FilterSchema","data-sentry-source-file":"FilterSchema.tsx",children:[(0,n.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"WHERE"}),(0,n.jsx)(O.Z,{disabled:!0,supportSelectAll:!0,size:"small",selectedSchemaName:t,onSelectSchema:s,className:"rounded-l-none [&>button>span>div]:py-0 w-64","data-sentry-element":"SchemaSelector","data-sentry-source-file":"FilterSchema.tsx"})]})};var H=s(88587),U=s(71904),V=s(89861),G=s(20170),J=s(30751),Q=s(77837),X=s.n(Q),q=s(53445),K=s(5007),Y=s(45196),$=e=>{let{className:t,size:s="tiny",showError:a=!0,selectedSchemaName:r,selectedTableName:o,onSelectTable:i}=e,[c,d]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1),{project:m}=(0,G.d2)(),[p,f]=(0,l.useState)(""),{data:y,isLoading:j,isSuccess:v,isError:b,error:N,refetch:w}=(0,J.Hp)({projectRef:null==m?void 0:m.ref,search:p,connectionString:null==m?void 0:m.connectionString,schemas:[r]});(0,l.useEffect)(()=>{!x&&v&&h(!0)},[x,v]),(0,l.useEffect)(()=>{c||""===p||f("")},[c,p]);let k=X()(f),C=((null==y?void 0:y.pages[0].data.entities)?[...null==y?void 0:y.pages[0].data.entities]:[]).sort((e,t)=>e.name>t.name?0:-1);return(0,n.jsx)("div",{className:t,"data-sentry-component":"TableSelector","data-sentry-source-file":"TableSelector.tsx",children:(0,n.jsxs)(g.J2,{open:c,onOpenChange:d,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[(0,n.jsx)(g.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:(0,n.jsx)(u.z,{size:s,type:"outline",disabled:j,className:"w-full [&>span]:w-full ".concat("small"===s?"py-1.5":""),icon:j?(0,n.jsx)(q.Z,{className:"animate-spin",size:12}):null,iconRight:(0,n.jsx)(K.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),"data-sentry-element":"Button","data-sentry-source-file":"TableSelector.tsx",children:x?(0,n.jsxs)("div",{className:"w-full flex space-x-3",children:[(0,n.jsx)("p",{className:"text-xs text-light",children:"table"}),(0,n.jsx)("p",{className:"text-xs",children:"*"===o?"All tables":o})]}):(0,n.jsx)("p",{className:"flex text-xs text-light",children:"Loading tables..."})})}),(0,n.jsx)(g.yk,{className:"p-0 w-64",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:(0,n.jsxs)(H.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[(0,n.jsx)(H.sZ,{placeholder:"Find table...",onValueChange:e=>k(e),"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"TableSelector.tsx"}),(0,n.jsxs)(H.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[j&&(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-2 px-3 py-2",children:[(0,n.jsx)(q.Z,{className:"animate-spin",size:12}),(0,n.jsx)("p",{className:"flex text-xs text-light",children:"Loading tables..."})]}),a&&b&&(0,n.jsxs)(U.bZ,{variant:"warning",className:"!px-3 !py-3 !border-0 rounded-none",children:[(0,n.jsx)(U.Cd,{className:"text-xs text-amber-900",children:"Failed to load tables"}),(0,n.jsxs)(U.X,{className:"text-xs mb-2",children:["Error: ",null==N?void 0:N.message]}),(0,n.jsx)(u.z,{type:"default",size:"tiny",onClick:()=>w(),children:"Reload tables"})]}),v&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(H.fu,{forceMount:!0,children:(0,n.jsxs)(V.x,{className:(C||[]).length>7?"h-[210px]":"",children:[(0,n.jsx)(H.rb,{children:"No tables found"}),!p&&(0,n.jsxs)(H.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{i("*",void 0),d(!1)},onClick:()=>{i("*",void 0),d(!1)},children:[(0,n.jsx)("span",{children:"All tables"}),"*"===r&&(0,n.jsx)(Y.Z,{className:"text-brand",strokeWidth:2})]},"all-tables"),null==C?void 0:C.map(e=>(0,n.jsxs)(H.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{i(e.name,e.id),d(!1)},onClick:()=>{i(e.name,e.id),d(!1)},children:[(0,n.jsx)("span",{children:e.name}),r===e.name&&(0,n.jsx)(Y.Z,{className:"text-brand",strokeWidth:2})]},e.id))]})})})]})]})})]})})};let ee=e=>{let{value:t,schema:s,onChange:a}=e;return(0,n.jsxs)("div",{className:"flex flex-row gap-4 items-center","data-sentry-component":"FilterTable","data-sentry-source-file":"FilterTable.tsx",children:[(0,n.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"AND"}),(0,n.jsx)($,{selectedSchemaName:s,selectedTableName:t,onSelectTable:a,className:"w-64",size:"small","data-sentry-element":"TableSelector","data-sentry-source-file":"FilterTable.tsx"})]})},et=e=>{let{config:t,onChangeConfig:s}=e,[a,r]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[x,h]=(0,l.useState)(t),{mutate:m}=(0,o.a)(),p="*"!==t.table;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(g.J2,{open:a,onOpenChange:e=>{!0===e&&h(t),r(e)},"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(g.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,n.jsx)(u.z,{icon:(0,n.jsx)(k.Z,{size:"16"}),type:p?"primary":"dashed",className:(0,I.cn)("rounded-full px-1.5 text-xs",p?"!py-0.5":"!py-1"),size:"small","data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:p?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-1",children:"Filtered by "}),(0,n.jsxs)(E.C,{variant:"brand",children:["table: ",t.table]})]}):(0,n.jsx)("span",{className:"mr-1",children:"Filter messages"})})}),(0,n.jsxs)(g.yk,{className:"p-0 w-[365px]",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)("div",{className:"border-b border-overlay text-xs px-4 py-3 text-foreground",children:"Listen to event types"}),(0,n.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,n.jsx)(P,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconPresence","data-sentry-source-file":"index.tsx"}),(0,n.jsx)("label",{htmlFor:"toggle-presence",className:"text-sm",children:"Presence"})]}),(0,n.jsx)(T.Z,{id:"toggle-presence",size:"tiny",checked:x.enablePresence,onChange:()=>h({...x,enablePresence:!x.enablePresence}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,n.jsx)("p",{className:"text-xs text-foreground-light pt-1",children:"Store and synchronize user state consistently across clients"})]}),(0,n.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,n.jsx)(L,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconBroadcast","data-sentry-source-file":"index.tsx"}),(0,n.jsx)("label",{htmlFor:"toggle-broadcast",className:"text-sm",children:"Broadcast"})]}),(0,n.jsx)(T.Z,{id:"toggle-broadcast",size:"tiny",checked:x.enableBroadcast,onChange:()=>h({...x,enableBroadcast:!x.enableBroadcast}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,n.jsx)("p",{className:"text-xs  text-foreground-light pt-1",children:"Send any data to any client subscribed to the same channel"})]}),(0,n.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,n.jsx)(A,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconDatabaseChanges","data-sentry-source-file":"index.tsx"}),(0,n.jsx)("label",{htmlFor:"toggle-db-changes",className:"text-sm",children:"Database changes"})]}),(0,n.jsx)(T.Z,{id:"toggle-db-changes",size:"tiny",checked:x.enableDbChanges,onChange:()=>h({...x,enableDbChanges:!x.enableDbChanges}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,n.jsx)("p",{className:"text-xs text-foreground-light pt-1",children:"Listen for Database inserts, updates, deletes and more"})]}),x.enableDbChanges&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"border-b border-overlay text-xs px-4 py-3 text-foreground",children:"Filter messages from database changes"}),(0,n.jsxs)("div",{className:"flex border-b border-overlay p-4 gap-y-2 flex-col",children:[(0,n.jsx)(W,{value:x.schema,onChange:e=>h({...x,schema:e,table:"*"})}),(0,n.jsx)(ee,{value:x.table,schema:x.schema,onChange:e=>h({...x,table:e})})]}),(0,n.jsxs)("div",{className:"border-b border-overlay p-4 flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,n.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"AND"}),(0,n.jsx)(F.Z,{size:"tiny",className:"flex-grow",placeholder:"body=eq.hey",value:x.filter,onChange:e=>h({...x,filter:e.target.value})})]}),(0,n.jsxs)("p",{className:"text-xs text-foreground-light pl-[80px]",children:["Learn more about realtime filtering in"," ",(0,n.jsx)(S(),{className:"underline",target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/realtime/postgres-changes#available-filters",children:"our docs"})]})]})]}),(0,n.jsxs)("div",{className:"px-4 py-2 gap-2 flex justify-end",children:[(0,n.jsx)(u.z,{type:"default",onClick:()=>r(!1),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:"Cancel"}),(0,n.jsx)(u.z,{onClick:()=>d(!0),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:"Apply"})]})]})]}),(0,n.jsx)(B.Z,{title:"Previously found messages will be lost",variant:"destructive",confirmLabel:"Confirm",size:"small",visible:c,onCancel:()=>d(!1),onConfirm:()=>{m({action:i.b.REALTIME_INSPECTOR_FILTERS_APPLIED}),s(x),d(!1),r(!1)},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"index.tsx",children:(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:"The realtime inspector will clear currently collected messages and start listening for new messages matching the updated filters."})})]})};var es=s(34549),en=s(95034),ea=s(40487),er=s(58035),el=s(77946),eo=s(190),ei=s(15997);let ec=e=>{let{config:t,onChangeConfig:s}=e,a=(0,ei.fN)(),{data:r}=(0,er.zR)({projectRef:t.projectRef}),{anonKey:c,serviceKey:d}=(0,er.Pb)(r),{data:x}=(0,ea.s)({projectRef:t.projectRef},{enabled:el.Qy}),u=null==x?void 0:x.jwt_secret,{mutate:h}=(0,o.a)(),m=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{m.current&&h({action:i.b.REALTIME_INSPECTOR_DATABASE_ROLE_UPDATED}),m.current=!0},[a.role]),(0,l.useEffect)(()=>{(async()=>{let e;let n=null;void 0!==t.projectRef&&void 0!==u&&void 0!==a.role&&"postgrest"===a.role.type?(e=null==c?void 0:c.api_key,await (0,eo.Wn)(t.projectRef,u,a.role).then(e=>n=e).catch(e=>es.Am.error("Failed to get JWT for role: ".concat(e.message)))):e=null==d?void 0:d.api_key,e&&s({...t,token:e,bearer:n})})()},[a.role,c,d]),(0,n.jsx)(en.Q,{align:"start",variant:"connected-on-both","data-sentry-element":"RoleImpersonationPopover","data-sentry-component":"RealtimeTokensPopover","data-sentry-source-file":"index.tsx"})},ed=e=>{let{config:t,onChangeConfig:s}=e,{mutate:a}=(0,o.a)();return(0,n.jsxs)("div",{className:"flex flex-row h-14 gap-2.5 items-center px-4","data-sentry-component":"Header","data-sentry-source-file":"Header.tsx",children:[(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,n.jsx)(w,{config:t,onChangeConfig:s,"data-sentry-element":"ChooseChannelPopover","data-sentry-source-file":"Header.tsx"}),(0,n.jsx)(ec,{config:t,onChangeConfig:s,"data-sentry-element":"RealtimeTokensPopover","data-sentry-source-file":"Header.tsx"}),(0,n.jsxs)(c.fC,{delayDuration:0,"data-sentry-element":"unknown","data-sentry-source-file":"Header.tsx",children:[(0,n.jsx)(c.xz,{asChild:!0,"data-sentry-element":"unknown","data-sentry-source-file":"Header.tsx",children:(0,n.jsx)(u.z,{size:"tiny",type:t.enabled?"warning":"primary",className:"rounded-l-none border-l-0",disabled:0===t.channelName.length,icon:t.enabled?(0,n.jsx)(d.Z,{size:"16"}):(0,n.jsx)(x.Z,{size:"16"}),onClick:()=>{s({...t,enabled:!t.enabled}),t.enabled||a({action:i.b.REALTIME_INSPECTOR_LISTEN_CHANNEL_CLICKED})},"data-sentry-element":"Button","data-sentry-source-file":"Header.tsx",children:t.enabled?"Stop listening":"Start listening"})}),0===t.channelName.length&&(0,n.jsx)(c.h_,{children:(0,n.jsxs)(c.VY,{side:"bottom",children:[(0,n.jsx)(c.Eh,{className:"radix-tooltip-arrow"}),(0,n.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,n.jsx)("span",{className:"text-xs text-foreground",children:"You'll need to join a channel first"})})]})})]})]}),(0,n.jsx)(et,{config:t,onChangeConfig:s,"data-sentry-element":"RealtimeFilterPopover","data-sentry-source-file":"Header.tsx"})]})};var ex=s(85466),eu=s.n(ex),eh=s(2552),em=s(70437),ep=s(97663),ef=s(44914),eg=s(32571),ey=s(14415),ej=s(86316),ev=s(28977),eb=s.n(ev);let eN=e=>eb().unix(Number(e)/1e3).toISOString(),ew=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"MessagesFormatters.tsx",children:t})},ek=e=>{let{value:t,hideCopy:s=!1}=e;return(0,n.jsx)(eC,{label:"Timestamp",value:eN(t),hideCopy:s,"data-sentry-element":"SelectionDetailedRow","data-sentry-component":"SelectionDetailedTimestampRow","data-sentry-source-file":"MessagesFormatters.tsx"})},eC=e=>{let{label:t,value:s,valueRender:a,hideCopy:r=!1}=e;return(0,n.jsxs)("div",{className:"grid grid-cols-12 group","data-sentry-component":"SelectionDetailedRow","data-sentry-source-file":"MessagesFormatters.tsx",children:[(0,n.jsx)("span",{className:"text-scale-900 text-sm col-span-4 whitespace-pre-wrap",children:t}),(0,n.jsx)("span",{className:"text-scale-1200 text-sm col-span-6 whitespace-pre-wrap break-all",children:null!=a?a:s}),!r&&(0,n.jsx)(ej.Z,{text:s,className:"group-hover:opacity-100 opacity-0 my-auto transition col-span-2  h-4 w-4 px-0 py-0",type:"text",title:"Copy to clipboard"})]})},eS=()=>(0,n.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark","data-sentry-component":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),eI=e=>{let{log:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"px-8",children:[(0,n.jsx)("span",{className:"col-span-4 text-sm text-scale-900",children:"Message"}),(0,n.jsx)("p",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono text-xs text-scale-1200",children:t.message})]}),(0,n.jsx)(eS,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),(0,n.jsx)("div",{className:"px-8 space-y-2",children:(0,n.jsx)(ek,{hideCopy:!0,value:t.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"})}),(0,n.jsx)(eS,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),(0,n.jsxs)("div",{className:"px-8",children:[(0,n.jsx)("h3",{className:"mb-4 text-sm text-foreground-lighter",children:"Metadata"}),(0,n.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,n.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:t.metadata?JSON.stringify(t.metadata,null,2).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-scale-1200":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n"):""}})})]})]})};var eE=e=>{let{log:t,onClose:s}=e,a=(0,l.useMemo)(()=>JSON.stringify(t,null,2),[t]),{mutate:r}=(0,o.a)();return(0,n.jsxs)("div",{className:(0,I.cn)("relative flex h-full flex-grow flex-col border-l border-t-2 overflow-y-scroll bg-200"),"data-sentry-component":"MessageSelection","data-sentry-source-file":"MessageSelection.tsx",children:[(0,n.jsx)("div",{className:(0,I.cn)("absolute flex h-full w-full flex-col items-center justify-center gap-2 bg-200 text-center opacity-0 transition-all",t?"z-0 opacity-0":"z-10 opacity-100"),children:(0,n.jsxs)("div",{className:(0,I.cn)("flex w-full max-w-sm scale-95 flex-col items-center justify-center gap-6 text-center opacity-0 transition-all delay-300 duration-500",t?"mt-0 scale-95 opacity-0":"mt-8 scale-100 opacity-100"),children:[(0,n.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-default px-2",children:[(0,n.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-overlay-hover"}),(0,n.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1","data-sentry-element":"svg","data-sentry-source-file":"MessageSelection.tsx",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122","data-sentry-element":"path","data-sentry-source-file":"MessageSelection.tsx"})})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("h3",{className:"text-sm text-foreground",children:"Select a message"}),(0,n.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Click on a message on the left to view details."})]})]})}),(0,n.jsxs)("div",{className:"relative h-px flex-grow",children:[(0,n.jsxs)("div",{className:"pt-4 flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"px-4 flex flex-row justify-between items-center",children:[(0,n.jsx)("div",{className:"transition",children:(0,n.jsx)(ej.Z,{text:a,type:"default",title:"Copy log to clipboard",onClick:()=>{r({action:i.b.REALTIME_INSPECTOR_COPY_MESSAGE_CLICKED})},"data-sentry-element":"CopyButton","data-sentry-source-file":"MessageSelection.tsx"})}),(0,n.jsx)(u.z,{type:"text",className:"cursor-pointer transition hover:text-scale-1200 h-8 w-8 px-0 py-0 flex items-center justify-center",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"MessageSelection.tsx",children:(0,n.jsx)(ey.Z,{size:14,strokeWidth:2,className:"text-scale-900","data-sentry-element":"X","data-sentry-source-file":"MessageSelection.tsx"})})]}),(0,n.jsx)("div",{className:"h-px w-full bg-scale-600 rounded"})]}),(0,n.jsx)("div",{className:"flex flex-col space-y-6 py-4",children:t&&(0,n.jsx)(eI,{log:t})})]})]})},eM=()=>(0,n.jsxs)("div",{className:"border bg-studio border-border rounded-md justify-start items-center flex flex-col w-10/12 relative","data-sentry-component":"NoChannelEmptyState","data-sentry-source-file":"NoChannelEmptyState.tsx",children:[(0,n.jsx)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b rounded-t-md",children:(0,n.jsxs)("div",{className:"grow flex-col flex gap-y-1",children:[(0,n.jsx)("p",{className:"text-foreground",children:"Join a channel to start listening to messages"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Channels are the building blocks of realtime where clients can bi-directionally send and receive messages in."})]})}),(0,n.jsxs)("div",{className:(0,I.cn)("w-full px-5 py-4 items-center gap-4 inline-flex"),children:[(0,n.jsxs)("div",{className:"grow flex-col flex",children:[(0,n.jsx)("p",{className:"text-foreground",children:"Not sure what to do?"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Browse our documentation"})]}),(0,n.jsx)(b.G,{href:"https://supabase.com/docs/guides/realtime","data-sentry-element":"DocsButton","data-sentry-source-file":"NoChannelEmptyState.tsx"})]})]}),eR=s(73488);let e_={PRESENCE:(0,n.jsx)(P,{size:"xlarge"}),BROADCAST:(0,n.jsx)(L,{size:"xlarge"}),POSTGRES:(0,n.jsx)(A,{size:"xlarge"}),SYSTEM:(0,n.jsx)(eR.Z,{size:"20",strokeWidth:1})},eZ=[{name:"timestamp-with-truncated-text",key:"main-column",renderCell:e=>{let t=e.row.message;return(0,n.jsxs)(ew,{children:[(0,n.jsx)("div",{className:(0,I.cn)("flex justify-center items-center min-w-[24px]",eP(e.row)?"text-warning-600":"text-green-900"),children:e_[t]}),(0,n.jsx)("span",{className:(0,I.cn)("font-mono",eP(e.row)?"!text-warning-600":""),children:new Date(e.row.timestamp).toISOString()}),(0,n.jsx)("span",{className:(0,I.cn)("truncate font-mono",eP(e.row)?"!text-warning-600":""),children:JSON.stringify(e.row.metadata)})]})}}],eP=e=>{var t;return"SYSTEM"===e.message&&(null===(t=e.metadata)||void 0===t?void 0:t.status)==="error"},eT=e=>{let{enabled:t,hasChannelSet:s,showSendMessage:a}=e,{ref:l}=(0,r.UO)();return(0,n.jsx)("div",{className:"w-full max-w-md flex items-center flex-col","data-sentry-component":"NoResultAlert","data-sentry-source-file":"MessagesTable.tsx",children:s?(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)("p",{className:"text-foreground",children:"No Realtime messages found"}),(0,n.jsx)("p",{className:"text-foreground-lighter",children:"Realtime message logs will be shown here"}),(0,n.jsxs)("div",{className:"mt-4 border bg-surface-100 border-border rounded-md justify-start items-center flex flex-col w-full",children:[(0,n.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,n.jsx)(L,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,n.jsxs)("div",{className:"grow flex-col flex",children:[(0,n.jsx)("p",{className:"text-foreground",children:"Create a Broadcast message"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Send a message in the channel"})]}),(0,n.jsx)(u.z,{type:"default",onClick:a,children:"Broadcast a message"})]}),(0,n.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,n.jsx)(P,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,n.jsxs)("div",{className:"grow flex-col flex",children:[(0,n.jsx)("p",{className:"text-foreground",children:"Join from another browser tab"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Send messages between multiple clients"})]}),(0,n.jsx)(S(),{href:"/project/".concat(l,"/realtime/inspector"),target:"_blank",rel:"noreferrer",children:(0,n.jsx)(u.z,{type:"default",iconRight:(0,n.jsx)(eh.Z,{}),children:"Open inspector"})})]}),(0,n.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,n.jsx)(A,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,n.jsxs)("div",{className:"grow flex-col flex",children:[(0,n.jsx)("p",{className:"text-foreground",children:"Listen to a table for changes"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Tables must have realtime enabled"})]}),(0,n.jsx)(S(),{href:"/project/".concat(l,"/database/publications"),target:"_blank",rel:"noreferrer",children:(0,n.jsx)(u.z,{type:"default",iconRight:(0,n.jsx)(eh.Z,{}),children:"Publications settings"})})]}),(0,n.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex rounded-b-md bg-studio",children:[(0,n.jsxs)("div",{className:"grow flex-col flex",children:[(0,n.jsx)("p",{className:"text-foreground",children:"Not sure what to do?"}),(0,n.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Browse our documentation"})]}),(0,n.jsx)(b.G,{href:"https://supabase.com/docs/guides/realtime"})]})]})]}):(0,n.jsx)(eM,{})})};var ez=e=>{let{enabled:t,hasChannelSet:s,data:a=[],showSendMessage:r}=e,[c,d]=(0,l.useState)(null),x=JSON.stringify(a),{mutate:h}=(0,o.a)();return((0,l.useEffect)(()=>{a&&(a.find(e=>e.id===(null==c?void 0:c.id))||d(null))},[x]),a)?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("section",{className:"flex w-full flex-col",style:{maxHeight:"calc(100vh - 42px - 3rem)"},children:[(0,n.jsx)(eg.Z,{active:t,"data-sentry-element":"ShimmerLine","data-sentry-source-file":"MessagesTable.tsx"}),(0,n.jsxs)("div",{className:(0,I.cn)("flex h-full flex-row",t?"border-brand-400":null),children:[(0,n.jsxs)("div",{className:"flex flex-grow flex-col",children:[t&&(0,n.jsxs)("div",{className:"w-full h-9 px-4 bg-surface-100 border-b items-center inline-flex justify-between text-foreground-light",children:[(0,n.jsxs)("div",{className:"inline-flex gap-2.5 text-xs",children:[(0,n.jsx)(em.Z,{size:"16",className:"animate-spin"}),(0,n.jsx)("div",{children:"Listening"}),(0,n.jsx)("div",{children:"•"}),(0,n.jsx)("div",{children:a.length>0?a.length>=100?"Found a large number of messages, showing only the latest 100...":"Found ".concat(a.length," messages..."):"No message found yet..."})]}),(0,n.jsx)(u.z,{type:"default",onClick:r,icon:(0,n.jsx)(ep.Z,{strokeWidth:1.5}),children:(0,n.jsx)("span",{children:"Broadcast a message"})})]}),(0,n.jsx)(ef.ZP,{className:"data-grid--simple-logs h-full border-b-0",rowHeight:40,headerRowHeight:0,columns:eZ,rowClass:e=>(0,I.cn)(["font-mono tracking-tight",eu()(e,c)?"bg-scale-800 rdg-row--focused":"bg-200 hover:bg-scale-300 cursor-pointer",eP(e)&&"!bg-warning-300"]),rows:a,rowKeyGetter:e=>e.id,renderers:{renderRow(e,t){let{row:s}=t;return(0,n.jsx)(ef.X2,{...t,isRowSelected:!1,selectedCellIdx:void 0,onClick:()=>{h({action:i.b.REALTIME_INSPECTOR_MESSAGE_CLICKED}),d(s)}},e)},noRowsFallback:(0,n.jsx)("div",{className:"mx-auto flex h-full w-full items-center justify-center space-y-12 py-4 transition-all delay-200 duration-500",children:(0,n.jsx)(eT,{enabled:t,hasChannelSet:s,showSendMessage:r})})},"data-sentry-element":"DataGrid","data-sentry-source-file":"MessagesTable.tsx"})]}),(0,n.jsx)("div",{className:"flex w-1/2 flex-col",children:(0,n.jsx)(eE,{onClose:()=>d(null),log:c,"data-sentry-element":"MessageSelection","data-sentry-source-file":"MessagesTable.tsx"})})]})]})}):null},eL=s(48855),eD=s(47878),eA=s(2054);let eF={message:"Test message",payload:'{ "message": "Hello World" }'},eB=e=>{let{visible:t,onSelectCancel:s,onSelectConfirm:a}=e,[r,o]=(0,l.useState)(),[i,c]=(0,l.useState)(eF);return(0,l.useEffect)(()=>{t&&(o(void 0),c(eF))},[t]),(0,n.jsx)(eA.Z,{size:"medium",alignFooter:"right",header:"Broadcast a message to all clients",visible:t,loading:!1,onCancel:s,onConfirm:()=>{let e=(0,eD.dW)(i.payload);void 0===e?o("Please provide a valid JSON"):a({...i,payload:e})},"data-sentry-element":"Modal","data-sentry-component":"SendMessageModal","data-sentry-source-file":"SendMessageModal.tsx",children:(0,n.jsxs)(eA.Z.Content,{className:"flex flex-col gap-y-4","data-sentry-element":"unknown","data-sentry-source-file":"SendMessageModal.tsx",children:[(0,n.jsx)(F.Z,{label:"Message name",size:"small",className:"flex-grow",value:i.message,onChange:e=>c({...i,message:e.target.value}),"data-sentry-element":"Input","data-sentry-source-file":"SendMessageModal.tsx"}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsx)("p",{className:"text-sm text-scale-1100",children:"Message payload"}),(0,n.jsx)(eL.Z,{id:"message-payload",language:"json",className:"!mb-0 h-32 overflow-hidden rounded border",onInputChange:e=>c({...i,payload:null!=e?e:"{}"}),options:{wordWrap:"off",contextmenu:!1},value:i.payload,"data-sentry-element":"CodeEditor","data-sentry-source-file":"SendMessageModal.tsx"}),void 0!==r&&(0,n.jsx)("p",{className:"text-sm text-red-900",children:r})]})]})})};var eO=s(68400),eW=s(45700),eH=s(88469),eU=s.n(eH),eV=s(71635),eG=s.n(eV),eJ=s(89022),eQ=s.n(eJ),eX=s(7097),eq=s(20651);function eK(e,t){return"clear"===t.type?eX.Z6:eQ()(eG()([{id:(0,eD.k$)(),timestamp:new Date().getTime(),message:t.payload.messageType,metadata:t.payload.metadata},...e],e=>-e.timestamp),100)}let eY=(e,t)=>{var s,n,a;let{enabled:r,channelName:o,projectRef:i,logLevel:c,token:d,schema:x,table:u,isChannelPrivate:h,filter:m,bearer:p,enablePresence:f,enableDbChanges:g,enableBroadcast:y}=e,{data:j}=(0,er.zR)({projectRef:i}),v=null!==(a=null==j?void 0:null===(s=j.app_config)||void 0===s?void 0:s.protocol)&&void 0!==a?a:"https",b=null==j?void 0:null===(n=j.app_config)||void 0===n?void 0:n.endpoint,N=j?"".concat(v,"://").concat(b):"https://".concat(i,".supabase.co"),w="".concat(N,"/realtime/v1").replace(/^http/i,"ws"),[k,C]=(0,l.useReducer)(eK,[]),S=(e,t)=>{C({type:"add",payload:{messageType:e,metadata:t}})},[I,E]=(0,l.useState)(),[M,R]=(0,l.useState)(),_=(0,ei.fN)();return(0,l.useEffect)(()=>{if(!r)return;let e=eU()(eW.SU,{headers:{"User-Agent":"supabase-api/".concat(eq.env.VERCEL_GIT_COMMIT_SHA||"unknown-sha")}}),t=eU()(eW.fw,{params:{log_level:c}}),s={headers:e.headers,...t,params:{apikey:d,...t.params}},n=new eO.VH(w,s);return p&&n.setAuth(p),E(n),()=>{n.disconnect(),E(void 0)}},[r,p,N,c,d]),(0,l.useEffect)(()=>{if(!I)return;C({type:"clear"});let s=null==I?void 0:I.channel(o,{config:{broadcast:{self:!0},private:h}});if(s.on("system",{},e=>{S("SYSTEM",e)}),y&&s.on("broadcast",{event:"*"},e=>S("BROADCAST",e)),f&&s.on("presence",{event:"*"},e=>{S("PRESENCE",e)}),g){let e={event:"*",schema:x,table:u,filter:void 0};""!==m&&(e.filter=m),s.on("postgres_changes",e,e=>{let t=performance.now()+performance.timeOrigin,s=Date.parse(e.commit_timestamp);S("POSTGRES",{...e,latency:t-s})})}return s.subscribe(async n=>{if("SUBSCRIBED"===n){var a;let e=null===(a=_.role)||void 0===a?void 0:a.role;f&&s.send({type:"presence",event:"TRACK",payload:{name:(void 0===e?"service_role_":"anon"===e?"anon_role_":"authenticated"===e?"authenticated_role_":"user_name_")+Math.floor(100*Math.random()),t:performance.now()}})}else"CHANNEL_ERROR"===n&&(es.Am.error("Failed to connect to the channel ".concat(o,": This may be due to restrictive RLS policies. Check your role and try again.")),s.unsubscribe(),R(void 0),t({...e,channelName:"",enabled:!1}))}),R(s),()=>{s.unsubscribe(),R(void 0)}},[I,o,y,g,f,m,N,x,u]),{logData:k,sendMessage:(0,l.useCallback)(async(e,t,s)=>{M?"error"===await M.send({type:"broadcast",event:e,payload:t})?es.Am.error("Failed to broadcast message"):(es.Am.success("Successfully broadcasted message"),s()):es.Am.error("Failed to broadcast message: channel has not been set")},[M])}},e$=()=>{let{ref:e}=(0,r.UO)(),[t,s]=(0,l.useState)(!1),[a,c]=(0,l.useState)({enabled:!1,projectRef:e,channelName:"",logLevel:"info",token:"",schema:"public",table:"*",isChannelPrivate:!1,filter:void 0,bearer:null,enablePresence:!0,enableDbChanges:!0,enableBroadcast:!0}),{mutate:d}=(0,o.a)(),{logData:x,sendMessage:u}=eY(a,c);return(0,n.jsxs)("div",{className:"flex flex-col grow h-full","data-sentry-component":"RealtimeInspector","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(ed,{config:a,onChangeConfig:c,"data-sentry-element":"Header","data-sentry-source-file":"index.tsx"}),(0,n.jsx)("div",{className:"relative flex flex-col grow",children:(0,n.jsx)("div",{className:"flex grow",children:(0,n.jsx)(ez,{hasChannelSet:a.channelName.length>0,enabled:a.enabled,data:x,showSendMessage:()=>s(!0),"data-sentry-element":"MessagesTable","data-sentry-source-file":"index.tsx"})})}),(0,n.jsx)(eB,{visible:t,onSelectCancel:()=>s(!1),onSelectConfirm:e=>{d({action:i.b.REALTIME_INSPECTOR_BROADCAST_SENT}),u(e.message,e.payload,()=>s(!1))},"data-sentry-element":"SendMessageModal","data-sentry-source-file":"index.tsx"})]})};var e0=s(82627),e1=s(33778),e2=s(87790);let e5=()=>(0,e2.Xo)(a.KA.READ,"service_api_keys")?(0,n.jsx)(e$,{"data-sentry-element":"RealtimeInspector","data-sentry-component":"InspectorPage","data-sentry-source-file":"inspector.tsx"}):(0,n.jsx)(e1.Z,{isFullPage:!0,resourceText:"access your project's realtime functionalities"});e5.getLayout=e=>(0,n.jsx)(e0.Z,{title:"Realtime Inspector",children:e});var e4=e5},30413:function(e,t,s){"use strict";s.d(t,{I:function(){return x}});var n=s(97458),a=s(72871),r=s(52983),l=s(5546),o=s(40347),i=s(19168),c=s(82188);function d(e){let{icon:t,className:s}=e;return(0,n.jsx)("div",{className:(0,l.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",s),"data-sentry-component":"InputIconContainer","data-sentry-source-file":"InputIconContainer.tsx",children:t})}let x=(0,r.forwardRef)((e,t)=>{let{copy:s,icon:x,reveal:u=!1,actions:h,onCopy:m,iconContainerClassName:p,containerClassName:f,...g}=e,[y,j]=(0,r.useState)("Copy"),[v,b]=(0,r.useState)(!0),N=(0,c.Z)("input"),w=[];return x&&w.push(N.with_icon),(0,n.jsxs)("div",{className:(0,l.cn)("relative",f),children:[(0,n.jsx)(o.I,{ref:t,...g,onCopy:m,value:u&&v?"**** **** **** ****":g.value,className:(0,l.cn)(...w,g.className)}),x&&(0,n.jsx)(d,{icon:x,className:p}),s||h?(0,n.jsxs)("div",{className:N.actions_container,children:[s&&!(u&&v)?(0,n.jsx)(i.z,{size:"tiny",type:"default",icon:(0,n.jsx)(a.Z,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e,t;return e=g.value,void(null===(t=navigator.clipboard.writeText(e))||void 0===t||t.then(function(){j("Copied"),setTimeout(function(){j("Copy")},3e3),null==m||m()},function(){j("Failed to copy")}))},children:y}):null,u&&v?(0,n.jsx)(i.z,{size:"tiny",type:"default",onClick:function(){b(!1)},children:"Reveal"}):null,h&&h]}):null]})})},33074:function(e,t,s){"use strict";s.d(t,{b:function(){return o}});var n=s(97458),a=s(52983),r=s(82445);let l=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z",fillRule:"evenodd",clipRule:"evenodd"})})),o=(0,a.forwardRef)((e,t)=>{let{...s}=e;return(0,n.jsxs)(r.u,{children:[(0,n.jsx)(r.aJ,{type:"button",role:"button",className:"flex [&_svg]:data-[state=delayed-open]:fill-foreground-lighter [&_svg]:data-[state=instant-open]:fill-foreground-lighter",children:(0,n.jsx)(l,{strokeWidth:2,className:"transition-colors fill-foreground-muted w-4 h-4"})}),(0,n.jsx)(r._v,{...s})]})})},90537:function(e,t,s){"use strict";s.d(t,{ZP:function(){return u}});var n=s(97458),a=s(52983),r=s(82188),l=s(5546);function o(e){let{children:t,className:s,tag:a="div",style:r}=e;return(0,n.jsx)("".concat(a),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:s=1,children:a,style:r}=e;return(0,n.jsx)("h".concat(s),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:a})},o.Text=function(e){let{className:t,children:s,style:a,type:r,disabled:l,mark:o,code:i,keyboard:c,underline:d,strikethrough:x,strong:u,small:h}=e;return i?(0,n.jsx)("code",{style:a,children:s}):o?(0,n.jsx)("mark",{style:a,children:s}):c?(0,n.jsx)("kbd",{style:a,children:s}):u?(0,n.jsx)("strong",{style:a,children:s}):(0,n.jsx)("span",{style:a,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:s})},o.Link=function(e){let{children:t,target:s="_blank",href:a,className:r,onClick:l,style:o}=e;return(0,n.jsx)("a",{onClick:l,href:a,target:s,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let i=(0,a.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,n.jsx)(i.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function x(e){let{children:t,className:s,ulClassName:a,style:r,type:l="text"}=e;return(0,n.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:r,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)(c,{type:l,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)("ul",{className:a,children:t})})})}x.Item=function(e){let{children:t,icon:s,active:a,rounded:o,onClick:i,doNotCloseOverlay:c=!1,showActiveBar:x=!1,style:u}=e,h=(0,r.Z)("menu"),{type:m}=d(),p=[h.item.base];p.push(h.item.variants[m].base),a?p.push(h.item.variants[m].active):p.push(h.item.variants[m].normal);let f=[h.item.content.base];a?f.push(h.item.content.active):f.push(h.item.content.normal);let g=[h.item.icon.base];return a?g.push(h.item.icon.active):g.push(h.item.icon.normal),(0,n.jsxs)("li",{role:"menuitem",className:(0,l.cn)("outline-none",p),style:u,onClick:i,"aria-current":a?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[s&&(0,n.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:s}),(0,n.jsx)("span",{className:f.join(" "),children:t})]})},x.Group=function(e){let{children:t,icon:s,title:a}=e,l=(0,r.Z)("menu"),{type:o}=d();return(0,n.jsxs)("div",{className:[l.group.base,l.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[s&&(0,n.jsx)("span",{className:l.group.icon,children:s}),(0,n.jsx)("span",{className:l.group.content,children:a}),t]})},x.Misc=function(e){let{children:t}=e;return(0,n.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)(o.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)("span",{children:t})})})};var u=x},16787:function(e,t,s){"use strict";s.d(t,{r:function(){return d}});var n=s(97458),a=s(56384),r=s(80086),l=s(52983),o=s(5546);let i=(0,r.j)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,r.j)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=l.forwardRef((e,t)=>{let{className:s,size:r,...l}=e;return(0,n.jsx)(a.fC,{className:(0,o.cn)(i({size:r}),s),...l,ref:t,children:(0,n.jsx)(a.bU,{className:(0,o.cn)(c({size:r}))})})});d.displayName=a.fC.displayName},56384:function(e,t,s){"use strict";s.d(t,{bU:function(){return N},fC:function(){return b}});var n=s(83573),a=s(52983),r=s(12527),l=s(61031),o=s(95831),i=s(29650),c=s(87178),d=s(56807),x=s(85418);let u="Switch",[h,m]=(0,o.b)(u),[p,f]=h(u),g=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:s,name:o,checked:c,defaultChecked:d,required:u,disabled:h,value:m="on",onCheckedChange:f,...g}=e,[y,b]=(0,a.useState)(null),N=(0,l.e)(t,e=>b(e)),w=(0,a.useRef)(!1),k=!y||!!y.closest("form"),[C=!1,S]=(0,i.T)({prop:c,defaultProp:d,onChange:f});return(0,a.createElement)(p,{scope:s,checked:C,disabled:h},(0,a.createElement)(x.WV.button,(0,n.Z)({type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":v(C),"data-disabled":h?"":void 0,disabled:h,value:m},g,{ref:N,onClick:(0,r.M)(e.onClick,e=>{S(e=>!e),k&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})})),k&&(0,a.createElement)(j,{control:y,bubbles:!w.current,name:o,value:m,checked:C,required:u,disabled:h,style:{transform:"translateX(-100%)"}}))}),y=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:s,...r}=e,l=f("SwitchThumb",s);return(0,a.createElement)(x.WV.span,(0,n.Z)({"data-state":v(l.checked),"data-disabled":l.disabled?"":void 0},r,{ref:t}))}),j=e=>{let{control:t,checked:s,bubbles:r=!0,...l}=e,o=(0,a.useRef)(null),i=(0,c.D)(s),x=(0,d.t)(t);return(0,a.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==s&&t){let n=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(n)}},[i,s,r]),(0,a.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:s},l,{tabIndex:-1,ref:o,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}let b=g,N=y},98219:function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{_:function(){return n}})}},function(e){e.O(0,[1885,588,520,2597,8703,9505,3351,6019,7191,2594,175,659,2829,5294,5313,5970,9080,5518,3382,9885,495,7546,6064,111,5394,8979,5081,43,9774,2888,179],function(){return e(e.s=66629)}),_N_E=e.O()}]);