!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b0b57a17-3082-40a1-ae2b-5ab8c1bedef3",e._sentryDebugIdIdentifier="sentry-dbid-b0b57a17-3082-40a1-ae2b-5ab8c1bedef3")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4212],{66332:function(e,t,n){n.d(t,{g:function(){return l}});var a=n(64618),r=n(34549),s=n(55410),i=n(77946);async function o(e){let{sql:t}=e,n=await (0,s.v_)(i.GW+"/api/ai/sql/title",{sql:t});if(!(0,s.d8)(n))throw n.error;return n}let l=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.D)(e=>o(e),{async onSuccess(t,n,a){await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?r.Am.error("Failed to generate title: ".concat(e.message)):t(e,n,a)},...n})}},3052:function(e,t,n){n.d(t,{z:function(){return d}});var a=n(36457),r=n(64618),s=n(34549),i=n(61250),o=n(14548);async function l(e,t){let{projectRef:n,ids:a}=e,{data:r,error:s}=await (0,i.IV)("/platform/projects/{ref}/content",{headers:{Version:"2"},params:{path:{ref:n},query:{ids:a}},signal:t});return s&&(0,i.S3)(s),r.map(e=>e.id)}let d=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,a.NL)();return(0,r.D)(e=>l(e),{async onSuccess(t,n,a){let{projectRef:r}=n;await i.invalidateQueries(o.$.allContentLists(r)),await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?s.Am.error("Failed to delete contents: ".concat(e.message)):t(e,n,a)},...n})}},87159:function(e,t,n){n.d(t,{A:function(){return i},N:function(){return o}});var a=n(28894),r=n(61250),s=n(14548);async function i(e,t){let{projectRef:n,id:a}=e;if(void 0===n)throw Error("projectRef is required");if(void 0===a)throw Error("Content ID is required");let{data:s,error:i}=await (0,r.U2)("/platform/projects/{ref}/content/item/{id}",{params:{path:{ref:n,id:a}},signal:t});if(i)throw(0,r.S3)(i);return s}let o=function(e){let{projectRef:t,id:n}=e,{enabled:r=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(s.$.resource(t,n),e=>{let{signal:a}=e;return i({projectRef:t,id:n},a)},{enabled:r&&void 0!==t&&void 0!==n,...o})}},55780:function(e,t,n){n.d(t,{s:function(){return d}});var a=n(36457),r=n(64618),s=n(34549),i=n(61250),o=n(14548);async function l(e,t){let{projectRef:n,id:a,type:r,content:s,name:o,description:l}=e,{data:d,error:c}=await (0,i.r$)("/platform/projects/{ref}/content",{params:{path:{ref:n},query:{id:a}},body:{id:a,type:r,content:s,name:o,description:l},signal:t});return c&&(0,i.S3)(c),d[0]}let d=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,a.NL)();return(0,r.D)(e=>l(e),{async onSuccess(t,n,a){let{projectRef:r}=n;await i.invalidateQueries(o.$.allContentLists(r)),await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?s.Am.error("Failed to update content: ".concat(e.message)):t(e,n,a)},...n})}},42858:function(e,t,n){n.d(t,{KJ:function(){return i},md:function(){return l}});var a=n(90688),r=n(61250),s=n(14548);let i=100;async function o(e,t){let{projectRef:n,cursor:a,sort:s,name:o}=e;if(void 0===n)throw Error("projectRef is required");let{data:l,error:d}=await (0,r.U2)("/platform/projects/{ref}/content/folders",{params:{path:{ref:n},query:{type:"sql",cursor:a,limit:i.toString(),sort_by:s,sort_order:"name"===s?"asc":"desc",name:o,visibility:"user"}},signal:t});if(d)throw(0,r.S3)(d);return{...l.data,cursor:l.cursor}}let l=function(e){let{projectRef:t,name:n,sort:r}=e,{enabled:i=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.N)(s.$.folders(t,{name:n,sort:r}),e=>{let{signal:a,pageParam:s}=e;return o({projectRef:t,cursor:s,name:n,sort:r},a)},{enabled:i&&void 0!==t,getNextPageParam:e=>e.cursor,...l})}},64290:function(e,t,n){n.d(t,{v:function(){return l}});var a=n(90688),r=n(61250),s=n(14548),i=n(42858);async function o(e,t){let{projectRef:n,cursor:a,visibility:s,favorite:o,name:l,sort:d}=e;if(void 0===n)throw Error("projectRef is required for getSqlSnippets");let{data:c,error:u}=await (0,r.U2)("/platform/projects/{ref}/content",{params:{path:{ref:n},query:{type:"sql",cursor:a,visibility:s,favorite:o,name:l,limit:i.KJ.toString(),sort_by:d,sort_order:"name"===d?"asc":"desc"}},signal:t});if(u)throw u;return{cursor:c.cursor,contents:c.data}}let l=function(e){let{projectRef:t,sort:n,name:r,visibility:i,favorite:l}=e,{enabled:d=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.N)(s.$.sqlSnippets(t,{sort:n,name:r,visibility:i,favorite:l}),e=>{let{signal:a,pageParam:s}=e;return o({projectRef:t,cursor:s,sort:n,name:r,visibility:i,favorite:l},a)},{enabled:d&&void 0!==t,getNextPageParam:e=>e.cursor,...c})}},74212:function(e,t,n){n.d(t,{Z:function(){return tr}});var a=n(97458),r=n(52983),s=n(28977),i=n.n(s),o=n(17542),l=n(13877),d=n(34549),c=n(61223),u=n(80887),p=n(36457),m=n(64618),f=n(29020),x=n(93909);async function h(e){let{pid:t,projectRef:n,connectionString:a}=e,{result:r}=await (0,f.R)({projectRef:n,connectionString:a,sql:"select pg_terminate_backend(".concat(t,")")});return r}let y=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,p.NL)();return(0,m.D)(e=>h(e),{async onSuccess(t,n,r){let{projectRef:s}=n;await a.invalidateQueries(x.M.ongoingQueries(s)),await (null==e?void 0:e(t,n,r))},async onError(e,n,a){void 0===t?d.Am.error("Failed to abort query: ".concat(e.message)):t(e,n,a)},...n})};var v=n(28894);let g=()=>"\nselect pid, query, query_start from pg_stat_activity where state = 'active' and datname = 'postgres';\n".trim();async function j(e,t){let{projectRef:n,connectionString:a}=e,r=g().trim(),{result:s}=await (0,f.R)({projectRef:n,connectionString:a,sql:r,queryKey:["ongoing-queries"]},t);return(null!=s?s:[]).filter(e=>!e.query.startsWith(r))}let S=function(e){let{projectRef:t,connectionString:n}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,v.a)(x.M.ongoingQueries(t),e=>{let{signal:a}=e;return j({projectRef:t,connectionString:n},a)},{enabled:a&&void 0!==t,...r})};var w=n(51735),b=n(46327),N=n(77946),M=n(82689),C=n(97274),L=n(19168),q=n(82558),Q=n(5546),E=n(82445),_=n(587);let P=e=>{let{visible:t,onClose:n}=e,[s,p]=(0,b.x)({replace:!0}),m=(0,w.Vm)(),f=(0,M.TF)(),[x,h]=(0,r.useState)(),{data:v}=(0,u.bN)({projectRef:null==m?void 0:m.ref}),g=(null!=v?v:[]).find(e=>e.identifier===f.selectedDatabaseId),{data:j,error:P,isError:I,isLoading:D,isFetching:Z,refetch:k}=S({projectRef:null==m?void 0:m.ref,connectionString:null==g?void 0:g.connectionString},{enabled:!N.Qy||N.Qy&&(null==g?void 0:g.connectionString)!==void 0,staleTime:5e3}),F=null!=j?j:[],{mutate:A,isLoading:z}=y({onSuccess:()=>{d.Am.success("Successfully aborted query (ID: ".concat(x,")")),h(void 0)}}),R=()=>{p({viewOngoingQueries:void 0}),n()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.yo,{open:t,onOpenChange:()=>R(),"data-sentry-element":"Sheet","data-sentry-source-file":"OngoingQueriesPanel.tsx",children:(0,a.jsxs)(C.ue,{size:"lg","data-sentry-element":"SheetContent","data-sentry-source-file":"OngoingQueriesPanel.tsx",children:[(0,a.jsxs)(C.Tu,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"OngoingQueriesPanel.tsx",children:[(0,a.jsxs)(C.bC,{className:"flex items-center gap-x-2","data-sentry-element":"SheetTitle","data-sentry-source-file":"OngoingQueriesPanel.tsx",children:["Running queries on"," ",(null==g?void 0:g.identifier)===(null==m?void 0:m.ref)?"primary database":"read replica",(0,a.jsx)(L.z,{type:"default",className:"px-1.5",loading:D||Z,icon:(0,a.jsx)(o.Z,{}),onClick:()=>k(),"data-sentry-element":"Button","data-sentry-source-file":"OngoingQueriesPanel.tsx"})]}),(0,a.jsxs)(C.Ei,{"data-sentry-element":"SheetDescription","data-sentry-source-file":"OngoingQueriesPanel.tsx",children:["There ",1===F.length?"is":"are"," ",(0,a.jsx)("span",{className:"text-foreground-light",children:F.length})," quer",1===F.length?"y":"ies"," currently running"," ",(null==g?void 0:g.identifier)!==(null==m?void 0:m.ref)?"on replica ".concat(null==g?void 0:g.identifier):""]})]}),(0,a.jsxs)("div",{className:"max-h-full h-full divide-y overflow-y-auto",children:[I&&(0,a.jsx)("div",{className:"flex items-center justify-center h-full px-16",children:(0,a.jsx)(c.Z,{subject:"Failed to retrieve ongoing queries",error:P})}),0===F.length&&(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 items-center justify-center h-full text-foreground-light text-sm",children:[(0,a.jsxs)("span",{children:["No queries are currently running on the"," ",(null==g?void 0:g.identifier)!==(null==m?void 0:m.ref)?"read replica ".concat(null==g?void 0:g.identifier):(null!=v?v:[]).length>1?"primary database":"database"]}),(0,a.jsx)(L.z,{type:"default",loading:D||Z,icon:(0,a.jsx)(o.Z,{}),onClick:()=>k(),children:"Refresh"})]}),F.map(e=>(0,a.jsxs)(C.DN,{className:"flex justify-between gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 w-full",children:[(0,a.jsx)(q.d,{hideLineNumbers:!0,value:e.query,language:"sql",className:(0,Q.cn)("max-w-none max-h-52 w-full","!bg-transparent !py-3 !px-3.5 prose dark:prose-dark","[&>code]:m-0 [&>code>span]:flex [&>code>span]:flex-wrap")}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsxs)("p",{className:"text-foreground-light text-xs",children:["PID: ",e.pid]}),(0,a.jsx)("p",{className:"text-foreground-light text-xs",children:"â€¢"}),(0,a.jsxs)("p",{className:"text-foreground-light text-xs",children:["Started since: ",i()(e.query_start).format("DD MMM YYYY HH:mm (ZZ)")]})]})]}),(0,a.jsxs)(E.u,{children:[(0,a.jsx)(E.aJ,{asChild:!0,children:(0,a.jsx)(L.z,{type:"warning",className:"px-1.5",icon:(0,a.jsx)(l.Z,{}),onClick:()=>h(e.pid)})}),(0,a.jsx)(E._v,{side:"bottom",children:"Abort query"})]})]},e.pid))]})]})}),(0,a.jsx)(_.Z,{loading:z,variant:"warning",title:"Confirm to abort this query? (ID: ".concat(x,")"),visible:void 0!==x,onCancel:()=>h(void 0),onConfirm:()=>{void 0!==x&&A({pid:x,projectRef:null==m?void 0:m.ref,connectionString:null==g?void 0:g.connectionString})},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"OngoingQueriesPanel.tsx",children:(0,a.jsx)("p",{className:"text-sm",children:"This will force the query to stop running."})})]})};var I=n(23385),D=n(85394),Z=n(198),k=n(81449),F=n(40281),A=n(72865),z=n(53995),R=n(45925),O=n(87790),T=n(44930),B=n(26013),U=n(77518),V=n(97834),$=n(23382),G=n(41762),W=n(35986),Y=n(86173),K=n(94540),J=n(97687),X=n.n(J),H=n(2552),ee=n(37669),et=n.n(ee),en=n(3553),ea=n(2054),er=n(53149),es=n(42772),ei=n(23399),eo=e=>{var t;let{id:n,...s}=e,i=null===(t=(0,B.B0)().snippets[n])||void 0===t?void 0:t.snippet,o=X()(null==i?void 0:i.name),[l,d]=(0,r.useState)("CLI"),c=[{id:"migration",label:"Migration",title:"Download as migration",description:"Download the snippet in a new migration named `".concat(o,"`"),cli:(0,ei.kL)(n,o),npm:(0,ei.kL)(n,o,!0)},{id:"seed",label:"Seed file",title:"Download as seed file",description:"If your query consists of sample data, append the snippet to the end of `supabase/seed.sql`",cli:(0,ei.YI)(n),npm:(0,ei.YI)(n,!0)},{id:"sql",label:"SQL file",title:"Download as SQL file",description:"Download the snippet directly into a new SQL file named `".concat(o,".sql`"),cli:(0,ei.y4)(n,o),npm:(0,ei.y4)(n,o,!0)}];return(0,a.jsx)(ea.Z,{hideFooter:!0,showCloseButton:!0,size:"xlarge",header:(0,a.jsx)("p",{children:"Download snippet as local migration file via the Supabase CLI."}),...s,"data-sentry-element":"Modal","data-sentry-component":"DownloadSnippetModal","data-sentry-source-file":"DownloadSnippetModal.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 relative pt-2",children:[(0,a.jsx)(er.Z,{type:"underlined",listClassNames:"pl-5","data-sentry-element":"Tabs","data-sentry-source-file":"DownloadSnippetModal.tsx",children:c.map(e=>(0,a.jsx)(er.Z.Panel,{id:e.id,label:e.label,children:(0,a.jsxs)(ea.Z.Content,{className:"!py-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)("p",{className:"text-base",children:e.title}),(0,a.jsx)(es.U,{className:"text-sm text-scale-1000 [&>p>code]:!break-normal",content:e.description})]}),(0,a.jsx)(en.Z,{width:50,options:["CLI","NPM"],activeOption:l,borderOverride:"border-muted",onClickOption:()=>"CLI"===l?d("NPM"):d("CLI")})]}),(0,a.jsx)("pre",{children:(0,a.jsx)(q.d,{language:"bash",className:"language-bash prose dark:prose-dark max-w-none",children:"CLI"===l?e.cli:e.npm})})]})},e.id))}),(0,a.jsxs)(ea.Z.Content,{className:"w-full flex items-center justify-between pt-0","data-sentry-element":"unknown","data-sentry-source-file":"DownloadSnippetModal.tsx",children:[(0,a.jsx)("p",{className:"text-xs text-lighter",children:"Run this command from your project directory"}),(0,a.jsxs)("div",{className:"flex justify-between items-center gap-x-2",children:[(0,a.jsx)(L.z,{asChild:!0,type:"default",icon:(0,a.jsx)(H.Z,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"DownloadSnippetModal.tsx",children:(0,a.jsx)(et(),{href:"https://supabase.com/docs/guides/deployment/database-migrations",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"DownloadSnippetModal.tsx",children:"About migrations"})}),(0,a.jsx)(L.z,{asChild:!0,type:"default",icon:(0,a.jsx)(H.Z,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"DownloadSnippetModal.tsx",children:(0,a.jsx)(et(),{href:"https://supabase.com/docs/guides/cli/local-development",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"DownloadSnippetModal.tsx",children:"About CLI"})})]})]})]})})},el=n(78751),ed=n(5007),ec=n(45196),eu=n(86848),ep=n(5394),em=n(87159),ef=n(67234),ex=n(11531),eh=n(7208),ey=n(40241),ev=n(27037),eg=n(41341),ej=n(88587),eS=n(89861),ew=n(40347);let eb=e=>{var t;let{visible:n,snippets:s=[],onClose:i}=e,{ref:o}=(0,R.UO)(),l=(0,B.B0)(),[c,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(),{mutateAsync:f,isLoading:x}=(0,ex.P)(),{mutateAsync:h,isLoading:y}=(0,ef.R)({onError:e=>{d.Am.error("Failed to move query: ".concat(e.message))}}),v="new-folder"===p?ep.Ry({name:ep.Z_().min(1,"Please provide a name for the folder")}).refine(e=>!l.allFolderNames.includes(e.name),{message:"This folder name already exists",path:["name"]}):ep.Ry({}),g=(0,eu.cI)({mode:"onSubmit",reValidateMode:"onSubmit",resolver:(0,el.F)(v),defaultValues:{name:""}}),j=(0,B.Gd)(o),S="root"===p?"Root of the editor":"new-folder"===p?"Create a new folder":null===(t=j.find(e=>e.id===p))||void 0===t?void 0:t.name,w=1===s.length&&(!s[0].folder_id&&"root"===p||s[0].folder_id===p),b=1===s.length&&(!s[0].folder_id&&"root"===p||s[0].folder_id===p),N=async e=>{if(!o)return console.error("Project ref is required");try{let t=p;if("new-folder"===p&&"name"in e){let{id:n}=await f({projectRef:o,name:e.name});t=n}await Promise.all(s.map(async e=>{let n=null==e?void 0:e.content;if(void 0===n){let{content:t}=await (0,em.A)({projectRef:o,id:e.id});"sql"in t&&(n=t)}if(void 0===n)return d.Am.error("Failed to save snippet: Unable to retrieve snippet contents");await h({projectRef:o,payload:{id:e.id,type:"sql",name:e.name,description:e.description,visibility:e.visibility,project_id:e.project_id,owner_id:e.owner_id,folder_id:"root"===p?null:t,content:n}})})),d.Am.success("Successfully moved ".concat(1===s.length?'"'.concat(s[0].name,'"'):"".concat(s.length," snippets")," to ").concat("root"===p?"the root of the editor":S)),s.forEach(e=>{l.updateSnippet({id:e.id,snippet:{...e,folder_id:"root"===p?null:p},skipSave:!0})}),i()}catch(e){d.Am.error("Failed to create new folder: ".concat(e.message))}};return(0,r.useEffect)(()=>{if(n&&void 0!==s){if(1===s.length){var e;m(null!==(e=s[0].folder_id)&&void 0!==e?e:"root")}else m("root");g.reset({name:""})}},[n,s]),(0,a.jsx)(eh.Vq,{open:n,onOpenChange:()=>i(),"data-sentry-element":"Dialog","data-sentry-component":"MoveQueryModal","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsx)(eh.cZ,{"data-sentry-element":"DialogContent","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsx)(ey.l0,{...g,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsxs)("form",{id:"move-snippet",onSubmit:g.handleSubmit(N),children:[(0,a.jsxs)(eh.fK,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsxs)(eh.$N,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"MoveQueryModal.tsx",children:["Move ",1===s.length?'"'.concat(s[0].name,'"'):"".concat(s.length)," ","snippet",s.length>1?"s":""," to a folder"]}),(0,a.jsxs)(eh.Be,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"MoveQueryModal.tsx",children:["Select which folder to move your quer",s.length>1?"ies":"y"," to"]})]}),(0,a.jsx)(eh.P3,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"MoveQueryModal.tsx"}),(0,a.jsxs)(eh.VO,{className:"py-5 flex flex-col gap-y-4","data-sentry-element":"DialogSection","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsx)(ev._,{className:"text-foreground-light","data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:"Select a folder"}),(0,a.jsxs)(eg.J2,{open:c,onOpenChange:u,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsx)(eg.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsx)(L.z,{block:!0,size:"small",type:"default",className:"pr-2 justify-between",iconRight:(0,a.jsx)(ed.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),"data-sentry-element":"Button","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[S,w&&" (Current)"]})})}),(0,a.jsx)(eg.yk,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsxs)(ej.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsx)(ej.sZ,{placeholder:"Find folder...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx"}),(0,a.jsxs)(ej.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsx)(ej.rb,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:"No folders found"}),(0,a.jsx)(ej.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsxs)(eS.x,{className:(j||[]).length>6?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsxs)(ej.di,{value:"root",className:"cursor-pointer w-full justify-between",onSelect:()=>{u(!1),m("root")},onClick:()=>{u(!1),m("root")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsxs)("span",{children:["Root of the editor",1===s.length&&null===s[0].folder_id&&" (Current)"]}),"root"===p&&(0,a.jsx)(ec.Z,{size:14})]},"root"),null==j?void 0:j.map(e=>(0,a.jsxs)(ej.di,{value:e.id,className:"cursor-pointer w-full justify-between",onSelect:()=>{u(!1),m(e.id)},onClick:()=>{u(!1),m(e.id)},children:[(0,a.jsxs)("span",{children:[e.name,1===s.length&&s[0].folder_id===e.id&&" (Current)"]}),e.id===p&&(0,a.jsx)(ec.Z,{size:14})]},e.id))]})}),(0,a.jsx)(ej.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx"}),(0,a.jsx)(ej.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:(0,a.jsxs)(ej.di,{className:"cursor-pointer w-full justify-start gap-x-2",onSelect:e=>{u(!1),m("new-folder")},onClick:()=>{u(!1),m("new-folder")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsx)(k.Z,{size:14,strokeWidth:1.5,"data-sentry-element":"Plus","data-sentry-source-file":"MoveQueryModal.tsx"}),(0,a.jsx)("p",{children:"New folder"})]})})]})]})})]})]}),"new-folder"===p&&(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsx)(ey.Wi,{name:"name",control:g.control,render:e=>{let{field:t}=e;return(0,a.jsxs)(ey.xJ,{className:"flex flex-col gap-y-2",children:[(0,a.jsx)(ey.lX,{children:"Provide a name for your new folder"}),(0,a.jsx)(ey.NI,{children:(0,a.jsx)(ew.I,{autoFocus:!0,...t,autoComplete:"off",disabled:y||x})}),(0,a.jsx)(ey.zG,{})]})}})})]}),(0,a.jsxs)(eh.cN,{"data-sentry-element":"DialogFooter","data-sentry-source-file":"MoveQueryModal.tsx",children:[(0,a.jsx)(L.z,{type:"default",disabled:y||x,onClick:()=>i(),"data-sentry-element":"Button","data-sentry-source-file":"MoveQueryModal.tsx",children:"Cancel"}),(0,a.jsx)(L.z,{type:"primary",htmlType:"submit",disabled:b,loading:y||x,"data-sentry-element":"Button","data-sentry-source-file":"MoveQueryModal.tsx",children:"Move file"})]})]})})})})};var eN=n(66332),eM=n(55780),eC=n(64071),eL=n(80398),eq=n(93009),eQ=n(96789),eE=n(97751),e_=n(61932),eP=e=>{let{snippet:t={},visible:n,onCancel:s,onComplete:i}=e,{ref:o}=(0,R.UO)(),l=(0,eL.l)(),c=(0,B.B0)(),{data:u}=(0,eC.Gl)({orgSlug:null==l?void 0:l.slug}),p="sql"===t.type,m=(0,e_.$w)(u),{id:f,name:x,description:h}=t,[y,v]=(0,r.useState)(x),[g,j]=(0,r.useState)(h),{mutate:S,isLoading:w}=(0,eN.g)({onSuccess:e=>{let{title:t,description:n}=e;v(t),g||j(n)},onError:e=>{d.Am.error("Failed to rename query: ".concat(e.message))}}),b=async()=>{if("content"in t&&p)S({sql:t.content.sql});else try{let{content:e}=await (0,em.A)({projectRef:o,id:t.id});"sql"in e&&S({sql:e.sql})}catch(e){d.Am.error("Unable to generate title based on query contents")}},{mutateAsync:N}=(0,eM.s)(),M=async(e,n)=>{let{setSubmitting:a}=n;if(!o)return console.error("Project ref is required");if(!f)return console.error("Snippet ID is required");a(!0);try{let e=t;"content"in e||(e=await (0,em.A)({projectRef:o,id:f}),c.addSnippet({projectRef:o,snippet:e}));let n=await N({projectRef:o,id:f,type:e.type,content:e.content,name:y,description:g});c.renameSnippet({id:f,name:n.name,description:n.description}),d.Am.success("Successfully renamed snippet!"),i&&i()}catch(e){a(!1),d.Am.error("Failed to rename snippet: ".concat(e.message))}};return(0,r.useEffect)(()=>{v(x),j(h)},[t.id]),(0,a.jsx)(ea.Z,{visible:n,onCancel:s,hideFooter:!0,header:"Rename",size:"small","data-sentry-element":"Modal","data-sentry-component":"RenameQueryModal","data-sentry-source-file":"RenameQueryModal.tsx",children:(0,a.jsx)(eq.Z,{onReset:s,validateOnBlur:!0,initialValues:{name:null!=x?x:"",description:null!=h?h:""},validate:()=>{let e={};return y||(e.name="Please enter a query name"),e},onSubmit:M,"data-sentry-element":"Form","data-sentry-source-file":"RenameQueryModal.tsx",children:e=>{let{isSubmitting:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ea.Z.Content,{className:"space-y-4",children:[(0,a.jsx)(eQ.Z,{label:"Name",id:"name",name:"name",value:y,onChange:e=>v(e.target.value)}),(0,a.jsx)("div",{className:"flex w-full justify-end mt-2",children:!m&&(0,a.jsx)(L.z,{type:"default",onClick:()=>b(),size:"tiny",disabled:w,children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"scale-75",children:(0,a.jsx)(eE.c,{loading:w})}),(0,a.jsx)("span",{children:"Rename with Supabase AI"})]})})}),(0,a.jsx)(eQ.Z.TextArea,{label:"Description",id:"description",placeholder:"Describe query",size:"medium",textAreaClassName:"resize-none",value:g,onChange:e=>j(e.target.value)})]}),(0,a.jsx)(ea.Z.Separator,{}),(0,a.jsxs)(ea.Z.Content,{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(L.z,{htmlType:"reset",type:"default",onClick:s,disabled:t,children:"Cancel"}),(0,a.jsx)(L.z,{htmlType:"submit",loading:t,disabled:t,children:"Rename query"})]})]})}})})},eI=n(26746),eD=n(61250),eZ=n(14548);async function ek(e,t){let{projectRef:n,type:a,visibility:r,favorite:s,name:i}=e;if(void 0===n)throw Error("projectRef is required");let o={type:a};r&&(o.visibility=r),s&&(o.favorite=s),i&&(o.name=i);let{data:l,error:d}=await (0,eD.U2)("/platform/projects/{ref}/content/count",{params:{path:{ref:n},query:{type:a,visibility:r,favorite:s,name:i}},signal:t});if(d)throw(0,eD.S3)(d);return l}let eF=function(e){let{projectRef:t,type:n,visibility:a,favorite:r,name:s}=e,{enabled:i=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,v.a)(eZ.$.count(t,n,{visibility:a,favorite:r,name:s}),e=>{let{signal:i}=e;return ek({projectRef:t,type:n,visibility:a,favorite:r,name:s},i)},{enabled:!1,...o})};var eA=n(3052);async function ez(e,t){let{projectRef:n,ids:a}=e,{data:r,error:s}=await (0,eD.IV)("/platform/projects/{ref}/content/folders",{params:{path:{ref:n},query:{ids:a}},signal:t});if(s)throw(0,eD.S3)(s);return r}let eR=function(){let{onError:e,onSuccess:t,invalidateQueriesOnSuccess:n=!0,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,p.NL)();return(0,m.D)(e=>ez(e),{async onSuccess(e,a,s){let{projectRef:i}=a;n&&await r.invalidateQueries(eZ.$.folders(i)),await (null==t?void 0:t(e,a,s))},async onError(t,n,a){void 0===e?d.Am.error("Failed to delete folder: ".concat(t.message)):e(t,n,a)},...a})};var eO=n(42858),eT=n(64290),eB=n(38021),eU=n(79083),eV=n(44273),e$=n(24078),eG=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row h-6 px-3 items-center gap-3",children:[(0,a.jsx)(e$.O,{className:"h-4 w-5","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"}),(0,a.jsx)(e$.O,{className:"w-40 h-4","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-3 items-center gap-3",children:[(0,a.jsx)(e$.O,{className:"h-4 w-5","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"}),(0,a.jsx)(e$.O,{className:"w-32 h-4","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-3 items-center gap-3 opacity-75",children:[(0,a.jsx)(e$.O,{className:"h-4 w-5","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"}),(0,a.jsx)(e$.O,{className:"w-20 h-4","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-3 items-center gap-3 opacity-50",children:[(0,a.jsx)(e$.O,{className:"h-4 w-5","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"}),(0,a.jsx)(e$.O,{className:"w-40 h-4","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-3 items-center gap-3 opacity-25",children:[(0,a.jsx)(e$.O,{className:"h-4 w-5","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"}),(0,a.jsx)(e$.O,{className:"w-20 h-4","data-sentry-element":"Skeleton","data-sentry-source-file":"SQLEditorLoadingSnippets.tsx"})]})]});let eW={id:0,name:"",parent:null,children:[]},eY=e=>{var t,n;if(void 0===e)return[eW];let{folders:a,contents:r}=e,s=(null==a?void 0:a.map(e=>{var t;let{id:n,name:a}=e;return{id:n,name:a,parent:0,isBranch:!0,children:null!==(t=null==r?void 0:r.filter(e=>e.folder_id===n).map(e=>e.id))&&void 0!==t?t:[],metadata:e}}))||[],i=(null==r?void 0:r.map(e=>{let{id:t,name:n,folder_id:a}=e;return{id:t,name:n,parent:null!=a?a:0,children:[],metadata:e}}))||[];return[{id:0,name:"",parent:null,children:[...null===(t=a||[])||void 0===t?void 0:t.map(e=>e.id),...null===(n=(r||[]).filter(e=>!e.folder_id))||void 0===n?void 0:n.map(e=>e.id)]},...s,...i]};function eK(e){let t=new Set,n=e.filter(e=>0===e.parent);if(n.length>0){let e=n[n.length-1];"string"==typeof e.id&&t.add(e.id),n.forEach(e=>{if(e.children.length>0){let n=e.children[e.children.length-1];"string"==typeof n&&t.add(n)}})}return t}var eJ=n(18656),eX=n(17471),eH=n(39950),e0=n(39118),e1=n(67328),e4=n(72871),e2=n(2684),e5=n(58502),e8=n(90688);async function e3(e,t){let{projectRef:n,folderId:a,cursor:r,sort:s,name:i}=e;if(void 0===n)throw Error("projectRef is required");if(void 0===a)throw Error("folderId is required");let{data:o,error:l}=await (0,eD.U2)("/platform/projects/{ref}/content/folders/{id}",{params:{path:{ref:n,id:a},query:{cursor:r,limit:eO.KJ.toString(),sort_by:s,sort_order:"name"===s?"asc":"desc",name:i}},signal:t});if(l)throw(0,eD.S3)(l);return{...o.data,cursor:o.cursor}}let e7=function(e){let{projectRef:t,folderId:n,name:a,sort:r}=e,{enabled:s=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e8.N)(eZ.$.folderContents(t,n,{name:a,sort:r}),e=>{let{signal:s,pageParam:i}=e;return e3({projectRef:t,folderId:n,cursor:i,name:a,sort:r},s)},{enabled:s&&void 0!==t&&void 0!==n,getNextPageParam:e=>e.cursor,...i})};var e6=n(9374),e9=n(58127);let te=e=>{let{element:t,isBranch:n,isExpanded:s,level:i,status:o,isSelected:l,isMultiSelected:d,getNodeProps:c,onSelectCreate:u,onSelectDelete:p,onSelectRename:m,onSelectMove:f,onSelectShare:x,onSelectUnshare:h,onSelectDownload:y,onSelectCopyPersonal:v,onEditSave:g,onMultiSelect:j,isLastItem:S,hasNextPage:w,fetchNextPage:b,isFetchingNextPage:N,sort:M,name:C,onFolderContentsChange:q}=e,Q=(0,z.useRouter)(),{id:E,ref:_}=(0,e5.U)(),{profile:P}=(0,T.Un)(),{className:I,onClick:D}=c(),F=(0,B.B0)(),A=(null==P?void 0:P.id)===(null==t?void 0:t.metadata.owner_id),U="project"===t.metadata.visibility,V="editing"===o,$=(0,O.Xo)(Z.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==P?void 0:P.id},subject:{id:null==P?void 0:P.id}}),G=0===t.parent?void 0:t.parent,W=n&&s,{data:Y,isSuccess:K,isLoading:J,isFetchingNextPage:X,hasNextPage:ee,fetchNextPage:en,isPreviousData:ea,isFetching:er}=e7({projectRef:_,folderId:null!=G?G:t.id,name:C,sort:M},{enabled:W,keepPreviousData:!0});(0,r.useEffect)(()=>{_&&K&&Y.pages.forEach(e=>{var t;null===(t=e.contents)||void 0===t||t.forEach(e=>{F.addSnippet({projectRef:_,snippet:e})})})},[_,null==Y?void 0:Y.pages]);let es=(0,e6.Z)(q);(0,r.useEffect)(()=>{if(W){var e;null===(e=es.current)||void 0===e||e.call(es,{isLoading:J||ea&&er,snippets:null==Y?void 0:Y.pages.flatMap(e=>{var t;return null!==(t=e.contents)&&void 0!==t?t:[]})})}},[null==Y?void 0:Y.pages,er,J,ea,W]);let ei=void 0!==G;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e9.xV,{modal:!1,"data-sentry-element":"ContextMenu_Shadcn_","data-sentry-source-file":"SQLEditorTreeViewItem.tsx",children:[(0,a.jsx)(e9.W4,{asChild:!0,"data-sentry-element":"ContextMenuTrigger_Shadcn_","data-sentry-source-file":"SQLEditorTreeViewItem.tsx",children:(0,a.jsx)(eU.A7,{level:i,xPadding:16,name:t.name,className:I,isExpanded:s,isBranch:n,isSelected:l||E===t.id,isEditing:V,isLoading:W&&J||"saving"===o,onEditSubmit:e=>{void 0!==g&&g(e)},onClick:e=>{n?V||D(e):e.shiftKey&&"new"!==E?null==j||j(t.id):Q.push("/project/".concat(_,"/sql/").concat(t.id))},"data-sentry-element":"TreeViewItem","data-sentry-source-file":"SQLEditorTreeViewItem.tsx"})}),(0,a.jsx)(e9.h_,{onCloseAutoFocus:e=>e.stopPropagation(),"data-sentry-element":"ContextMenuContent_Shadcn_","data-sentry-source-file":"SQLEditorTreeViewItem.tsx",children:n?(0,a.jsxs)(a.Fragment,{children:[void 0!==u&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>u(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(k.Z,{size:14}),"Create new snippet"]}),void 0!==m&&A&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>m(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(eJ.Z,{size:14}),"Rename folder"]}),void 0!==p&&A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e9.uP,{}),(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>p(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(eX.Z,{size:14}),"Delete folder"]})]})]}):d?(0,a.jsxs)(a.Fragment,{children:[void 0!==f&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>f(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(eH.Z,{size:14}),"Move selected queries"]}),(0,a.jsx)(e9.uP,{}),void 0!==p&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>p(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(eX.Z,{size:14}),"Delete selected queries"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e9.Zo,{asChild:!0,className:"gap-x-2",onSelect:()=>{},onFocusCapture:e=>e.stopPropagation(),children:(0,a.jsxs)(et(),{href:"/project/".concat(_,"/sql/").concat(t.id),target:"_blank",rel:"noreferrer",children:[(0,a.jsx)(H.Z,{size:14}),"Open in new tab"]})}),(0,a.jsx)(e9.uP,{}),void 0!==m&&A&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>m(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(eJ.Z,{size:14}),"Rename query"]}),void 0!==f&&A&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>f(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(eH.Z,{size:14}),"Move query"]}),void 0!==x&&!U&&$&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>x(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(e0.Z,{size:14}),"Share query with team"]}),void 0!==h&&U&&A&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>h(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(e1.Z,{size:14}),"Unshare query with team"]}),void 0!==v&&U&&!A&&$&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>v(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(e4.Z,{size:14}),"Duplicate personal copy"]}),void 0!==y&&R.Qy&&(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>y(),onFocusCapture:e=>e.stopPropagation(),children:[(0,a.jsx)(e2.Z,{size:14}),"Download as migration file"]}),void 0!==p&&A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e9.uP,{}),(0,a.jsxs)(e9.Zo,{className:"gap-x-2",onSelect:()=>p(),children:[(0,a.jsx)(eX.Z,{size:14}),"Delete query"]})]})]})})]}),(ei?ee:w)&&"string"==typeof t.id&&S&&(0,a.jsx)("div",{className:"px-4 py-1",style:{paddingLeft:!t.isBranch&&t.level>1?48*(t.level-1):void 0},children:(0,a.jsx)(L.z,{type:"outline",size:"tiny",block:!0,loading:ei?X:N,disabled:ei?X:N,onClick:function(){ei?en():"function"==typeof b&&b()},children:"Load More"})})]})},tt=e=>{var t,n,s,i;let{searchText:o,sort:l="inserted_at",setIsSearching:c}=e,u=o.trim(),p=(0,$.Nr)(u,250),m=u.length>0,f=(0,z.useRouter)(),{profile:x}=(0,T.Un)(),h=(0,w.Vm)(),{ref:y,id:v}=(0,R.UO)(),g=(0,B.B0)(),[j,S]=(0,r.useState)(!1),[b,N]=(0,r.useState)(!1),[M,C]=(0,r.useState)(!1),[L,q]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),[I,D]=(0,r.useState)(!1),[Z,k]=(0,r.useState)(!0),[F,A]=(0,r.useState)(),[O,U]=(0,r.useState)([]),[J,X]=(0,r.useState)(),[H,ee]=(0,r.useState)(),[et,en]=(0,r.useState)(),[ea,er]=(0,r.useState)(),[es,el]=(0,r.useState)(),ed=null===(t=g.snippets[v])||void 0===t?void 0:t.snippet,{data:ec,isLoading:eu,isPreviousData:ep,isFetching:ex,hasNextPage:eh,fetchNextPage:ey,isFetchingNextPage:ev}=(0,eO.md)({projectRef:y,name:p,sort:l},{keepPreviousData:!0});(0,r.useEffect)(()=>{y&&ec&&ec.pages.forEach(e=>{var t,n;null===(t=e.contents)||void 0===t||t.forEach(e=>{g.addSnippet({projectRef:y,snippet:e})}),null===(n=e.folders)||void 0===n||n.forEach(e=>{g.addFolder({projectRef:y,folder:e})})})},[y,null==ec?void 0:ec.pages]);let[eg,ej]=(0,r.useState)({}),eS=(0,r.useMemo)(()=>{var e;let t=null!==(e=null==ec?void 0:ec.pages.flatMap(e=>{var t;return null!==(t=e.contents)&&void 0!==t?t:[]}))&&void 0!==e?e:[],n=Object.values(eg).reduce((e,t)=>{var n;let a=(null!==(n=t.snippets)&&void 0!==n?n:[]).filter(t=>!e.snippetIds.has(t.id)),r=new Set(a.map(e=>e.id));return{snippets:[...e.snippets,...a],isLoading:e.isLoading||t.isLoading,snippetIds:new Set([...e.snippetIds,...r])}},{snippets:t,isLoading:eu||ep&&ex,snippetIds:new Set(t.map(e=>e.id))});return ed&&"user"===ed.visibility&&!n.snippetIds.has(ed.id)&&(n.snippetIds.add(ed.id),n.snippets=[...n.snippets,ed]),n},[null==ec?void 0:ec.pages,eg,eu,ep,ex,ed]),ew=(0,r.useMemo)(()=>{var e,t;return null!==(t=null===(e=eS.snippets)||void 0===e?void 0:e.filter(e=>"user"===e.visibility).sort((e,t)=>"name"===l?e.name.localeCompare(t.name):new Date(t.inserted_at).valueOf()-new Date(e.inserted_at).valueOf()))&&void 0!==t?t:[]},[eS.snippets,l]),eN=(0,B.Gd)(y),{data:eM}=eF({projectRef:y,type:"sql",visibility:"user",name:p}),eC=ew.length,eL=(0,r.useMemo)(()=>0===eN.length&&0===ew.length?[eW]:eY({folders:eN,contents:ew}),[eN,ew]),eq=(0,r.useMemo)(()=>eK(eL),[eL]),{data:eQ,isLoading:eE,hasNextPage:e_,fetchNextPage:eD,isFetchingNextPage:eZ,isSuccess:ek}=(0,eT.v)({projectRef:y,favorite:!0,name:p,sort:l},{enabled:E,keepPreviousData:!0});(0,r.useEffect)(()=>{void 0!==y&&ek&&eQ.pages.forEach(e=>{var t;null===(t=e.contents)||void 0===t||t.forEach(e=>{g.addSnippet({projectRef:y,snippet:e})})})},[y,null==ec?void 0:ec.pages]);let ez=(0,r.useMemo)(()=>{var e,t;let n=null!==(e=null==eQ?void 0:eQ.pages.flatMap(e=>{var t;return null!==(t=e.contents)&&void 0!==t?t:[]}))&&void 0!==e?e:[];return ed&&ed.favorite&&!n.find(e=>e.id===ed.id)&&n.push(ed),null!==(t=n.map(e=>({...e,folder_id:void 0})).sort((e,t)=>"name"===l?e.name.localeCompare(t.name):new Date(t.inserted_at).valueOf()-new Date(e.inserted_at).valueOf()))&&void 0!==t?t:[]},[null==eQ?void 0:eQ.pages,ed,l]),{data:e$}=eF({projectRef:y,type:"sql",favorite:!0,name:p}),eJ=ez.length,eX=(0,r.useMemo)(()=>0===eJ?[eW]:eY({contents:ez}),[ez,eJ]),eH=(0,r.useMemo)(()=>eK(eX),[eX]),{data:e0,isLoading:e1,hasNextPage:e4,fetchNextPage:e2,isFetchingNextPage:e5,isSuccess:e8}=(0,eT.v)({projectRef:y,visibility:"project",name:p,sort:l},{enabled:I,keepPreviousData:!0});(0,r.useEffect)(()=>{void 0!==y&&e8&&e0.pages.forEach(e=>{var t;null===(t=e.contents)||void 0===t||t.forEach(e=>{g.addSnippet({projectRef:y,snippet:e})})})},[y,null==ec?void 0:ec.pages]);let e3=(0,r.useMemo)(()=>{var e,t;let n=null!==(e=null==e0?void 0:e0.pages.flatMap(e=>{var t;return null!==(t=e.contents)&&void 0!==t?t:[]}))&&void 0!==e?e:[];return ed&&"project"===ed.visibility&&!n.find(e=>e.id===ed.id)&&n.push(ed),null!==(t=n.sort((e,t)=>"name"===l?e.name.localeCompare(t.name):new Date(t.inserted_at).valueOf()-new Date(e.inserted_at).valueOf()))&&void 0!==t?t:[]},[null==e0?void 0:e0.pages,ed,l]),{data:e7}=eF({projectRef:y,type:"sql",visibility:"project",name:p}),e6=e3.length,e9=(0,r.useMemo)(()=>0===e6?[eW]:eY({contents:e3}),[e3,e6]),tt=(0,r.useMemo)(()=>eK(e9),[e9]),{mutate:tn,isLoading:ta}=(0,ef.R)({onError:e=>{d.Am.error("Failed to update query: ".concat(e.message))}}),{mutate:tr,isLoading:ts}=(0,eA.z)({onError:(e,t)=>{e.message.includes("Contents not found")?tl(t.ids):d.Am.error("Failed to delete query: ".concat(e.message))}}),{mutate:ti,isLoading:to}=eR({onSuccess:(e,t)=>{d.Am.success("Successfully deleted folder");let{ids:n}=t;g.removeFolder(n[0]),el(void 0)}}),tl=e=>{C(!1),U([]);let t=Object.keys(g.snippets).filter(t=>!e.includes(t));0===t.length?f.push("/project/".concat(y,"/sql/new")):e.includes(v)&&f.push("/project/".concat(y,"/sql/").concat(t[0])),e.length>0&&e.forEach(e=>g.removeSnippet(e))},td=async e=>{var t;let n="share"===e?J:H;if(!y)return console.error("Project ref is required");if(!n)return console.error("Snippet ID is required");let a=g.snippets[n.id],r=null==a?void 0:null===(t=a.snippet)||void 0===t?void 0:t.content;if(void 0===r){let{content:e}=await (0,em.A)({projectRef:y,id:n.id});r=e}if(void 0===r)return d.Am.error("Unable to update snippet visibility: Content is missing");let s="share"===e?"project":"user";tn({projectRef:y,payload:{...n,visibility:s,folder_id:null,content:r}},{onSuccess:()=>{X(void 0),ee(void 0),D(!0),g.updateSnippet({id:n.id,snippet:{visibility:s,folder_id:null},skipSave:!0}),d.Am.success("share"===e?"Snippet is now shared to the project":"Snippet is now unshared from the project")}})},tc=async e=>{if(!x)return console.error("Profile is required");if(!h)return console.error("Project is required");if(!y)return console.error("Project ref is required");if(!v)return console.error("Snippet ID is required");let t="";if(e.content&&e.content.sql)t=e.content.sql;else{let{content:n}=await (0,em.A)({projectRef:y,id:e.id});"sql"in n&&(t=n.sql)}let n=(0,ei.wI)({id:(0,eB.Z)(),name:e.name,sql:t,owner_id:null==x?void 0:x.id,project_id:null==h?void 0:h.id});g.addSnippet({projectRef:y,snippet:n}),g.addNeedsSaving(n.id),f.push("/project/".concat(y,"/sql/").concat(n.id))},tu=async()=>{if(!y)return console.error("Project ref is required");if(void 0===es)return console.error("No folder is selected");let e=ew.filter(e=>e.folder_id===es.id);if(e.length>0){let t=e.map(e=>e.id);tr({projectRef:y,ids:t},{onSuccess:()=>{t.forEach(e=>g.removeSnippet(e)),tl(t),ti({projectRef:y,ids:[null==es?void 0:es.id]})}})}else ti({projectRef:y,ids:[null==es?void 0:es.id]})},tp=e=>{let t=ew.map(e=>e.id),n=t.indexOf(v),a=t.indexOf(e),r=Math.min(n,a),s=Math.max(n,a),i=[],o=ew[r].folder_id===ew[s].folder_id;for(let e=r;e<=s;e++)o&&ew[e].folder_id===ew[r].folder_id&&i.push(ew[e]);U(i)};return(0,r.useEffect)(()=>{null==c||c(eS.isLoading)},[eS.isLoading,c]),(0,r.useEffect)(()=>{void 0===ed||j||("project"===ed.visibility&&D(!0),ed.folder_id&&A([ed.folder_id]),S(!0))},[ed,j,l,p]),(0,r.useEffect)(()=>{U([])},[v]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.qs,{"data-sentry-element":"InnerSideMenuSeparator","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsxs)(V.GZ,{open:I,onOpenChange:D,className:"px-0","data-sentry-element":"InnerSideMenuCollapsible","data-sentry-source-file":"SQLEditorNav.tsx",children:[(0,a.jsx)(V.Qn,{title:"Shared","data-sentry-element":"InnerSideMenuCollapsibleTrigger","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(V.rt,{className:"group-data-[state=open]:pt-2","data-sentry-element":"InnerSideMenuCollapsibleContent","data-sentry-source-file":"SQLEditorNav.tsx",children:e1?(0,a.jsx)(eG,{}):0===e6?(0,a.jsx)(V.Cf,{className:(0,Q.cn)("mx-2 px-3",m?"[&>div>p]:text-foreground-lighter":""),title:m?"No results found based on your search":"No shared queries",description:m?void 0:"Share queries with your team by right-clicking on the query"}):(0,a.jsx)(eU.LQ,{data:e9,"aria-label":"project-level-snippets",nodeRenderer:e=>{let{element:t,...n}=e;return(0,a.jsx)(te,{...n,element:t,onSelectDelete:()=>{C(!0),U([t.metadata])},onSelectRename:()=>{q(!0),en(t.metadata)},onSelectDownload:()=>{er(t.metadata)},onSelectCopyPersonal:()=>{tc(t.metadata)},onSelectUnshare:()=>{ee(t.metadata)},isLastItem:tt.has(t.id),hasNextPage:e4,fetchNextPage:e2,isFetchingNextPage:e5})}})})]}),(0,a.jsx)(V.qs,{"data-sentry-element":"InnerSideMenuSeparator","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsxs)(V.GZ,{className:"px-0",open:E,onOpenChange:P,"data-sentry-element":"InnerSideMenuCollapsible","data-sentry-source-file":"SQLEditorNav.tsx",children:[(0,a.jsx)(V.Qn,{title:"Favorites","data-sentry-element":"InnerSideMenuCollapsibleTrigger","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(V.rt,{className:"group-data-[state=open]:pt-2","data-sentry-element":"InnerSideMenuCollapsibleContent","data-sentry-source-file":"SQLEditorNav.tsx",children:eE?(0,a.jsx)(eG,{}):0===eJ?(0,a.jsx)(V.Cf,{title:m?"No results found based on your search":"No favorite queries",className:(0,Q.cn)("mx-2 px-3",m?"[&>div>p]:text-foreground-lighter":""),description:m?null:(0,a.jsxs)(a.Fragment,{children:["Save a query to favorites for easy accessibility by clicking the"," ",(0,a.jsx)(G.Z,{size:12,className:"inline-block relative align-center -top-[1px]"})," ","icon."]})}):(0,a.jsx)(eU.LQ,{data:eX,"aria-label":"favorite-snippets",nodeRenderer:e=>{let{element:t,...n}=e;return(0,a.jsx)(te,{...n,element:t,onSelectDelete:()=>{C(!0),U([t.metadata])},onSelectRename:()=>{q(!0),en(t.metadata)},onSelectDownload:()=>{er(t.metadata)},onSelectCopyPersonal:()=>{tc(t.metadata)},onSelectShare:()=>X(t.metadata),onSelectUnshare:()=>{ee(t.metadata)},isLastItem:eH.has(t.id),hasNextPage:e_,fetchNextPage:eD,isFetchingNextPage:eZ})}})})]}),(0,a.jsx)(V.qs,{"data-sentry-element":"InnerSideMenuSeparator","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsxs)(V.GZ,{open:Z,onOpenChange:k,className:"px-0","data-sentry-element":"InnerSideMenuCollapsible","data-sentry-source-file":"SQLEditorNav.tsx",children:[(0,a.jsx)(V.Qn,{title:"PRIVATE","data-sentry-element":"InnerSideMenuCollapsibleTrigger","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(V.rt,{className:"group-data-[state=open]:pt-2","data-sentry-element":"InnerSideMenuCollapsibleContent","data-sentry-source-file":"SQLEditorNav.tsx",children:eu?(0,a.jsx)(eG,{}):0===eN.length&&0===eC?(0,a.jsx)(V.Cf,{className:"mx-3 px-4",title:"No queries created yet",description:"Queries will be automatically saved once you start writing in the editor"}):(0,a.jsx)(eU.LQ,{multiSelect:!0,togglableSelect:!0,clickAction:"EXCLUSIVE_SELECT",data:eL,selectedIds:O.map(e=>e.id),"aria-label":"private-snippets",expandedIds:F,nodeRenderer:e=>{let{element:t,...n}=e;return(0,a.jsx)(te,{...n,element:t,isMultiSelected:O.length>1,isLastItem:eq.has(t.id),status:n.isBranch?g.folders[t.id].status:"idle",onMultiSelect:tp,onSelectCreate:()=>{if(x&&h){let e=(0,ei.wI)({id:(0,eB.Z)(),name:eI.$C,owner_id:null==x?void 0:x.id,project_id:null==h?void 0:h.id,folder_id:t.id,sql:""});g.addSnippet({projectRef:h.ref,snippet:e}),f.push("/project/".concat(y,"/sql/").concat(e.id))}},onSelectDelete:()=>{n.isBranch?el(t.metadata):(C(!0),0===O.length&&U([t.metadata]))},onSelectRename:()=>{n.isBranch?g.editFolder(t.id):(q(!0),en(t.metadata))},onSelectMove:()=>{N(!0),0===O.length&&U([t.metadata])},onSelectDownload:()=>er(t.metadata),onSelectShare:()=>X(t.metadata),onEditSave:e=>{0===e.length&&"new-folder"===t.id?g.removeFolder(t.id):e.length>0&&g.saveFolder({id:t.id,name:e})},hasNextPage:eh,fetchNextPage:ey,isFetchingNextPage:ev,sort:l,name:p,onFolderContentsChange:e=>{let{isLoading:n,snippets:a}=e;ej(e=>({...e,[t.id]:{snippets:a,isLoading:n}}))}})}})})]}),(0,a.jsx)(eV.Z,{"data-sentry-element":"Separator","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(eP,{snippet:et,visible:L,onCancel:()=>q(!1),onComplete:()=>q(!1),"data-sentry-element":"RenameQueryModal","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(eb,{snippets:O,visible:b,onClose:()=>{N(!1),U([])},"data-sentry-element":"MoveQueryModal","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(eo,{id:null!==(i=null==ea?void 0:ea.id)&&void 0!==i?i:"",visible:void 0!==ea,onCancel:()=>er(void 0),"data-sentry-element":"DownloadSnippetModal","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)(_.Z,{size:"medium",loading:ta,title:"Confirm to share query: ".concat(null==J?void 0:J.name),confirmLabel:"Share query",confirmLabelLoading:"Sharing query",visible:void 0!==J,onCancel:()=>X(void 0),onConfirm:()=>td("share"),alert:{title:"This SQL query will become public to all team members",description:"Anyone with access to the project can view it"},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"SQLEditorNav.tsx",children:(0,a.jsxs)("ul",{className:"text-sm text-foreground-light space-y-5",children:[(0,a.jsxs)("li",{className:"flex gap-3 items-center",children:[(0,a.jsx)(W.Z,{size:16,"data-sentry-element":"Eye","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)("span",{children:"Project members will have read-only access to this query."})]}),(0,a.jsxs)("li",{className:"flex gap-3 items-center",children:[(0,a.jsx)(Y.Z,{size:16,"data-sentry-element":"Unlock","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)("span",{children:"Anyone will be able to duplicate it to their personal snippets."})]})]})}),(0,a.jsx)(_.Z,{size:"medium",title:"Confirm to unshare query: ".concat(null==H?void 0:H.name),confirmLabel:"Unshare query",confirmLabelLoading:"Unsharing query",visible:void 0!==H,onCancel:()=>ee(void 0),onConfirm:()=>td("unshare"),alert:{title:"This SQL query will no longer be public to all team members",description:"Only you will have access to this query"},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"SQLEditorNav.tsx",children:(0,a.jsx)("ul",{className:"text-sm text-foreground-light space-y-5",children:(0,a.jsxs)("li",{className:"flex gap-3",children:[(0,a.jsx)(K.Z,{"data-sentry-element":"EyeOffIcon","data-sentry-source-file":"SQLEditorNav.tsx"}),(0,a.jsx)("span",{children:"Project members will no longer be able to view this query."})]})})}),(0,a.jsx)(_.Z,{size:"small",title:"Confirm to delete ".concat(1===O.length?"query":"".concat(O.length.toLocaleString()," quer").concat(O.length>1?"ies":"y")),confirmLabel:"Delete ".concat(O.length.toLocaleString()," quer").concat(O.length>1?"ies":"y"),confirmLabelLoading:"Deleting query",loading:ts,visible:M,variant:"destructive",onCancel:()=>{C(!1),U([])},onConfirm:()=>{if(!y)return console.error("Project ref is required");tr({projectRef:y,ids:O.map(e=>e.id)},{onSuccess:e=>{d.Am.success("Successfully deleted ".concat(O.length.toLocaleString()," quer").concat(O.length>1?"ies":"y")),tl(e)}})},alert:(null===(n=O[0])||void 0===n?void 0:n.visibility)==="project"?{title:"This SQL snippet will be lost forever",description:"Deleting this query will remove it for all members of the project team."}:void 0,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"SQLEditorNav.tsx",children:(0,a.jsxs)("p",{className:"text-sm",children:["This action cannot be undone."," ",1===O.length?"Are you sure you want to delete '".concat(null===(s=O[0])||void 0===s?void 0:s.name,"'?"):"Are you sure you want to delete the selected ".concat(O.length," quer").concat(O.length>1?"ies":"y","?")]})}),(0,a.jsx)(_.Z,{size:"small",title:"Confirm to delete folder",confirmLabel:"Delete folder",confirmLabelLoading:"Deleting folder",loading:to,visible:void 0!==es,variant:"destructive",onCancel:()=>el(void 0),onConfirm:tu,alert:{title:"This action cannot be undone",description:"All SQL snippets within the folder will be permanently removed, and cannot be recovered."},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"SQLEditorNav.tsx",children:(0,a.jsxs)("p",{className:"text-sm",children:["Are you sure you want to delete the folder '",null==es?void 0:es.name,"'?"]})})]})};var tn=n(36421);let ta=e=>{let{onViewOngoingQueries:t}=e,n=(0,z.useRouter)(),{profile:s}=(0,T.Un)(),i=(0,w.Vm)(),{ref:o}=(0,R.UO)(),l=(0,B.B0)(),[c,u]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[f,x]=(0,tn._)("sql-editor-sort","inserted_at"),h=(0,O.Xo)(Z.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==s?void 0:s.id},subject:{id:null==s?void 0:s.id}}),y=()=>{if(!o)return console.error("Project ref is required");l.addNewFolder({projectRef:o})},v=async()=>{if(!o)return console.error("Project ref is required");if(!i)return console.error("Project is required");if(!s)return console.error("Profile is required");if(!h)return(0,d.Am)("Your queries will not be saved as you do not have sufficient permissions");try{n.push("/project/".concat(o,"/sql/new?skip=true")),u("")}catch(e){d.Am.error("Failed to create new query: ".concat(e.message))}};return(0,a.jsxs)("div",{className:"h-full flex flex-col justify-between","data-sentry-component":"SQLEditorMenu","data-sentry-source-file":"SQLEditorMenu.tsx",children:[(0,a.jsxs)("div",{className:"mt-4 mb-2 flex flex-col gap-y-4",children:[(0,a.jsxs)("div",{className:"mx-4 flex items-center justify-between gap-x-2",children:[(0,a.jsx)(V.nM,{className:"w-full p-0 gap-0","data-sentry-element":"InnerSideBarFilters","data-sentry-source-file":"SQLEditorMenu.tsx",children:(0,a.jsx)(V.nn,{name:"search-queries",placeholder:"Search queries...","aria-labelledby":"Search queries",value:c,onChange:e=>u(e.target.value),isLoading:p,"data-sentry-element":"InnerSideBarFilterSearchInput","data-sentry-source-file":"SQLEditorMenu.tsx",children:(0,a.jsxs)(V.ZY,{value:f,onValueChange:e=>x(e),"data-sentry-element":"InnerSideBarFilterSortDropdown","data-sentry-source-file":"SQLEditorMenu.tsx",children:[(0,a.jsx)(V.IR,{value:"name","data-sentry-element":"InnerSideBarFilterSortDropdownItem","data-sentry-source-file":"SQLEditorMenu.tsx",children:"Alphabetical"},"name"),(0,a.jsx)(V.IR,{value:"inserted_at","data-sentry-element":"InnerSideBarFilterSortDropdownItem","data-sentry-source-file":"SQLEditorMenu.tsx",children:"Created At"},"inserted_at")]})})}),(0,a.jsxs)(U.h_,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"SQLEditorMenu.tsx",children:[(0,a.jsx)(U.$F,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"SQLEditorMenu.tsx",children:(0,a.jsx)(L.z,{type:"default",icon:(0,a.jsx)(k.Z,{className:"text-foreground"}),className:"w-[26px]","data-sentry-element":"Button","data-sentry-source-file":"SQLEditorMenu.tsx"})}),(0,a.jsxs)(U.AW,{align:"end",side:"bottom",className:"w-48","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"SQLEditorMenu.tsx",children:[(0,a.jsxs)(U.Xi,{className:"gap-x-2",onClick:()=>v(),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"SQLEditorMenu.tsx",children:[(0,a.jsx)(F.Z,{size:14,"data-sentry-element":"FilePlus","data-sentry-source-file":"SQLEditorMenu.tsx"}),"Create a new snippet"]}),(0,a.jsxs)(U.Xi,{className:"gap-x-2",onClick:()=>y(),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"SQLEditorMenu.tsx",children:[(0,a.jsx)(A.Z,{size:14,"data-sentry-element":"FolderPlus","data-sentry-source-file":"SQLEditorMenu.tsx"}),"Create a new folder"]})]})]})]}),(0,a.jsxs)("div",{className:"px-2",children:[(0,a.jsx)(V.DS,{title:"Templates",isActive:n.asPath==="/project/".concat(o,"/sql/templates"),href:"/project/".concat(o,"/sql/templates"),"data-sentry-element":"InnerSideMenuItem","data-sentry-source-file":"SQLEditorMenu.tsx",children:"Templates"}),(0,a.jsx)(V.DS,{title:"Quickstarts",isActive:n.asPath==="/project/".concat(o,"/sql/quickstarts"),href:"/project/".concat(o,"/sql/quickstarts"),"data-sentry-element":"InnerSideMenuItem","data-sentry-source-file":"SQLEditorMenu.tsx",children:"Quickstarts"})]}),(0,a.jsx)(tt,{searchText:c,sort:f,setIsSearching:m,"data-sentry-element":"SQLEditorNavV2","data-sentry-source-file":"SQLEditorMenu.tsx"})]}),(0,a.jsx)("div",{className:"p-4 border-t sticky bottom-0 bg-studio",children:(0,a.jsx)(L.z,{block:!0,type:"default",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"SQLEditorMenu.tsx",children:"View running queries"})})]})};var tr=(0,I.Q)(e=>{let{title:t,children:n}=e,{viewOngoingQueries:s}=(0,R.UO)(),[i,o]=(0,r.useState)(!1),l=(0,r.useMemo)(()=>(0,a.jsx)(ta,{onViewOngoingQueries:()=>o(!0)},"sql-editor-menu"),[]);return(0,r.useEffect)(()=>{"true"===s&&o(!0)},[s]),(0,a.jsxs)(D.Z,{title:t||"SQL",product:"SQL Editor",productMenu:l,isBlocking:!1,resizableSidebar:!0,"data-sentry-element":"ProjectLayout","data-sentry-component":"SQLEditorLayout","data-sentry-source-file":"SQLEditorLayout.tsx",children:[n,(0,a.jsx)(P,{visible:i,onClose:()=>o(!1),"data-sentry-element":"OngoingQueriesPanel","data-sentry-source-file":"SQLEditorLayout.tsx"})]})})},24078:function(e,t,n){n.d(t,{O:function(){return s}});var a=n(97458),r=n(5546);function s(e){let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...n,"data-sentry-component":"Skeleton","data-sentry-source-file":"skeleton.tsx"})}}}]);